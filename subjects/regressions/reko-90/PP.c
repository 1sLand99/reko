// PP.c
// Generated by decompiling PP.EXE
// using Reko decompiler version 0.6.1.0.

#include "PP.h"

void fn0800_0150(byte al)
{
	fn0800_01E6(al, 10004, 10004, Mem0[0x0800:0x025A:selector]);
	return;
}

void fn0800_0163()
{
	return;
}

void fn0800_0164(byte al, byte bArg02)
{
	msdos_terminate(bArg02);
}

byte fn0800_01B9(selector ds, ptr16 & dlOut)
{
	msdos_set_interrupt_vector(0x00, Mem0[ds:0x5B:segptr32]);
	msdos_set_interrupt_vector(0x04, Mem0[ds:0x5F:segptr32]);
	msdos_set_interrupt_vector(0x05, Mem0[ds:99:segptr32]);
	ptr32 ds_dx_30 = Mem0[ds:0x67:segptr32];
	msdos_set_interrupt_vector(0x06, ds_dx_30);
	*dlOut = (byte) ds_dx_30;
	return 0x06;
}

void fn0800_01E6(byte al, word16 si, word16 di, selector es)
{
	while (true)
	{
		byte ah_116;
		if (si != 9980)
		{
			ah_116 = 0x00;
			SZO = cond(0x00);
			C = false;
		}
		else
			ah_116 = ~0x00;
		word16 dx_34 = di;
		word16 bx_35 = si;
		while (bx_35 != di)
		{
			if (Mem0[es:bx_35 + 0x00:byte] != ~0x00)
			{
				if (si != 9980)
				{
					byte SCZO_64 = cond(ah_116 - Mem0[es:bx_35 + 0x01:byte]);
					SZO = SCZO_64;
					C = SCZO_64;
					CZ = SCZO_64;
				}
				else
				{
					byte SCZO_69 = cond(Mem0[es:bx_35 + 0x01:byte] - ah_116);
					SZO = SCZO_69;
					C = SCZO_69;
					CZ = SCZO_69;
				}
				if (!CZ)
				{
					ah_116 = Mem0[es:bx_35 + 0x01:byte];
					dx_34 = bx_35;
				}
			}
			bx_35 = bx_35 + 0x06;
		}
		if (dx_34 == di)
			break;
		byte SCZO_77 = cond(Mem0[es:dx_34 + 0x00:byte]);
		Mem79[es:dx_34 + 0x00:byte] = ~0x00;
		if (Mem0[es:dx_34 + 0x00:byte] != 0x00)
			Mem79[es:dx_34 + 0x02:ptr32]();
		else
			SEQ(cs, Mem79[es:dx_34 + 0x02:word16])();
	}
	return;
}

void main(word16 bp, selector ds)
{
main_entry:
	Mem12[ds:0x2A27:word16] = 0x01
	Mem14[ds:11853:word16] = 0x00
	Mem15[ds:0x2A1F:word16] = 0x00
	Mem16[ds:11855:word16] = 0x00
	Mem17[ds:10781:word16] = 0x00
	Mem18[ds:10775:word16] = 0x00
	Mem19[ds:10779:word16] = 0x00
	Mem20[ds:0x2A11:word16] = 0x00
	Mem21[ds:0x2A0F:word16] = 0x00
	Mem22[ds:0x2A0D:word16] = 0x00
	Mem23[ds:0x2A0B:word16] = 0x3000
	Mem24[ds:11825:word16] = 0x8000
	Mem25[ds:0x2E2F:word16] = 0x1000
	Mem26[ds:0x2A21:word16] = 0x01
	Mem27[ds:10741:word16] = 0x00
	Mem28[ds:0x29F3:word16] = 0x00
	Mem29[ds:10737:word16] = 0x00
	Mem30[ds:0x29EF:word16] = 0x00
	Mem31[ds:10771:word16] = 0x00
	Mem32[ds:0x2A23:word16] = 0x01
	fn0800_2C9A(ds)
	word16 di_43
	word16 si_277 = fn0800_B2EF(ds, 2024, ds, out di_43)
	selector ds_47
	word16 bp_263 = fn0800_0402(fp - 0x02, si_277, ds, out ds_47)
	selector ds_49
	byte dl_50 = fn0800_0541(bp_263, ds_47, out ds_49)
	Mem55[ss:fp - 0x0A + 0x00:word16] = 0x01
	Mem58[ss:fp - 0x0C + 0x00:word16] = 0x01
	fn0800_2DBF(ds_49, wArg00, wArg02)
	Mem66[ss:fp - 0x0A + 0x00:word16] = 0x00
	Mem68[ss:fp - 0x0C + 0x00:word16] = 0x00
	word16 dx_266 = DPB(dx, dl_50, 0)
	word16 di_71
	byte dl_265
	selector ds_264
	word16 ax_73 = fn0800_9764(dl_50, ds_49, ptrArg00, wArg02, out dl_265, out di_71, out ds_264)
	Mem76[ss:bp_263 - 0x02 + 0x00:word16] = dx_266
	Mem77[ss:bp_263 - 0x04 + 0x00:word16] = ax_73
	word16 bx_78 = Mem77[ds_264:0x2A25:word16]
	branch bx_78 >u 0x08 l0800_0338
	goto l0800_031A
l0800_025E:
l0800_031A:
	switch (bx_78 << 0x01) { l0800_0321 l0800_0330 l0800_0330 l0800_0326 l0800_0326 l0800_032B l0800_0335 l0800_0335 l0800_0335 }
l0800_0321:
	dl_265 = fn0800_0DE8(bp_263, si_277, ds_264, out bp_263, out ds_264)
	dx_266 = DPB(dx, dl_265, 0) (alias)
	goto l0800_0338
l0800_0326:
	dl_265 = fn0800_12E2(bp_263, ds_264, out ds_264)
	dx_266 = DPB(dx, dl_265, 0) (alias)
	goto l0800_0338
l0800_032B:
	dl_265 = fn0800_18D9(bp_263, ds_264, out si_277, out ds_264)
	dx_266 = DPB(dx, dl_265, 0) (alias)
	goto l0800_0338
l0800_0330:
	dl_265 = fn0800_112D(bp_263, si_277, ds_264, out bp_263, out ds_264)
	dx_266 = DPB(dx, dl_265, 0) (alias)
	goto l0800_0338
l0800_0335:
	dl_265 = fn0800_19EE(bp_263, ds_264, out ds_264)
	dx_266 = DPB(dx, dl_265, 0) (alias)
l0800_0338:
	Mem90[ss:fp - 0x0A + 0x00:word16] = 0x00
	Mem92[ss:fp - 0x0C + 0x00:word16] = 0x00
	byte dl_93
	word16 di_94
	selector ds_95
	word16 ax_98 = fn0800_9764(dl_265, ds_264, ptrArg00, wArg02, out dl_93, out di_94, out ds_95) - Mem92[ss:(bp_263 - 0x04) + 0x00:word16]
	Mem103[ss:bp_263 - 0x02 + 0x00:word16] = dx_266 - Mem92[ss:(bp_263 - 0x02) + 0x00:word16] - (ax_98 <u 0x00)
	Mem104[ss:bp_263 - 0x04 + 0x00:word16] = ax_98
	Mem106[ss:fp - 0x0A + 0x00:word16] = Mem104[ds_95:10737:word16]
	Mem108[ss:fp - 0x0C + 0x00:word16] = Mem106[ds_95:0x29EF:word16]
	Mem110[ss:fp - 0x0E + 0x00:word16] = Mem108[ds_95:10741:word16]
	Mem112[ss:fp - 0x10 + 0x00:word16] = Mem110[ds_95:0x29F3:word16]
	word16 di_115
	word16 ax_116 = fn0800_0B79(bp_263, si_277, di_94, wArg00, wArg02, wArg04, wArg06, out di_115)
	Mem124[ss:fp - 0x0A + 0x00:word16] = 0x00
	Mem126[ss:fp - 0x0C + 0x00:word16] = 0x3C
	Mem128[ss:fp - 0x0E + 0x00:word16] = Mem126[ss:bp_263 - 0x02 + 0x00:word16]
	Mem130[ss:fp - 0x10 + 0x00:word16] = Mem128[ss:bp_263 - 0x04 + 0x00:word16]
	word16 dx_131
	word16 bp_132
	word16 si_133
	word16 di_134
	word16 ax_135 = fn0800_8BCA(bp_263, ax_116, di_115, bp, out dx_131, out bp_132, out si_133, out di_134)
	Mem137[ss:fp - 0x12 + 0x00:word16] = dx_131
	Mem139[ss:fp - 0x14 + 0x00:word16] = ax_135
	Mem145[ss:fp - 22 + 0x00:word16] = 0x00
	Mem147[ss:fp - 0x18 + 0x00:word16] = 0x3C
	Mem150[ss:fp - 0x1A + 0x00:word16] = 0x00
	Mem152[ss:fp - 0x1C + 0x00:word16] = 0x0E10
	Mem154[ss:fp - 0x1E + 0x00:word16] = Mem152[ss:bp_132 - 0x02 + 0x00:word16]
	Mem156[ss:fp - 0x20 + 0x00:word16] = Mem154[ss:bp_132 - 0x04 + 0x00:word16]
	word16 dx_157
	word16 bp_158
	word16 si_159
	word16 di_160
	word16 ax_161 = fn0800_8BCA(bp_132, si_133, di_134, bp, out dx_157, out bp_158, out si_159, out di_160)
	Mem163[ss:fp - 0x22 + 0x00:word16] = dx_157
	Mem165[ss:fp - 0x24 + 0x00:word16] = ax_161
	word16 dx_166
	word16 bp_167
	word16 si_168
	word16 di_169
	word16 ax_170 = fn0800_8BBB(bp_158, si_159, di_160, bp, out dx_166, out bp_167, out si_168, out di_169)
	Mem172[ss:fp - 0x26 + 0x00:word16] = dx_166
	Mem174[ss:fp - 0x28 + 0x00:word16] = ax_170
	Mem180[ss:fp - 0x2A + 0x00:word16] = 0x00
	Mem182[ss:fp - 44 + 0x00:word16] = 0x0E10
	Mem185[ss:fp - 0x2E + 0x00:word16] = 0x00
	Mem187[ss:fp - 0x30 + 0x00:word16] = 0x5180
	Mem189[ss:fp - 0x32 + 0x00:word16] = Mem187[ss:bp_167 - 0x02 + 0x00:word16]
	Mem191[ss:fp - 0x34 + 0x00:word16] = Mem189[ss:bp_167 - 0x04 + 0x00:word16]
	word16 dx_192
	word16 bp_193
	word16 si_194
	word16 di_195
	word16 ax_196 = fn0800_8BCA(bp_167, si_168, di_169, bp, out dx_192, out bp_193, out si_194, out di_195)
	Mem198[ss:fp - 0x36 + 0x00:word16] = dx_192
	Mem200[ss:fp - 0x38 + 0x00:word16] = ax_196
	word16 dx_201
	word16 bp_202
	word16 si_203
	word16 di_204
	word16 ax_205 = fn0800_8BBB(bp_193, si_194, di_195, bp, out dx_201, out bp_202, out si_203, out di_204)
	Mem207[ss:fp - 0x3A + 0x00:word16] = dx_201
	Mem209[ss:fp - 0x3C + 0x00:word16] = ax_205
	Mem218[ss:fp - 0x3E + 0x00:word16] = SEQ(0x00, si_203) % 100
	Mem227[ss:fp - 0x40 + 0x00:word16] = SEQ(SEQ(0x00, si_203) % 100, si_203) /u 100
	Mem229[ss:fp - 66 + 0x00:word16] = Mem227[ds_95:10737:word16]
	Mem231[ss:fp - 0x44 + 0x00:word16] = Mem229[ds_95:0x29EF:word16]
	Mem233[ss:fp - 0x46 + 0x00:word16] = Mem231[ds_95:10741:word16]
	Mem235[ss:fp - 0x48 + 0x00:word16] = Mem233[ds_95:0x29F3:word16]
	Mem237[ss:fp - 0x4A + 0x00:word16] = ds_95
	Mem240[ss:fp - 0x4C + 0x00:word16] = 1500
	Mem243[ss:fp - 0x4E + 0x00:word16] = 0x08
	Mem245[ss:fp - 0x50 + 0x00:word16] = Mem243[ds_95:10771:word16]
	Mem247[ss:fp - 0x52 + 0x00:word16] = ds_95
	Mem250[ss:fp - 0x54 + 0x00:word16] = 2027
	word16 di_251
	fn0800_B2EF(ds_95, wArg00, wArg02, out di_251)
	return
main_exit:
}

word16 fn0800_0402(word16 bp, word16 si, selector ds, ptr16 & dsOut)
{
	*dsOut = ds;
	if (Mem0[ds:0x2A27:word16] == Mem0[ds:9882:word16])
	{
		word16 si_367;
		bp = fn0800_0DCE(ds, out si_367, out ds);
	}
	ptr32 es_bx_21 = Mem0[ds:9884:segptr32];
	selector es_23 = SLICE(es_bx_21, selector, 16);
	word16 bx_24 = (word16) es_bx_21 + (Mem0[ds:0x2A27:word16] << 0x02);
	Mem27[ss:fp - 0x06 + 0x00:word16] = Mem0[es_23:bx_24 + 0x02:word16];
	Mem30[ss:fp - 0x08 + 0x00:word16] = Mem27[es_23:bx_24 + 0x00:word16];
	word16 sp_34 = fp - 0x04;
	if (fn0800_BFC7(ptrArg00, wArg02) >u 0x01)
	{
		ptr32 es_bx_349 = Mem30[ds:9884:segptr32];
		selector es_351 = SLICE(es_bx_349, selector, 16);
		word16 bx_352 = (word16) es_bx_349 + (Mem30[ds:0x2A27:word16] << 0x02);
		Mem355[ss:fp - 0x06 + 0x00:word16] = Mem30[es_351:bx_352 + 0x02:word16];
		Mem357[ss:fp - 0x08 + 0x00:word16] = Mem355[es_351:bx_352 + 0x00:word16];
		Mem360[ss:fp - 0x0A + 0x00:word16] = 0x01;
		word16 si_361;
		word16 di_362;
		fn0800_0D24(bp, ds, out si_361, out di_362, out ds);
		sp_34 = fp - 0x04;
	}
	word16 ax_41 = Mem30[ds:0x2A27:word16];
	word16 sp_53 = sp_34 - 0x02;
	Mem54[ss:sp_53 + 0x00:word16] = DPB(ax_41 << 0x02, Mem0[Mem0[SEQ(ds, (word16) Mem30[ds:9884:segptr32])[ax_41 * 0x04] + 0x00:byte] + 0x00:byte], 0);
	Mem56[ss:sp_53 - 0x02 + 0x00:word16] = ds;
	Mem59[ss:sp_53 - 0x04 + 0x00:word16] = 0x0829;
	byte dl_62;
	word16 ax_63 = fn0800_0C29(ds, wArg00, wArg02, bArg04, out dl_62);
	Mem65[ds:0x2A25:word16] = ax_63;
	word16 sp_344 = sp_53 + 0x02;
	if (ax_63 >= 0x09)
	{
		ptr32 es_bx_328 = Mem65[ds:9884:segptr32];
		selector es_330 = SLICE(es_bx_328, selector, 16);
		word16 bx_331 = (word16) es_bx_328 + (Mem65[ds:0x2A27:word16] << 0x02);
		Mem334[ss:sp_53 + 0x00:word16] = Mem65[es_330:bx_331 + 0x02:word16];
		Mem336[ss:sp_53 - 0x02 + 0x00:word16] = Mem334[es_330:bx_331 + 0x00:word16];
		Mem339[ss:sp_53 - 0x04 + 0x00:word16] = 0x01;
		word16 si_340;
		word16 di_341;
		fn0800_0D24(bp, ds, out si_340, out di_341, out ds);
		sp_344 = sp_53 + 0x02;
	}
	Mem78[ds:0x2A27:word16] = Mem65[ds:0x2A27:word16] + 0x01;
	if (Mem78[ds:0x2A25:word16] > 0x02)
	{
		if (Mem78[ds:0x2A27:word16] == Mem78[ds:9882:word16])
		{
			word16 si_322;
			bp = fn0800_0DCE(ds, out si_322, out ds);
		}
		word16 ax_112 = Mem78[ds:0x2A27:word16];
		Mem114[ds:0x2A27:word16] = Mem78[ds:0x2A27:word16] + 0x01;
		ptr32 es_bx_117 = Mem114[ds:9884:segptr32];
		selector es_119 = SLICE(es_bx_117, selector, 16);
		word16 bx_120 = (word16) es_bx_117 + (ax_112 << 0x02);
		word16 sp_122 = sp_344 - 0x02;
		Mem123[ss:sp_122 + 0x00:word16] = Mem114[es_119:bx_120 + 0x02:word16];
		Mem125[ss:sp_122 - 0x02 + 0x00:word16] = Mem123[es_119:bx_120 + 0x00:word16];
		Mem127[ss:sp_122 - 0x04 + 0x00:word16] = ds;
		Mem130[ss:sp_122 - 0x06 + 0x00:word16] = 0x4348;
		fn0800_BF9E(ptrArg00, wArg02, ptrArg04);
		Mem135[ss:sp_122 + 0x00:word16] = ds;
		Mem138[ss:sp_122 - 0x02 + 0x00:word16] = 0x4348;
		fn0800_0C6C(ds, ptrArg00);
		Mem142[ss:sp_122 + 0x00:word16] = ds;
		selector es_143 = Mem142[ss:sp_122 + 0x00:selector];
		word16 di_146 = 0x4348;
		word16 cx_151 = ~0x00;
		if (cx_151 != 0x00)
		{
			di_146 = di_146 + 0x01;
			cx_151 = cx_151 - 0x01;
			if (0x00 != Mem142[es_143:di_146 + 0x00:byte])
				goto l0800_04E4;
		}
		word16 di_160 = di_146 - 0x01;
		word16 cx_158 = ~cx_151;
		byte Z_165 = cond(di_160);
		if (cx_158 != 0x00)
		{
			Z_165 = cond(0x2E - Mem142[es_143:di_160 + 0x00:byte]);
			di_160 = di_160 - 0x01;
			cx_158 = cx_158 - 0x01;
			if (0x2E != Mem142[es_143:di_160 + 0x00:byte])
				goto l0800_04ED;
		}
		if (!Z_165)
			di_160 = ~0x00;
		Mem189[ss:sp_122 + 0x00:word16] = ds;
		selector es_190 = Mem189[ss:sp_122 + 0x00:selector];
		Mem194[ss:sp_122 + 0x00:word16] = di_160 + 0x01;
		word16 di_195 = 0x4348;
		word16 cx_200 = ~0x00;
		if (cx_200 != 0x00)
		{
			di_195 = di_195 + 0x01;
			cx_200 = cx_200 - 0x01;
			if (0x00 != Mem194[es_190:di_195 + 0x00:byte])
				goto l0800_0507;
		}
		word16 cx_207 = ~cx_200;
		word16 di_209 = di_195 - cx_207;
		byte Z_211 = cond(di_209);
		if (cx_207 != 0x00)
		{
			Z_211 = cond(0x5C - Mem194[es_190:di_209 + 0x00:byte]);
			di_209 = di_209 + 0x01;
			cx_207 = cx_207 - 0x01;
			if (0x5C != Mem194[es_190:di_209 + 0x00:byte])
				goto l0800_0510;
		}
		if (!Z_211)
			di_209 = 0x01;
		if (Mem194[ss:sp_122 + 0x00:word16] <=u di_209 - 0x01)
		{
			Mem255[ss:sp_122 + 0x00:word16] = ds;
			selector es_256 = Mem255[ss:sp_122 + 0x00:selector];
			word16 di_259 = 0x4348;
			word16 si_260 = 0x0833;
			word16 cx_261 = ~0x00;
			if (cx_261 != 0x00)
			{
				di_259 = di_259 + 0x01;
				cx_261 = cx_261 - 0x01;
				if (0x00 != Mem255[es_256:di_259 + 0x00:byte])
					goto l0800_0530;
			}
			word16 di_273 = di_259 - 0x01;
			word16 cx_275 = 0x05;
			while (cx_275 != 0x00)
			{
				Mem280[es_256:di_273 + 0x00:byte] = Mem255[ds:si_260 + 0x00:byte];
				si_260 = si_260 + 0x01;
				di_273 = di_273 + 0x01;
				cx_275 = cx_275 - 0x01;
			}
		}
		Mem253[ds:10777:word16] = 0x01;
	}
	return bp;
}

byte fn0800_0541(word16 bp, selector ds, ptr16 & dsOut)
{
fn0800_0541_entry:
	*dsOut = ds
	word16 bp_160 = fp - 0x02
	word16 sp_11 = fp - 0x0A
	word16 ax_16 = Mem0[ds:0x2A27:word16]
	branch ax_16 != Mem0[ds:9882:word16] l0800_0555
	goto l0800_0987
l0800_0541:
l0800_0555:
	branch Mem0[Mem0[SEQ(ds, (word16) Mem0[ds:9884:segptr32])[ax_16 * 0x04] + 0x00:byte] + 0x00:byte] != 0x2D l0800_056B
l0800_0568:
	di_144 = di
	goto l0800_086D
l0800_056B:
	branch Mem0[Mem0[SEQ(ds, (word16) Mem0[ds:9884:segptr32])[Mem0[ds:0x2A27:word16] * 0x04] + 0x00:byte] + 0x00:byte] != 0x2F l0800_0584
l0800_0581:
	di_144 = di
	goto l0800_086D
l0800_0584:
	return dl
l0800_058A:
	word16 ax_109 = Mem0[ds:0x2A27:word16]
	ptr32 es_bx_116 = SEQ(ds, (word16) Mem0[ds:9884:segptr32])[ax_109 * 0x04]
	byte al_119 = Mem0[es_bx_116 + 0x01:byte]
	word16 sp_121 = sp_11 - 0x02
	Mem122[ss:sp_121 + 0x00:word16] = DPB(ax_109 << 0x02, al_119, 0)
	Mem124[ss:sp_121 - 0x02 + 0x00:word16] = ds
	Mem127[ss:sp_121 - 0x04 + 0x00:word16] = 0x0838
	word16 ax_132 = fn0800_0C29(ds, wArg00, wArg02, bArg04, out dl)
	selector es_118 = SLICE(es_bx_116, selector, 16)
	sp_11 = sp_121 + 0x02
	word16 si_134 = ax_132
	branch ax_132 < 11 l0800_05CF
l0800_05B1:
	ptr32 es_bx_278 = Mem127[ds:9884:segptr32]
	es_118 = SLICE(es_bx_278, selector, 16) (alias)
	word16 bx_281 = (word16) es_bx_278 + (Mem127[ds:0x2A27:word16] << 0x02)
	Mem284[ss:sp_121 + 0x00:word16] = Mem127[es_118:bx_281 + 0x02:word16]
	Mem286[ss:sp_121 - 0x02 + 0x00:word16] = Mem284[es_118:bx_281 + 0x00:word16]
	Mem289[ss:sp_121 - 0x04 + 0x00:word16] = 0x02
	dl = fn0800_0D24(bp_160, ds, out si_134, out di_144, out ds)
	ax_132 = 0x02
	dx = DPB(dx, dl, 0) (alias)
	sp_11 = sp_121 + 0x02
l0800_05CF:
	byte SCZO_147 = cond(si_134 - 0x06)
	branch si_134 < 0x06 l0800_05D7
	goto l0800_0659
l0800_05D7:
	ptr32 es_bx_193 = Mem127[ds:9884:segptr32]
	selector es_195 = SLICE(es_bx_193, selector, 16)
	word16 bx_196 = (word16) es_bx_193 + (Mem127[ds:0x2A27:word16] << 0x02)
	word16 sp_198 = sp_11 - 0x02
	Mem199[ss:sp_198 + 0x00:word16] = Mem127[es_195:bx_196 + 0x02:word16]
	Mem201[ss:sp_198 - 0x02 + 0x00:word16] = Mem199[es_195:bx_196 + 0x00:word16]
	sp_11 = sp_198 + 0x02
	branch fn0800_BFC7(ptrArg00, wArg02) != 0x02 l0800_0622
l0800_05F6:
	Mem238[ds:0x2A27:word16] = Mem201[ds:0x2A27:word16] + 0x01
	branch Mem238[ds:0x2A27:word16] != Mem238[ds:9882:word16] l0800_0606
l0800_0603:
	bp_160 = fn0800_0DCE(ds, out si_134, out ds)
l0800_0606:
	ptr32 es_bx_248 = Mem238[ds:9884:segptr32]
	selector es_250 = SLICE(es_bx_248, selector, 16)
	word16 bx_251 = (word16) es_bx_248 + (Mem238[ds:0x2A27:word16] << 0x02)
	dx = Mem238[es_250:bx_251 + 0x00:word16]
	Mem256[ss:bp_160 - 0x02 + 0x00:word16] = Mem238[es_250:bx_251 + 0x02:word16]
	Mem257[ss:bp_160 - 0x04 + 0x00:word16] = dx
	dl = (byte) dx (alias)
	goto l0800_063F
l0800_0622:
	ptr32 es_bx_264 = Mem201[ds:9884:segptr32]
	selector es_266 = SLICE(es_bx_264, selector, 16)
	word16 bx_267 = (word16) es_bx_264 + (Mem201[ds:0x2A27:word16] << 0x02)
	word16 dx_269 = Mem201[es_266:bx_267 + 0x00:word16]
	Mem273[ss:bp_160 - 0x02 + 0x00:word16] = Mem201[es_266:bx_267 + 0x02:word16]
	Mem274[ss:bp_160 - 0x04 + 0x00:word16] = dx_269 + 0x02
	dx = dx_269 + 0x02
	dl = (byte) (dx_269 + 0x02) (alias)
l0800_063F:
	ptr32 es_bx_213 = Mem201[ss:bp_160 - 0x04 + 0x00:segptr32]
	al_119 = Mem0[Mem0[es_bx_213 + 0x00:byte] + 0x00:byte]
	word16 ax_217 = (int16) al_119
	SZO = cond(ax_217)
	es_118 = SLICE(es_bx_213, selector, 16) (alias)
	ax_132 = ax_217
	Z_107 = SZO (alias)
	C = false
	branch ax_217 != 0x00 l0800_0659
l0800_064A:
	Mem223[ss:sp_198 + 0x00:word16] = ds
	Mem226[ss:sp_198 - 0x02 + 0x00:word16] = 1500
	Mem229[ss:sp_198 - 0x04 + 0x00:word16] = 0x02
	dl = fn0800_0D24(bp_160, ds, out si_134, out di_144, out ds)
	ax_132 = 0x02
	dx = DPB(dx, dl, 0) (alias)
	sp_11 = sp_198 + 0x02
l0800_0659:
	byte SCZO_164 = cond(si_134 - 0x0A)
	branch si_134 <=u 0x0A l0800_0663
l0800_0660:
	word16 v21_166 = Mem127[ds:0x2A27:word16] + 0x01
	Mem167[ds:0x2A27:word16] = v21_166
	SZO = cond(v21_166)
	goto l0800_086D
l0800_0663:
	word16 bx_169 = si_134 << 0x01
	byte dl_189
	call Mem127[0x0800:bx_169 + 2445:word16] (retsize: 4; depth: 4)
		uses: al_152,ax_156,bp,bp_160,bx_169,C_151,cond(bx_169),cx,di,di_158,dl_149,ds_155,dx_150,es_153,SCZO_147,SCZO_164,si,si_159,sp_161,ss,SZO_157,Z_154
		defs: al_182,ax_177,bp_172,bx_180,C_186,cx_187,CZ_184,di_176,dl_189,ds_178,dx_188,es_181,SCZO_174,si_175,SO_183,sp_171,ss_173,SZO_185,Z_179
	return dl_189
l0800_0869:
l0800_086D:
	word16 di_144
	ptr32 es_bx_103 = SEQ(ds, (word16) Mem0[ds:9884:segptr32])[Mem0[ds:0x2A27:word16] * 0x04]
	byte Z_107 = cond(Mem0[Mem0[es_bx_103 + 0x00:byte] + 0x00:byte] - 0x2D)
	branch Mem0[Mem0[es_bx_103 + 0x00:byte] + 0x00:byte] != 0x2D l0800_0886
	goto l0800_058A
l0800_0886:
	ptr32 es_bx_303 = SEQ(ds, (word16) Mem0[ds:9884:segptr32])[Mem0[ds:0x2A27:word16] * 0x04]
	Z_107 = cond(Mem0[Mem0[es_bx_303 + 0x00:byte] + 0x00:byte] - 0x2F) (alias)
	branch Mem0[Mem0[es_bx_303 + 0x00:byte] + 0x00:byte] != 0x2F l0800_089F
	goto l0800_058A
l0800_089F:
	word16 ax_308 = Mem0[ds:0x2A21:word16]
	branch ax_308 == 0x01 l0800_08AE
l0800_08A7:
	branch ax_308 == 0x02 l0800_08D9
	goto l0800_0902
l0800_08AE:
	word16 sp_517 = sp_11 - 0x02
	Mem518[ss:sp_517 + 0x00:word16] = ds
	selector es_519 = Mem518[ss:sp_517 + 0x00:selector]
	sp_11 = sp_517 + 0x02
	word16 di_522 = 17009
	word16 si_523 = 0x085B
	word16 cx_524 = ~0x00
l0800_08BB:
	branch cx_524 == 0x00 l0800_08BD
l0800_08BB_1:
	di_522 = di_522 + 0x01
	cx_524 = cx_524 - 0x01
	branch 0x00 != Mem518[es_519:di_522 + 0x00:byte] l0800_08BB
l0800_08BD:
	word16 di_536 = di_522 - 0x01
	word16 cx_538 = 0x02
l0800_08C1:
	branch cx_538 == 0x00 l0800_08C3
l0800_08C1_2:
	Mem543[es_519:di_536 + 0x00:byte] = Mem518[ds:si_523 + 0x00:byte]
	si_523 = si_523 + 0x01
	di_536 = di_536 + 0x01
	cx_538 = cx_538 - 0x01
	goto l0800_08C1
l0800_08C3:
	branch Mem518[ds:11825:word16] <=u 0x8000 l0800_08D1
l0800_08CB:
	Mem550[ds:11825:word16] = 0x8000
l0800_08D1:
	Mem549[ds:0x2E2F:word16] = 0x1000
	goto l0800_0902
l0800_08D9:
	word16 sp_479 = sp_11 - 0x02
	Mem480[ss:sp_479 + 0x00:word16] = ds
	selector es_481 = Mem480[ss:sp_479 + 0x00:selector]
	sp_11 = sp_479 + 0x02
	word16 di_484 = 17009
	word16 si_485 = 2141
	word16 cx_486 = ~0x00
l0800_08E6:
	branch cx_486 == 0x00 l0800_08E8
l0800_08E6_1:
	di_484 = di_484 + 0x01
	cx_486 = cx_486 - 0x01
	branch 0x00 != Mem480[es_481:di_484 + 0x00:byte] l0800_08E6
l0800_08E8:
	word16 di_498 = di_484 - 0x01
	word16 cx_500 = 0x02
l0800_08EC:
	branch cx_500 == 0x00 l0800_08EE
l0800_08EC_2:
	Mem505[es_481:di_498 + 0x00:byte] = Mem480[ds:si_485 + 0x00:byte]
	si_485 = si_485 + 0x01
	di_498 = di_498 + 0x01
	cx_500 = cx_500 - 0x01
	goto l0800_08EC
l0800_08EE:
	branch Mem480[ds:11825:word16] <=u 0x1000 l0800_08FC
l0800_08F6:
	Mem512[ds:11825:word16] = 0x1000
l0800_08FC:
	Mem511[ds:0x2E2F:word16] = 0xFF
l0800_0902:
	branch Mem0[ds:0x2A23:word16] != 0x02 l0800_0911
l0800_0909:
	Mem475[ds:10781:word16] = 0x00
	Mem476[ds:11855:word16] = 0x00
l0800_0911:
	branch Mem0[ds:11855:word16] == 0x00 l0800_092D
l0800_0918:
	word16 sp_438 = sp_11 - 0x02
	Mem439[ss:sp_438 + 0x00:word16] = ds
	selector es_440 = Mem439[ss:sp_438 + 0x00:selector]
	sp_11 = sp_438 + 0x02
	word16 di_443 = 17009
	word16 si_444 = 1619
	word16 cx_445 = ~0x00
l0800_0925:
	branch cx_445 == 0x00 l0800_0927
l0800_0925_1:
	di_443 = di_443 + 0x01
	cx_445 = cx_445 - 0x01
	branch 0x00 != Mem439[es_440:di_443 + 0x00:byte] l0800_0925
l0800_0927:
	word16 di_457 = di_443 - 0x01
	word16 cx_459 = 0x02
l0800_092B:
	branch cx_459 == 0x00 l0800_092D
l0800_092B_2:
	Mem464[es_440:di_457 + 0x00:byte] = Mem439[ds:si_444 + 0x00:byte]
	si_444 = si_444 + 0x01
	di_457 = di_457 + 0x01
	cx_459 = cx_459 - 0x01
	goto l0800_092B
l0800_092D:
	branch Mem0[ds:10781:word16] == 0x00 l0800_0949
l0800_0934:
	word16 sp_404 = sp_11 - 0x02
	Mem405[ss:sp_404 + 0x00:word16] = ds
	selector es_406 = Mem405[ss:sp_404 + 0x00:selector]
	sp_11 = sp_404 + 0x02
	word16 di_409 = 17009
	word16 si_410 = 0x085F
	word16 cx_411 = ~0x00
l0800_0941:
	branch cx_411 == 0x00 l0800_0943
l0800_0941_1:
	di_409 = di_409 + 0x01
	cx_411 = cx_411 - 0x01
	branch 0x00 != Mem405[es_406:di_409 + 0x00:byte] l0800_0941
l0800_0943:
	word16 di_423 = di_409 - 0x01
	word16 cx_425 = 0x02
l0800_0947:
	branch cx_425 == 0x00 l0800_0949
l0800_0947_2:
	Mem430[es_406:di_423 + 0x00:byte] = Mem405[ds:si_410 + 0x00:byte]
	si_410 = si_410 + 0x01
	di_423 = di_423 + 0x01
	cx_425 = cx_425 - 0x01
	goto l0800_0947
l0800_0949:
	word16 sp_345 = sp_11 - 0x02
	Mem346[ss:sp_345 + 0x00:word16] = ds
	selector es_347 = Mem346[ss:sp_345 + 0x00:selector]
	word16 di_350 = 17009
	word16 si_351 = 0x0861
	word16 cx_352 = ~0x00
l0800_0956:
	branch cx_352 == 0x00 l0800_0958
l0800_0956_1:
	di_350 = di_350 + 0x01
	cx_352 = cx_352 - 0x01
	branch 0x00 != Mem346[es_347:di_350 + 0x00:byte] l0800_0956
l0800_0958:
	word16 di_364 = di_350 - 0x01
	word16 cx_366 = 0x05
l0800_095C:
	branch cx_366 == 0x00 l0800_095E
l0800_095C_2:
	Mem371[es_347:di_364 + 0x00:byte] = Mem346[ds:si_351 + 0x00:byte]
	si_351 = si_351 + 0x01
	di_364 = di_364 + 0x01
	cx_366 = cx_366 - 0x01
	goto l0800_095C
l0800_095E:
	branch Mem346[ds:0x2A25:word16] != 0x00 || Mem0[Mem0[SEQ(ds, 0x0545)[Mem346[ds:0x2A23:word16] * 0x04] + 0x00:byte] + 0x00:byte] == 0x00 l0800_0987
	goto l0800_0977
l0800_0965:
l0800_0977:
	Mem386[ss:sp_345 + 0x00:word16] = ds
	Mem389[ss:sp_345 - 0x02 + 0x00:word16] = 11893
	Mem391[ss:sp_345 - 0x04 + 0x00:word16] = ds
	Mem394[ss:sp_345 - 0x06 + 0x00:word16] = 17009
	selector ds_395
	dl = fn0800_09A3(bp_160, ds, out ds_395)
l0800_0987:
	return dl
fn0800_0541_exit:
}

byte fn0800_09A3(word16 bp, selector ds, ptr16 & dsOut)
{
	word16 ax_34 = ((int16) Mem0[ds:2676:byte] << 0x08) + DPB(bx, 0x00, 8);
	ui32 ax_dx_42 = SEQ(((int16) Mem0[ds:0x0A72:byte] << 0x08) + DPB(dx, 0x00, 8) + (ax_34 <u 0x00), ax_34 + 0x20);
	word16 ax_45 = SLICE(ax_dx_42 + 0x20, word16, 16);
	word16 dx_309 = (word16) (ax_dx_42 + 0x20);
	selector ds_52 = fn0800_4311(ds, dx_309, ax_45);
	Mem55[ss:fp - 0x04 + 0x00:word16] = dx_309;
	Mem57[ss:fp - 0x06 + 0x00:word16] = ax_45;
	Mem58[ss:fp - 0x08 + 0x00:word16] = dx_309;
	Mem59[ss:fp - 0x0A + 0x00:word16] = ax_45;
	Mem61[ss:fp - 0x10 + 0x00:word16] = Mem59[ss:fp - 0x04 + 0x00:word16];
	Mem63[ss:fp - 0x12 + 0x00:word16] = ax_45;
	Mem65[ss:fp - 0x14 + 0x00:word16] = ds_52;
	Mem68[ss:fp - 22 + 0x00:word16] = 0x0A6E;
	selector ds_143;
	word16 bp_75 = fn0800_867A(wArg02, psegArg04, wArg06, psegArg08, out ds_143);
	word16 sp_282 = fp - 0x10;
	while (true)
	{
		word16 si_128 = Mem68[ss:bp_75 + 0x04:word16];
		word16 sp_90 = sp_282 - 0x02;
		Mem91[ss:sp_90 + 0x00:word16] = ds_143;
		ptr32 es_di_93 = Mem91[ss:bp_75 - 0x08 + 0x00:segptr32];
		selector ds_92 = Mem91[ss:bp_75 + 0x06:selector];
		word16 di_109 = (word16) es_di_93;
		selector es_95 = SLICE(es_di_93, selector, 16);
		word16 ax_140 = 0x00;
		word16 cx_102 = ~0x00;
		if (cx_102 != 0x00)
		{
			di_109 = di_109 + 0x01;
			cx_102 = cx_102 - 0x01;
			if (0x00 != Mem91[es_95:di_109 + 0x00:byte])
				goto l0800_0A5E;
		}
		word16 cx_112 = ~cx_102;
		word16 di_114 = di_109 - cx_112;
		byte SCZO_116 = cond(di_114);
		byte Z_118 = SCZO_116;
		byte C_119 = SCZO_116;
		if (cx_112 != 0x00)
		{
			byte SCZO_339 = cond(Mem91[ds_92:si_356 + 0x00:byte] - Mem91[es_95:di_355 + 0x00:byte]);
			Z_118 = SCZO_339;
			C_119 = SCZO_339;
			si_128 = si_356 + 0x01;
			di_114 = di_355 + 0x01;
			cx_112 = cx_112 - 0x01;
			di_355 = di_114;
			si_356 = si_128;
			if (Mem91[ds_92:si_356 + 0x00:byte] != Mem91[es_95:di_355 + 0x00:byte])
				goto l0800_0A64;
		}
		if (!Z_118)
		{
			word16 ax_331 = 0x00 - C_119;
			ax_140 = ax_331 - ~0x00 - (ax_331 <u 0x00);
		}
		ds_143 = Mem91[ss:sp_90 + 0x00:selector];
		if (ax_140 == 0x00)
			break;
		ptr32 es_di_223 = Mem91[ss:bp_75 - 0x08 + 0x00:segptr32];
		word16 di_224 = (word16) es_di_223;
		selector es_225 = SLICE(es_di_223, selector, 16);
		word16 cx_231 = ~0x00;
		if (cx_231 != 0x00)
		{
			di_224 = di_358 + 0x01;
			cx_231 = cx_231 - 0x01;
			di_358 = di_224;
			if (0x00 != Mem91[es_225:di_358 + 0x00:byte])
				goto l0800_0A07;
		}
		word16 di_252 = Mem91[ss:bp_75 - 0x08 + 0x00:word16];
		Mem255[ss:sp_90 + 0x00:word16] = (int16) Mem91[es_225:Mem91[ss:bp_75 - 0x08 + 0x00:word16] + (~cx_231 - 0x01) + 0x01:byte] << 0x08;
		word16 cx_261 = ~0x00;
		if (cx_261 != 0x00)
		{
			di_252 = di_359 + 0x01;
			cx_261 = cx_261 - 0x01;
			di_359 = di_252;
			if (0x00 != Mem255[es_225:di_359 + 0x00:byte])
				goto l0800_0A25;
		}
		sp_282 = sp_90 + 0x02;
		word16 dx_283 = Mem255[ss:sp_90 + 0x00:word16] + DPB(Mem255[ss:(bp_75 - 0x08) + 0x00:word16] + (~cx_261 - 0x01), 0x00, 8);
		word16 di_286 = Mem255[ss:bp_75 - 0x08 + 0x00:word16];
		word16 cx_293 = ~0x00;
		if (cx_293 != 0x00)
		{
			di_286 = di_360 + 0x01;
			cx_293 = cx_293 - 0x01;
			di_360 = di_286;
			if (0x00 != Mem255[es_225:di_360 + 0x00:byte])
				goto l0800_0A42;
		}
		word16 dx_308 = dx_283 + (~cx_293 - 0x01);
		Mem311[ss:bp_75 - 0x08 + 0x00:word16] = Mem255[ss:bp_75 - 0x08 + 0x00:word16] + (dx_308 + 0x03);
		dx_309 = dx_308 + 0x03;
	}
	ptr32 es_di_149 = Mem91[ss:bp_75 - 0x08 + 0x00:segptr32];
	word16 di_150 = (word16) es_di_149;
	selector es_151 = SLICE(es_di_149, selector, 16);
	word16 cx_157 = ~0x00;
	if (cx_157 != 0x00)
	{
		di_150 = di_357 + 0x01;
		cx_157 = cx_157 - 0x01;
		di_357 = di_150;
		if (0x00 != Mem91[es_151:di_357 + 0x00:byte])
			goto l0800_0A7A;
	}
	Mem172[ss:bp_75 - 0x08 + 0x00:word16] = Mem91[ss:bp_75 - 0x08 + 0x00:word16] + ~cx_157;
	ptr32 es_bx_173 = Mem172[ss:bp_75 - 0x08 + 0x00:segptr32];
	Mem187[ss:sp_90 + 0x00:word16] = ((int16) Mem0[Mem0[es_bx_173 + 0x00:byte] + 0x00:byte] << 0x08) + DPB(dx_309, 0x00, 8) + 0x02;
	Mem189[ss:sp_90 - 0x02 + 0x00:word16] = Mem187[ss:bp_75 - 0x06 + 0x00:word16];
	Mem191[ss:sp_90 - 0x04 + 0x00:word16] = (word16) es_bx_173;
	Mem193[ss:sp_90 - 0x06 + 0x00:word16] = Mem191[ss:bp_75 + 0x0A:word16];
	Mem195[ss:sp_90 - 0x08 + 0x00:word16] = Mem193[ss:bp_75 + 0x08:word16];
	selector ds_197 = fn0800_B0F3(wArg00, wArg02, psegArg04, wArg06, psegArg08);
	Mem201[ss:sp_90 + 0x00:word16] = Mem195[ss:bp_75 - 0x02 + 0x00:word16];
	Mem203[ss:sp_90 - 0x02 + 0x00:word16] = Mem201[ss:bp_75 - 0x04 + 0x00:word16];
	selector ds_204;
	return fn0800_4346(ds_197, wArg00, wArg02, out ds_204);
}

selector fn0800_0ABC(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06)
{
	fn0800_35A3(ds, wArg04, wArg06);
	Mem32[ss:fp - 0x14 + 0x00:word16] = Mem0[ds:0x2A05:word16];
	Mem34[ss:fp - 22 + 0x00:word16] = Mem32[ds:0x2A03:word16];
	Mem36[ss:fp - 0x18 + 0x00:word16] = Mem34[ds:0x2A09:word16];
	Mem38[ss:fp - 0x1A + 0x00:word16] = Mem36[ds:0x2A07:word16];
	word16 di_41;
	word16 ax_42 = fn0800_0B79(fp - 0x02, wArg02, di, wArg00, wArg02, wArg04, wArg06, out di_41);
	Mem52[ss:fp - 0x14 + 0x00:word16] = SEQ(0x00, ax_42) % 100;
	Mem61[ss:fp - 22 + 0x00:word16] = SEQ(SEQ(0x00, ax_42) % 100, ax_42) /u 100;
	Mem63[ss:fp - 0x18 + 0x00:word16] = Mem61[ds:0x2A05:word16];
	Mem65[ss:fp - 0x1A + 0x00:word16] = Mem63[ds:0x2A03:word16];
	Mem67[ss:fp - 0x1C + 0x00:word16] = Mem65[ds:0x2A09:word16];
	Mem69[ss:fp - 0x1E + 0x00:word16] = Mem67[ds:0x2A07:word16];
	Mem71[ss:fp - 0x20 + 0x00:word16] = ss;
	Mem74[ss:fp - 0x22 + 0x00:word16] = fp - 0x10;
	Mem77[ss:fp - 0x24 + 0x00:word16] = 0x14;
	Mem79[ss:fp - 0x26 + 0x00:word16] = 0x14;
	Mem81[ss:fp - 0x28 + 0x00:word16] = ds;
	Mem84[ss:fp - 0x2A + 0x00:word16] = 0x0866;
	word16 di_85;
	word16 si_130 = fn0800_B2EF(ds, wArg00, wArg02, out di_85);
	word16 sp_146 = fp - 0x12;
	if (Mem84[ds:0x2A25:word16] == 0x02 || si_130 != 0x00)
	{
		word16 bx_132 = si_130 << 0x01;
		Mem136[ss:fp - 0x14 + 0x00:word16] = SEQ(ds, 0x059B)[bx_132 * 0x02];
		Mem138[ss:fp - 22 + 0x00:word16] = SEQ(ds, 0x0599)[bx_132 * 0x02];
		Mem140[ss:fp - 0x18 + 0x00:word16] = ds;
		Mem143[ss:fp - 0x1A + 0x00:word16] = 0x0889;
		word16 di_144;
		fn0800_B2EF(ds, wArg00, wArg02, out di_144);
		sp_146 = fp - 0x12;
	}
	word16 sp_95 = sp_146 - 0x02;
	Mem96[ss:sp_95 + 0x00:word16] = ds;
	Mem99[ss:sp_95 - 0x02 + 0x00:word16] = 0x0827;
	word16 di_100;
	fn0800_B2EF(ds, wArg00, wArg02, out di_100);
	word16 ax_103 = Mem99[ds:0x2A09:word16];
	word16 v16_105 = Mem99[ds:0x29F3:word16] + Mem99[ds:0x2A07:word16];
	Mem106[ds:0x29F3:word16] = v16_105;
	Mem110[ds:10741:word16] = Mem106[ds:10741:word16] + ax_103 + (v16_105 <u 0x00);
	word16 ax_111 = Mem110[ds:0x2A05:word16];
	word16 v18_113 = Mem110[ds:0x29EF:word16] + Mem110[ds:0x2A03:word16];
	Mem114[ds:0x29EF:word16] = v18_113;
	Mem118[ds:10737:word16] = Mem114[ds:10737:word16] + ax_111 + (v18_113 <u 0x00);
	Mem121[ds:10771:word16] = Mem118[ds:10771:word16] + 0x01;
	return ds;
}

word16 fn0800_0B79(word16 bp, word16 si, word16 di, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, ptr16 & diOut)
{
	*diOut = di;
	word16 sp_121 = fp - 0x02;
	word16 bp_117 = fp - 0x02;
	if ((wArg02 | wArg04) != 0x00 && (wArg06 | wArg08) != 0x00)
	{
		word16 ax_120 = wArg04;
		if (wArg04 >u wArg08 || wArg04 == wArg08 && wArg02 >u wArg06)
		{
			while (true)
			{
				ui32 ax_dx_74 = SEQ(ax_120, Mem0[ss:bp_117 + 0x04:word16] - Mem0[ss:bp_117 + 0x08:word16]) - Mem0[ss:bp_117 + 0x08:ui32];
				word16 ax_75 = SLICE(ax_dx_74, word16, 16);
				word16 dx_76 = (word16) ax_dx_74;
				if (ax_75 <=u 0x06 && (ax_75 != 0x06 || dx_76 <=u 0x8DB8))
					break;
				word16 sp_88 = sp_121 - 0x02;
				Mem89[ss:sp_88 + 0x00:word16] = 0x00;
				Mem91[ss:sp_88 - 0x02 + 0x00:word16] = 0x0A;
				Mem93[ss:sp_88 - 0x04 + 0x00:word16] = Mem91[ss:bp_117 + 0x06:word16];
				Mem95[ss:sp_88 - 0x06 + 0x00:word16] = Mem93[ss:bp_117 + 0x04:word16];
				word16 dx_96;
				word16 bp_97;
				word16 si_98;
				word16 di_99;
				word16 ax_100 = fn0800_8BC2(bp_117, si, di, bp, out dx_96, out bp_97, out si_98, out di_99);
				Mem102[ss:bp_97 + 0x06:word16] = dx_96;
				Mem103[ss:bp_97 + 0x04:word16] = ax_100;
				Mem109[ss:sp_88 + 0x00:word16] = 0x00;
				Mem111[ss:sp_88 - 0x02 + 0x00:word16] = 0x0A;
				Mem113[ss:sp_88 - 0x04 + 0x00:word16] = Mem111[ss:bp_97 + 0x0A:word16];
				Mem115[ss:sp_88 - 0x06 + 0x00:word16] = Mem113[ss:bp_97 + 0x08:word16];
				word16 dx_116;
				ax_120 = fn0800_8BC2(bp_97, si_98, di_99, bp, out dx_116, out bp_117, out si, out di);
				Mem122[ss:bp_117 + 0x0A:word16] = dx_116;
				Mem123[ss:bp_117 + 0x08:word16] = ax_120;
				sp_121 = sp_88 + 0x02;
			}
			Mem125[ss:sp_121 + 0x00:word16] = Mem0[ss:bp_117 + 0x06:word16];
			word16 sp_126 = sp_121 - 0x02;
			Mem127[ss:sp_126 + 0x00:word16] = Mem125[ss:bp_117 + 0x04:word16];
			ui32 cx_bx_133 = SEQ(Mem127[ss:bp_117 + 0x06:word16], Mem127[ss:bp_117 + 0x04:word16] - Mem127[ss:bp_117 + 0x08:word16]) - Mem127[ss:bp_117 + 0x08:ui32];
			word16 dx_140;
			word16 ax_141 = fn0800_8F18(10000, SLICE(cx_bx_133, word16, 16), 0x00, (word16) cx_bx_133, out dx_140);
			Mem143[ss:sp_126 - 0x02 + 0x00:word16] = dx_140;
			Mem145[ss:sp_126 - 0x04 + 0x00:word16] = ax_141;
			word16 dx_146;
			word16 bp_147;
			word16 si_148;
			word16 di_149;
			return fn0800_8BC2(bp_117, si, di, bp, out dx_146, out bp_147, out si_148, out di_149);
		}
	}
	return 0x00;
}

word16 fn0800_0C08(word16 wArg02)
{
	word16 si_11 = wArg02;
	word16 cx_12 = 0x01;
	while (true)
	{
		word32 dx_ax_20 = SEQ(SEQ(0x00, si_11) % 0x02, si_11);
		si_11 = dx_ax_20 /u 0x02;
		if (dx_ax_20 /u 0x02 == 0x00)
			break;
		cx_12 = cx_12 + 0x01;
	}
	return cx_12;
}

word16 fn0800_0C29(selector ds, word16 wArg02, word16 wArg04, byte bArg06, ptr16 & dlOut)
{
	byte dl_16;
	byte al_17 = fn0800_97CC(ds, (int16) bArg06, out dl_16);
	word16 wLoc06_26 = wArg02;
	while (true)
	{
		word16 bx_32 = (word16) ptrLoc06;
		selector es_33 = SLICE(ptrLoc06, selector, 16);
		if (Mem0[es_33:bx_32 + 0x00:byte] == 0x00 || Mem0[es_33:bx_32 + 0x00:byte] == al_17)
			break;
		wLoc06_26 = wLoc06_26 + 0x01;
	}
	word16 ax_40 = wLoc06_26 - wArg02;
	*dlOut = (byte) (0x00 - (ax_40 <u 0x00));
	return ax_40;
}

byte fn0800_0C6C(selector ds, segptr32 ptrArg02)
{
	while (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte] != 0x00)
		Mem44[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte] = fn0800_97CC(ds, (int16) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte], out dl);
	return dl;
}

void fn0800_0C93(word16 bp, selector ds, word16 wArg02, word16 wArg04)
{
	fn0800_3509(ds, wArg02, wArg04);
	Mem31[ss:fp - 110 + 0x00:word16] = ss;
	word16 si_200 = 10004;
	selector es_32 = Mem31[ss:fp - 110 + 0x00:selector];
	word16 sp_185 = fp - 0x6C;
	word16 di_205 = fp - 0x68;
	word16 ax_193 = 0x00;
	word16 cx_206 = ~0x00;
	if (cx_206 != 0x00)
	{
		di_205 = di_205 + 0x01;
		cx_206 = cx_206 - 0x01;
		if (0x00 != Mem31[es_32:di_205 + 0x00:byte])
			goto l0800_0CB9;
	}
	word16 cx_202 = ~cx_206;
	word16 di_201 = di_205 - cx_202;
	byte SCZO_49 = cond(di_201);
	byte Z_198 = SCZO_49;
	byte C_199 = SCZO_49;
	if (cx_202 != 0x00)
	{
		byte SCZO_196 = cond(Mem31[ds:si_208 + 0x00:byte] - Mem31[es_32:di_209 + 0x00:byte]);
		Z_198 = SCZO_196;
		C_199 = SCZO_196;
		si_200 = si_208 + 0x01;
		di_201 = di_209 + 0x01;
		cx_202 = cx_202 - 0x01;
		si_208 = si_200;
		di_209 = di_201;
		if (Mem31[ds:si_208 + 0x00:byte] != Mem31[es_32:di_209 + 0x00:byte])
			goto l0800_0CBF;
	}
	if (!Z_198)
	{
		word16 ax_190 = 0x00 - C_199;
		ax_193 = ax_190 - ~0x00 - (ax_190 <u 0x00);
	}
	if (ax_193 != 0x00)
	{
		Mem104[ss:fp - 110 + 0x00:word16] = ss;
		Mem107[ss:fp - 0x70 + 0x00:word16] = fp - 0x68;
		Mem109[ss:fp - 114 + 0x00:word16] = ds;
		Mem112[ss:fp - 116 + 0x00:word16] = 0x088F;
		word16 di_113;
		fn0800_B2EF(ds, wArg00, wArg02, out di_113);
		Mem117[ss:fp - 110 + 0x00:word16] = ss;
		Mem122[ss:fp - 110 + 0x00:word16] = Mem117[ss:fp - 110 + 0x00:selector];
		Mem124[ss:fp - 0x70 + 0x00:word16] = ds;
		selector es_125 = Mem124[ss:fp - 0x70 + 0x00:selector];
		Mem128[ss:fp - 0x70 + 0x00:word16] = fp - 0x68;
		word16 di_131 = Mem128[ss:fp - 0x70 + 0x00:word16];
		selector es_134 = Mem128[ss:fp - 110 + 0x00:selector];
		Mem137[ss:fp - 110 + 0x00:word16] = es_125;
		Mem139[ss:fp - 0x70 + 0x00:word16] = 10004;
		word16 cx_143 = ~0x00;
		if (cx_143 != 0x00)
		{
			di_131 = di_131 + 0x01;
			cx_143 = cx_143 - 0x01;
			if (0x00 != Mem139[es_134:di_131 + 0x00:byte])
				goto l0800_0CF5;
		}
		word16 di_158 = Mem139[ss:fp - 0x70 + 0x00:word16];
		selector es_161 = Mem139[ss:fp - 110 + 0x00:selector];
		Mem164[ss:fp - 110 + 0x00:word16] = ds;
		word16 cx_150 = ~cx_143;
		word16 cx_152 = cx_150 >>u 0x01;
		word16 si_157 = di_131 - cx_150;
		while (cx_152 != 0x00)
		{
			Mem170[es_161:di_158 + 0x00:word16] = Mem164[es_134:si_157 + 0x00:word16];
			si_157 = si_157 + 0x02;
			di_158 = di_158 + 0x02;
			cx_152 = cx_152 - 0x01;
		}
		word16 cx_174 = cx_152 * 0x02 + (cx_150 >>u 0x01 <u 0x00);
		while (cx_174 != 0x00)
		{
			Mem180[es_161:di_158 + 0x00:byte] = Mem164[es_134:si_157 + 0x00:byte];
			si_157 = si_157 + 0x01;
			di_158 = di_158 + 0x01;
			cx_174 = cx_174 - 0x01;
		}
		ds = Mem164[ss:fp - 110 + 0x00:selector];
		sp_185 = fp - 0x6C;
	}
	word16 sp_83 = sp_185 - 0x02;
	Mem84[ss:sp_83 + 0x00:word16] = Mem31[ss:fp + 0x04:word16];
	Mem86[ss:sp_83 - 0x02 + 0x00:word16] = Mem84[ss:fp + 0x02:word16];
	Mem88[ss:sp_83 - 0x04 + 0x00:word16] = ds;
	Mem91[ss:sp_83 - 0x06 + 0x00:word16] = 2206;
	word16 di_93;
	fn0800_B2EF(ds, wArg00, wArg02, out di_93);
	return;
}

byte fn0800_0D24(word16 bp, selector ds, ptr16 & siOut, ptr16 & diOut, ptr16 & dsOut)
{
	selector ds_18 = fn0800_0DA9(fp - 0x02, ds, Mem0[ds:10715:word16], Mem0[ds:10717:word16]);
	Mem22[ss:fp - 0x04 + 0x00:word16] = ds_18;
	Mem26[ss:fp - 0x06 + 0x00:word16] = 0x4412;
	Mem28[ss:fp - 0x08 + 0x00:word16] = Mem26[ds_18:0x29D9:word16];
	Mem30[ss:fp - 0x0A + 0x00:word16] = Mem28[ds_18:10711:word16];
	selector ds_33 = fn0800_0DA9(fp - 0x02, ds_18, wArg00, wArg02);
	Mem37[ss:fp - 0x04 + 0x00:word16] = ds_33;
	Mem40[ss:fp - 0x06 + 0x00:word16] = 0x43AD;
	Mem42[ss:fp - 0x08 + 0x00:word16] = Mem40[ds_33:10709:word16];
	Mem44[ss:fp - 0x0A + 0x00:word16] = Mem42[ds_33:10707:word16];
	selector ds_45 = fn0800_0DA9(fp - 0x02, ds_33, wArg00, wArg02);
	word16 bx_47 = Mem44[ss:fp + 0x02:word16];
	Mem52[ss:fp - 0x04 + 0x00:word16] = SEQ(ds_45, 0x055F)[bx_47 * 0x04];
	Mem54[ss:fp - 0x06 + 0x00:word16] = SEQ(ds_45, 0x055D)[bx_47 * 0x04];
	Mem56[ss:fp - 0x08 + 0x00:word16] = ds_45;
	Mem59[ss:fp - 0x0A + 0x00:word16] = 2210;
	word16 di_60;
	fn0800_B2EF(ds_45, wArg00, wArg02, out di_60);
	ptr32 es_bx_63 = Mem59[ss:fp + 0x04:segptr32];
	word16 sp_102 = fp - 0x02;
	word16 bx_64 = (word16) es_bx_63;
	if (Mem0[Mem0[es_bx_63 + 0x00:byte] + 0x00:byte] != 0x00)
	{
		Mem92[ss:fp - 0x04 + 0x00:word16] = Mem59[ss:fp + 0x06:word16];
		Mem94[ss:fp - 0x06 + 0x00:word16] = bx_64;
		Mem96[ss:fp - 0x08 + 0x00:word16] = ds_45;
		Mem99[ss:fp - 0x0A + 0x00:word16] = 2214;
		word16 di_100;
		fn0800_B2EF(ds_45, wArg00, wArg02, out di_100);
		sp_102 = fp - 0x02;
	}
	word16 sp_69 = sp_102 - 0x02;
	Mem70[ss:sp_69 + 0x00:word16] = ds_45;
	Mem73[ss:sp_69 - 0x02 + 0x00:word16] = 0x0827;
	word16 di_74;
	fn0800_B2EF(ds_45, wArg00, wArg02, out di_74);
	Mem80[ss:sp_69 + 0x00:word16] = 0x01;
	word16 si_81;
	selector ds_82;
	return fn0800_8B5A(ds_45, wArg00, out si_81, out ds_82);
}

selector fn0800_0DA9(word16 bp, selector ds, word16 wArg02, word16 wArg04)
{
	if ((wArg02 | wArg04) != 0x00)
	{
		byte dl_40;
		word16 di_41;
		byte al_43 = fn0800_A614(fp - 0x02, ds, DPB(ptrLoc06, wArg02, 0), wArg04, out dl_40, out di_41, out ds);
		Mem47[ss:fp - 0x04 + 0x00:word16] = Mem0[ss:fp + 0x08:word16];
		Mem49[ss:fp - 0x06 + 0x00:word16] = Mem47[ss:fp + 0x06:word16];
		fn0800_8F7F(al_43, ds, ptrArg00);
	}
	return ds;
}

word16 fn0800_0DCE(selector ds, ptr16 & siOut, ptr16 & dsOut)
{
	word16 di_14;
	fn0800_B2EF(ds, 2024, ds, out di_14);
	word16 si_22;
	selector ds_23;
	fn0800_8B5A(ds, 0x00, out si_22, out ds_23);
	return bp;
}

byte fn0800_0DE8(word16 bp, word16 si, selector ds, ptr16 & bpOut, ptr16 & dsOut)
{
	*bpOut = bp;
	word16 di_28;
	fn0800_B2EF(ds, 2220, ds, out di_28);
	if (Mem0[ds:11855:word16] != 0x00)
	{
		word16 di_385;
		fn0800_B2EF(ds, 2234, ds, out di_385);
	}
	if (Mem0[ds:0x2A1F:word16] != 0x00)
	{
		word16 di_374;
		fn0800_B2EF(ds, 2255, ds, out di_374);
	}
	word16 di_47;
	fn0800_B2EF(ds, 2268, ds, out di_47);
	selector ds_59;
	fn0800_3678(bp, ds, DPB(ptrLoc06, 17022, 0), ds, out ds_59);
	Mem64[ss:fp - 0x04 + 0x00:word16] = ds_59;
	Mem68[ss:fp - 0x06 + 0x00:word16] = 2271;
	Mem70[ss:fp - 0x08 + 0x00:word16] = ds_59;
	Mem73[ss:fp - 0x0A + 0x00:word16] = 0x4477;
	word16 di_78;
	word16 si_79 = fn0800_37BE(ds_59, wArg00, wArg02, wArg04, wArg06, out di_78);
	Mem83[ss:fp - 0x04 + 0x00:word16] = ds_59;
	Mem86[ss:fp - 0x06 + 0x00:word16] = 2284;
	Mem88[ss:fp - 0x08 + 0x00:word16] = ds_59;
	Mem91[ss:fp - 0x0A + 0x00:word16] = 0x4477;
	word16 di_106;
	selector ds_109;
	word16 si_107 = fn0800_4234(si_79, di_78, ds_59, wArg00, wArg02, wArg04, wArg06, out di_106, out ds_109);
	Mem98[ds_109:10717:word16] = dx;
	Mem99[ds_109:10715:word16] = 0x4477;
	word16 sp_110 = fp - 0x02;
l0800_10F4:
	word16 sp_112 = sp_110 - 0x02;
	Mem113[ss:sp_112 + 0x00:word16] = ds_109;
	Mem116[ss:sp_112 - 0x02 + 0x00:word16] = 0x4541;
	sp_110 = sp_112 + 0x02;
	byte dl_118;
	selector ds_119;
	if (fn0800_2DE2(bp, si_107, ds_109, ptrArg00, wArg02, out dl_118, out ds_119) == 0x00)
	{
		Mem348[ss:sp_112 + 0x00:word16] = Mem116[ds_119:10717:word16];
		Mem350[ss:sp_112 - 0x02 + 0x00:word16] = Mem348[ds_119:10715:word16];
		byte dl_351;
		word16 di_352;
		selector ds_353;
		fn0800_A614(bp, ds_119, ptrArg00, wArg02, out dl_351, out di_352, out ds_353);
		Mem358[ss:sp_112 + 0x00:word16] = ds_353;
		Mem362[ss:sp_112 - 0x02 + 0x00:word16] = 0x4477;
		return fn0800_8F7F(0x77, ds_353, ptrArg00);
	}
	bp = fn0800_3764(ds_119);
	*bpOut = bp;
	if (fn0800_388C(bp, si_107, di_106, ds_119, out si_107, out ds_109) == 0x00)
		continue;
	Mem152[ss:sp_112 + 0x00:word16] = ds_109;
	Mem155[ss:sp_112 - 0x02 + 0x00:word16] = 0x4541;
	fn0800_0C93(bp, ds_109, wArg00, wArg02);
	Mem159[ss:sp_112 + 0x00:word16] = Mem155[ds_109:0x29E5:word16];
	Mem161[ss:sp_112 - 0x02 + 0x00:word16] = Mem159[ds_109:0x29E3:word16];
	word16 si_162;
	selector ds_163;
	word16 ax_164 = fn0800_4194(bp, ds_109, wArg00, wArg02, out si_162, out ds_163);
	Mem166[ds_163:0x2A09:word16] = dx;
	Mem167[ds_163:0x2A07:word16] = ax_164;
	Mem168[ds_163:0x2A05:word16] = dx;
	Mem169[ds_163:0x2A03:word16] = ax_164;
	word16 sp_165 = sp_112 + 0x02;
	if (Mem169[ds_163:0x2A09:word16] <=u 0x00 && (Mem169[ds_163:0x2A09:word16] != 0x00 || Mem169[ds_163:0x2A07:word16] <=u 0x12) && Mem169[ds_163:10773:word16] == 0x00)
	{
		si_107 = 0x03;
		goto l0800_105C;
	}
	byte dl_286;
	if (fn0800_3992(bp, ds_163, out dl_286, out ds_163) != 0x00)
	{
		si_107 = 0x0E;
		goto l0800_105C;
	}
	if (Mem169[ds_163:0x2A23:word16] <=u 0x05)
		return dl_286;
l0800_1007:
	Mem300[ss:sp_112 + 0x00:word16] = Mem169[ds_163:10721:word16];
	Mem302[ss:sp_112 - 0x02 + 0x00:word16] = Mem300[ds_163:10719:word16];
	word16 ax_305 = fn0800_4194(bp, ds_163, wArg00, wArg02, out si_107, out ds_163);
	Mem307[ds_163:0x2A05:word16] = dx;
	Mem308[ds_163:0x2A03:word16] = ax_305;
	sp_165 = sp_112 + 0x02;
	word16 ax_309 = Mem308[ds_163:0x2A05:word16];
	dx = Mem308[ds_163:0x2A03:word16];
	if (ax_309 >=u Mem308[ds_163:0x2A09:word16] && (ax_309 != Mem308[ds_163:0x2A09:word16] || dx >=u Mem308[ds_163:0x2A07:word16]) && Mem308[ds_163:10773:word16] == 0x00)
	{
		dx = Mem308[ds_163:0x2A07:word16];
		Mem332[ds_163:0x2A05:word16] = Mem308[ds_163:0x2A09:word16];
		Mem333[ds_163:0x2A03:word16] = dx;
		si_107 = 0x03;
	}
	if (si_107 == 0x04)
	{
		dx = Mem308[ds_163:0x2A07:word16];
		Mem325[ds_163:0x2A05:word16] = Mem308[ds_163:0x2A09:word16];
		Mem326[ds_163:0x2A03:word16] = dx;
	}
l0800_105C:
	if (Mem169[ds_163:17022:byte] != 0x00 && (si_107 == 0x03 || si_107 == 0x04))
	{
		dx = Mem169[ds_163:0x2A07:word16];
		Mem247[ds_163:0x2A05:word16] = Mem169[ds_163:0x2A09:word16];
		Mem248[ds_163:0x2A03:word16] = dx;
		word16 sp_249 = sp_165 - 0x02;
		Mem250[ss:sp_249 + 0x00:word16] = Mem248[ds_163:0x29E5:word16];
		Mem252[ss:sp_249 - 0x02 + 0x00:word16] = Mem250[ds_163:0x29E3:word16];
		selector ds_253 = fn0800_BA67(ds_163, wArg00, wArg02);
		Mem257[ss:sp_249 + 0x00:word16] = Mem252[ds_253:10721:word16];
		Mem259[ss:sp_249 - 0x02 + 0x00:word16] = Mem257[ds_253:10719:word16];
		selector ds_260 = fn0800_BA67(ds_253, wArg00, wArg02);
		Mem264[ss:sp_249 + 0x00:word16] = Mem259[ds_260:0x2A09:word16];
		Mem266[ss:sp_249 - 0x02 + 0x00:word16] = Mem264[ds_260:0x2A07:word16];
		Mem268[ss:sp_249 - 0x04 + 0x00:word16] = Mem266[ds_260:10721:word16];
		Mem270[ss:sp_249 - 0x06 + 0x00:word16] = Mem268[ds_260:10719:word16];
		Mem272[ss:sp_249 - 0x08 + 0x00:word16] = Mem270[ds_260:0x29E5:word16];
		Mem274[ss:sp_249 - 0x0A + 0x00:word16] = Mem272[ds_260:0x29E3:word16];
		ds_163 = fn0800_3B0A(bp, ds_260, wArg08, wArg0A);
		sp_165 = sp_249 + 0x02;
		si_107 = 0x00;
	}
	word16 sp_195 = sp_165 - 0x02;
	Mem196[ss:sp_195 + 0x00:word16] = Mem169[ds_163:0x29E5:word16];
	Mem198[ss:sp_195 - 0x02 + 0x00:word16] = Mem196[ds_163:0x29E3:word16];
	byte dl_199;
	word16 di_200;
	selector ds_201;
	fn0800_A614(bp, ds_163, ptrArg00, wArg02, out dl_199, out di_200, out ds_201);
	Mem206[ss:sp_195 + 0x00:word16] = Mem198[ds_201:10721:word16];
	Mem208[ss:sp_195 - 0x02 + 0x00:word16] = Mem206[ds_201:10719:word16];
	byte dl_209;
	selector ds_211;
	fn0800_A614(bp, ds_201, ptrArg00, wArg02, out dl_209, out di_106, out ds_211);
	word16 sp_213 = sp_195 + 0x02;
	if (si_107 > 0x02)
	{
		Mem232[ss:sp_195 + 0x00:word16] = ds_211;
		Mem236[ss:sp_195 - 0x02 + 0x00:word16] = 0x44DC;
		fn0800_8F7F(220, ds_211, ptrArg00);
		sp_213 = sp_195 + 0x02;
	}
	else
		si_107 = fn0800_37DF(bp, ds_211, out ds_211);
	word16 sp_221 = sp_213 - 0x02;
	Mem222[ss:sp_221 + 0x00:word16] = ds_211;
	Mem225[ss:sp_221 - 0x02 + 0x00:word16] = 0x4541;
	Mem227[ss:sp_221 - 0x04 + 0x00:word16] = si_107;
	ds_109 = fn0800_0ABC(bp, ds_211, wArg00, wArg02, wArg04);
	sp_110 = sp_221 + 0x02;
	goto l0800_10F4;
}

byte fn0800_112D(word16 bp, word16 si, selector ds, ptr16 & bpOut, ptr16 & dsOut)
{
	*bpOut = bp;
	word16 di_28;
	fn0800_B2EF(ds, 2288, ds, out di_28);
	if (Mem0[ds:11855:word16] != 0x00)
	{
		word16 di_291;
		fn0800_B2EF(ds, 2302, ds, out di_291);
	}
	word16 di_158;
	word16 si_137 = fn0800_B2EF(ds, 2323, ds, out di_158);
	word16 sp_181 = fp - 0x02;
	if (Mem0[ds:0x2A25:word16] == 0x01)
	{
		si_137 = fn0800_3678(bp, ds, DPB(ptrLoc06, 17022, 0), ds, out ds);
		sp_181 = fp - 0x02;
	}
l0800_12C2:
	word16 sp_58 = sp_181 - 0x02;
	Mem59[ss:sp_58 + 0x00:word16] = ds;
	Mem63[ss:sp_58 - 0x02 + 0x00:word16] = 0x4541;
	sp_181 = sp_58 + 0x02;
	byte dl_66;
	selector ds_67;
	if (fn0800_2DE2(bp, si_137, ds, ptrArg00, wArg02, out dl_66, out ds_67) == 0x00)
		return dl_66;
	bp = fn0800_3764(ds_67);
	*bpOut = bp;
	if (fn0800_388C(bp, si_137, di_158, ds_67, out si_137, out ds) == 0x00)
		continue;
	Mem83[ss:sp_58 + 0x00:word16] = ds;
	Mem86[ss:sp_58 - 0x02 + 0x00:word16] = 0x4541;
	fn0800_0C93(bp, ds, wArg00, wArg02);
	Mem91[ss:sp_58 + 0x00:word16] = Mem86[ds:0x29E5:word16];
	Mem93[ss:sp_58 - 0x02 + 0x00:word16] = Mem91[ds:0x29E3:word16];
	word16 si_94;
	selector ds_114;
	word16 ax_96 = fn0800_4194(bp, ds, wArg00, wArg02, out si_94, out ds_114);
	Mem99[ds_114:0x2A05:word16] = dx;
	Mem100[ds_114:0x2A03:word16] = ax_96;
	word16 sp_115 = sp_58 + 0x02;
	if (false || true && ax_96 >=u 0x12)
	{
		word16 bx_207 = Mem100[ds_114:0x2A23:word16];
		if (bx_207 <=u 0x05)
			switch (bx_207 << 0x01)
			{
			case 0x00:
				ds_114 = fn0800_4C55(bp, ds_114);
				break;
			case 0x01:
				Mem215[ss:sp_58 + 0x00:word16] = Mem100[ds_114:0x29E5:word16];
				Mem217[ss:sp_58 - 0x02 + 0x00:word16] = Mem215[ds_114:0x29E3:word16];
				sp_115 = sp_58 + 0x02;
				word16 di_218;
				word16 ax_225 = fn0800_8CAA(ax_96, 0x08, fn0800_3F58(bp, ds_114, wArg00, wArg02, out di_218, out ds_114), si, out dx);
				if (dx == 0x52 && ax_225 == 0x4E43)
					fn0800_5374(bp, ds_114, out ds_114);
				break;
			case 0x02:
				ds_114 = fn0800_51A9(bp, ds_114);
				break;
			case 0x03:
				*bpOut = fn0800_518F(bp, ds_114, out ds_114);
				break;
			case 0x04:
				Mem243[ss:sp_58 + 0x00:word16] = Mem100[ds_114:0x29E5:word16];
				Mem245[ss:sp_58 - 0x02 + 0x00:word16] = Mem243[ds_114:0x29E3:word16];
				sp_115 = sp_58 + 0x02;
				selector ds_246;
				if (fn0800_3F0A(bp, ds_114, wArg00, wArg02, out ds_246) == 0x4D5A)
					ds_114 = fn0800_46FE(bp, ds_246);
				else
					*bpOut = fn0800_4B97(bp, ds_246, out ds_114);
				break;
			case 0x05:
				*bpOut = fn0800_4BB1(bp, ds_114, out ds_114);
				break;
			}
	}
	word16 sp_116 = sp_115 - 0x02;
	Mem117[ss:sp_116 + 0x00:word16] = Mem100[ds_114:10721:word16];
	Mem119[ss:sp_116 - 0x02 + 0x00:word16] = Mem117[ds_114:10719:word16];
	word16 si_120;
	selector ds_121;
	word16 ax_122 = fn0800_4194(bp, ds_114, wArg00, wArg02, out si_120, out ds_121);
	Mem125[ds_121:0x2A09:word16] = dx;
	Mem126[ds_121:0x2A07:word16] = ax_122;
	Mem128[ss:sp_116 + 0x00:word16] = Mem126[ds_121:0x29E5:word16];
	Mem130[ss:sp_116 - 0x02 + 0x00:word16] = Mem128[ds_121:0x29E3:word16];
	word16 si_131;
	selector ds_132;
	word16 ax_133 = fn0800_4194(bp, ds_121, wArg00, wArg02, out si_131, out ds_132);
	Mem135[ds_132:0x2A05:word16] = dx;
	Mem136[ds_132:0x2A03:word16] = ax_133;
	si_137 = si_131;
	if (si_131 != 0x00)
	{
		dx = Mem136[ds_132:0x2A03:word16];
		Mem204[ds_132:0x2A09:word16] = Mem136[ds_132:0x2A05:word16];
		Mem205[ds_132:0x2A07:word16] = dx;
	}
	Mem144[ss:sp_116 + 0x00:word16] = Mem136[ds_132:0x29E5:word16];
	Mem146[ss:sp_116 - 0x02 + 0x00:word16] = Mem144[ds_132:0x29E3:word16];
	byte dl_147;
	word16 di_148;
	selector ds_149;
	fn0800_A614(bp, ds_132, ptrArg00, wArg02, out dl_147, out di_148, out ds_149);
	Mem154[ss:sp_116 + 0x00:word16] = Mem146[ds_149:10721:word16];
	Mem156[ss:sp_116 - 0x02 + 0x00:word16] = Mem154[ds_149:10719:word16];
	byte dl_157;
	selector ds_159;
	fn0800_A614(bp, ds_149, ptrArg00, wArg02, out dl_157, out di_158, out ds_159);
	word16 sp_161 = sp_116 + 0x02;
	if (Mem156[ds_159:0x2A25:word16] != 0x02)
	{
		si_137 = si_131;
		if (si_131 == 0x00)
		{
			si_137 = fn0800_37DF(bp, ds_159, out ds_159);
l0800_12B6:
			word16 sp_172 = sp_161 - 0x02;
			Mem173[ss:sp_172 + 0x00:word16] = ds_159;
			Mem176[ss:sp_172 - 0x02 + 0x00:word16] = 0x4541;
			Mem178[ss:sp_172 - 0x04 + 0x00:word16] = si_137;
			ds = fn0800_0ABC(bp, ds_159, wArg00, wArg02, wArg04);
			sp_181 = sp_172 + 0x02;
			goto l0800_12C2;
		}
	}
	Mem188[ss:sp_116 + 0x00:word16] = ds_159;
	Mem192[ss:sp_116 - 0x02 + 0x00:word16] = 0x44DC;
	fn0800_8F7F(220, ds_159, ptrArg00);
	sp_161 = sp_116 + 0x02;
	goto l0800_12B6;
}

byte fn0800_12E2(word16 bp, selector ds, ptr16 & dsOut)
{
	word16 di_34;
	fn0800_B2EF(ds, 2326, ds, out di_34);
	word16 bp_107 = fp - 0x02;
	if (Mem0[ds:11855:word16] != 0x00)
	{
		word16 di_1405;
		fn0800_B2EF(ds, 0x0925, ds, out di_1405);
	}
	word16 di_44;
	word16 si_45 = fn0800_B2EF(ds, 2362, ds, out di_44);
	word16 dx_58;
	word16 di_1228;
	word16 si_1229;
	selector ds_1226;
	word16 ax_62 = fn0800_AA7E(si_45, di_44, ds, 0x4348, ds, 0x093D, ds, out dx_58, out si_1229, out di_1228, out ds_1226);
	Mem64[ds_1226:10705:word16] = dx_58;
	Mem65[ds_1226:10703:word16] = ax_62;
	word16 sp_1230 = fp - 0x8A;
	word16 ax_66 = Mem65[ds_1226:0x2A25:word16];
	if (ax_66 != 0x03)
		if (ax_66 == 0x04)
		{
			if ((Mem65[ds_1226:10703:word16] | Mem65[ds_1226:10705:word16]) != 0x00)
			{
				Mem1338[ss:fp - 0x8C + 0x00:word16] = Mem65[ds_1226:10705:word16];
				Mem1340[ss:fp - 0x8E + 0x00:word16] = Mem1338[ds_1226:10703:word16];
				sp_1230 = fp - 0x8A;
				if (fn0800_3E27(fp - 0x02, ds_1226, wArg00, wArg02, out si_1229, out di_1228, out ds_1226) == 0x4D5A)
				{
					Mem1350[ss:fp - 0x8C + 0x00:word16] = 0x02;
					Mem1355[ss:fp - 0x8E + 0x00:word16] = 0x00;
					Mem1357[ss:fp - 0x90 + 0x00:word16] = 0x00;
					Mem1359[ss:fp - 0x92 + 0x00:word16] = Mem1357[ds_1226:10705:word16];
					Mem1361[ss:fp - 0x94 + 0x00:word16] = Mem1359[ds_1226:10703:word16];
					fn0800_ACB3(fp - 0x02, ds_1226, ptrArg00, wArg02, wArg08, out ds_1226);
					Mem1367[ss:fp - 0x8C + 0x00:word16] = Mem1361[ds_1226:10705:word16];
					Mem1369[ss:fp - 0x8E + 0x00:word16] = Mem1367[ds_1226:10703:word16];
					word16 ax_1371 = fn0800_AD2F(ds_1226, ptrArg00, wArg02, out si_1229);
					Mem1374[ds_1226:10733:word16] = dx_58;
					Mem1375[ds_1226:10731:word16] = ax_1371;
					sp_1230 = fp - 0x8A;
				}
				else
				{
					Mem1376[ds_1226:10705:word16] = 0x00;
					Mem1377[ds_1226:10703:word16] = 0x00;
				}
			}
			if ((Mem65[ds_1226:10703:word16] | Mem65[ds_1226:10705:word16]) == 0x00)
			{
				word16 sp_1318 = sp_1230 - 0x02;
				Mem1319[ss:sp_1318 + 0x00:word16] = ds_1226;
				Mem1322[ss:sp_1318 - 0x02 + 0x00:word16] = 0x0941;
				Mem1324[ss:sp_1318 - 0x04 + 0x00:word16] = ds_1226;
				Mem1327[ss:sp_1318 - 0x06 + 0x00:word16] = 0x4348;
				word16 di_1328;
				fn0800_4234(si_1229, di_1228, ds_1226, wArg00, wArg02, wArg04, wArg06, out di_1328, out ds_1226);
				Mem1333[ds_1226:10705:word16] = dx_58;
				Mem1334[ds_1226:10703:word16] = 0x4348;
				Mem1335[ds_1226:10733:word16] = 0x00;
				Mem1336[ds_1226:10731:word16] = 0x00;
				sp_1230 = sp_1318 + 0x02;
			}
			Mem1240[ss:fp - 0x70 + 0x00:byte] = 0x52;
			Mem1241[ss:fp - 111 + 0x00:byte] = 0x4E;
			Mem1242[ss:fp - 110 + 0x00:byte] = 0x43;
			Mem1243[ss:fp - 0x6D + 0x00:byte] = 0x41;
			Mem1244[ss:fp - 0x6C + 0x00:byte] = 0x00;
			Mem1245[ss:fp - 0x6B + 0x00:byte] = 0x0C;
			Mem1246[ss:fp - 0x68 + 0x00:byte] = 0x00;
			Mem1247[ss:fp - 0x67 + 0x00:byte] = 0x0C;
			Mem1248[ss:fp - 0x66 + 0x00:byte] = 0x00;
			Mem1249[ss:fp - 101 + 0x00:byte] = 0x00;
			word16 sp_1253 = sp_1230 - 0x02;
			Mem1254[ss:sp_1253 + 0x00:word16] = 0x00;
			Mem1257[ss:sp_1253 - 0x02 + 0x00:word16] = 0x04;
			Mem1259[ss:sp_1253 - 0x04 + 0x00:word16] = ss;
			Mem1262[ss:sp_1253 - 0x06 + 0x00:word16] = fp - 0x68;
			Mem1268[ss:fp - 0x6A + 0x00:byte] = (byte) (fn0800_2CCF(ds_1226, ptrArg00, wArg04, wArg06) >>u 0x08);
			Mem1273[ss:sp_1253 + 0x00:word16] = 0x00;
			Mem1276[ss:sp_1253 - 0x02 + 0x00:word16] = 0x04;
			Mem1278[ss:sp_1253 - 0x04 + 0x00:word16] = ss;
			Mem1281[ss:sp_1253 - 0x06 + 0x00:word16] = fp - 0x68;
			Mem1285[ss:fp - 0x69 + 0x00:byte] = (byte) fn0800_2CCF(ds_1226, ptrArg00, wArg04, wArg06);
			Mem1287[ss:sp_1253 + 0x00:word16] = Mem1285[ds_1226:10705:word16];
			Mem1289[ss:sp_1253 - 0x02 + 0x00:word16] = Mem1287[ds_1226:10703:word16];
			Mem1296[ss:sp_1253 - 0x04 + 0x00:word16] = 0x00;
			Mem1298[ss:sp_1253 - 0x06 + 0x00:word16] = 0x0C;
			Mem1300[ss:sp_1253 - 0x08 + 0x00:word16] = ss;
			Mem1303[ss:sp_1253 - 0x0A + 0x00:word16] = fp - 0x70;
			selector ds_1304 = fn0800_4152(ds_1226, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A);
			Mem1308[ss:sp_1253 + 0x00:word16] = Mem1303[ds_1304:10705:word16];
			Mem1310[ss:sp_1253 - 0x02 + 0x00:word16] = Mem1308[ds_1304:10703:word16];
			Mem1312[ss:sp_1253 - 0x04 + 0x00:word16] = Mem1310[ds_1304:10733:word16];
			Mem1314[ss:sp_1253 - 0x06 + 0x00:word16] = Mem1312[ds_1304:10731:word16];
			ds_1226 = fn0800_409C(fp - 0x02, ds_1304, wArg02, wArg04, wArg06);
			sp_1230 = sp_1253 + 0x02;
		}
	else if ((Mem65[ds_1226:10703:word16] | Mem65[ds_1226:10705:word16]) == 0x00)
	{
		Mem1384[ss:fp - 0x8C + 0x00:word16] = ds_1226;
		Mem1387[ss:fp - 0x8E + 0x00:word16] = 0x4348;
		Mem1390[ss:fp - 0x90 + 0x00:word16] = 0x07;
		word16 si_1391;
		word16 di_1392;
		fn0800_0D24(fp - 0x02, ds_1226, out si_1391, out di_1392, out ds_1226);
		sp_1230 = fp - 0x8A;
	}
	word16 sp_85 = sp_1230 - 0x02;
	Mem86[ss:sp_85 + 0x00:word16] = 0x00;
	selector ds_103 = fn0800_1CF6(fp - 0x02, ds_1226);
	word16 sp_109 = sp_85 + 0x02;
	word16 si_106 = 0x00;
l0800_1527:
	word16 sp_110 = sp_109 - 0x02;
	Mem111[ss:sp_110 + 0x00:word16] = ds_103;
	Mem114[ss:sp_110 - 0x02 + 0x00:word16] = 0x4541;
	byte dl_117;
	selector ds_118;
	Mem126[ss:sp_110 + 0x00:word16] = ds_118;
	Mem129[ss:sp_110 - 0x02 + 0x00:word16] = 0x4541;
	sp_109 = sp_110 + 0x02;
	byte dl_130;
	if (fn0800_2DE2(bp_107, si_106, ds_118, ptrArg00, wArg02, out dl_130, out ds_103) != 0x00)
	{
		Mem1102[ss:sp_110 + 0x00:word16] = ds_103;
		Mem1105[ss:sp_110 - 0x02 + 0x00:word16] = 0x4541;
		Mem1107[ss:sp_110 - 0x04 + 0x00:word16] = ss;
		Mem1110[ss:sp_110 - 0x06 + 0x00:word16] = bp_107 - 110;
		fn0800_3509(ds_103, wArg04, wArg06);
		Mem1114[ss:sp_110 + 0x00:word16] = ds_103;
		Mem1117[ss:sp_110 - 0x02 + 0x00:word16] = 0x4541;
		Mem1119[ss:sp_110 - 0x04 + 0x00:word16] = ss;
		Mem1122[ss:sp_110 - 0x06 + 0x00:word16] = bp_107 - 0x84;
		fn0800_35A3(ds_103, wArg04, wArg06);
		Mem1129[ss:sp_110 + 0x00:word16] = ss;
		Mem1132[ss:sp_110 - 0x02 + 0x00:word16] = bp_107 - 110;
		word16 dx_1133;
		word16 ax_1134 = fn0800_283D(ds_103, ptrArg00, wArg02, out dx_1133);
		Mem1136[ss:bp_107 - 0x02 + 0x00:word16] = dx_1133;
		Mem1137[ss:bp_107 - 0x04 + 0x00:word16] = ax_1134;
		word16 sp_1135 = sp_110 + 0x02;
		if ((ax_1134 | dx_1133) == 0x00)
		{
			Mem1205[ss:sp_110 + 0x00:word16] = ss;
			Mem1208[ss:sp_110 - 0x02 + 0x00:word16] = bp_107 - 110;
			word16 dx_1209;
			word16 ax_1211 = fn0800_1F5C(bp_107, ds_103, ptrArg00, wArg02, out dx_1209, out ds_103);
			Mem1214[ss:bp_107 - 0x02 + 0x00:word16] = dx_1209;
			Mem1215[ss:bp_107 - 0x04 + 0x00:word16] = ax_1211;
			sp_1135 = sp_110 + 0x02;
		}
		word16 sp_1145 = sp_1135 - 0x02;
		Mem1146[ss:sp_1145 + 0x00:word16] = Mem1137[ss:bp_107 - 0x02 + 0x00:word16];
		Mem1148[ss:sp_1145 - 0x02 + 0x00:word16] = Mem1146[ss:bp_107 - 0x04 + 0x00:word16];
		Mem1150[ss:sp_1145 - 0x04 + 0x00:word16] = ss;
		Mem1153[ss:sp_1145 - 0x06 + 0x00:word16] = bp_107 - 0x84;
		word16 dx_1154;
		word16 ax_1155 = fn0800_2931(ptrArg00, ptrArg04, wArg06, out dx_1154);
		Mem1157[ss:bp_107 - 0x06 + 0x00:word16] = dx_1154;
		Mem1158[ss:bp_107 - 0x08 + 0x00:word16] = ax_1155;
		word16 ax_1159 = ax_1155 | dx_1154;
		if (ax_1159 == 0x00)
		{
			Mem1185[ss:sp_1145 + 0x00:word16] = Mem1158[ss:bp_107 - 0x02 + 0x00:word16];
			Mem1187[ss:sp_1145 - 0x02 + 0x00:word16] = Mem1185[ss:bp_107 - 0x04 + 0x00:word16];
			Mem1189[ss:sp_1145 - 0x04 + 0x00:word16] = ss;
			ax_1159 = bp_107 - 0x84;
			Mem1192[ss:sp_1145 - 0x06 + 0x00:word16] = ax_1159;
			fn0800_2085(ds_103, ptrArg00, wArg02, ptrArg04);
			sp_109 = sp_1145 + 0x02;
		}
		else
		{
			Mem1196[ss:sp_1145 + 0x00:word16] = Mem1158[ss:bp_107 - 0x06 + 0x00:word16];
			Mem1198[ss:sp_1145 - 0x02 + 0x00:word16] = Mem1196[ss:bp_107 - 0x08 + 0x00:word16];
			bp_107 = fn0800_23EC(bp_107, ds_103, wArg00, wArg02, out ds_103);
			sp_109 = sp_1145 + 0x02;
		}
		si_106 = 0x01;
		if ((DPB(ax_1159, 0x00, 8) << 0x08) + DPB(dx_1154, 0x00, 8) <u ~0x73)
			goto l0800_1527;
	}
	if (si_106 == 0x00)
	{
		word16 sp_183 = sp_109 - 0x02;
		Mem184[ss:sp_183 + 0x00:word16] = Mem129[ds_103:10705:word16];
		Mem186[ss:sp_183 - 0x02 + 0x00:word16] = Mem184[ds_103:10703:word16];
		byte dl_187;
		word16 di_188;
		selector ds_189;
		fn0800_A614(bp_107, ds_103, ptrArg00, wArg02, out dl_187, out di_188, out ds_189);
		return dl_187;
	}
	selector ds_204;
	word16 bp_205 = fn0800_1E5E(bp_107, si_106, ds_103, out ds_204);
	word16 sp_207 = sp_109 - 0x02;
	Mem208[ss:sp_207 + 0x00:word16] = 0x01;
	selector ds_209 = fn0800_1CF6(bp_205, ds_204);
	Mem213[ss:sp_207 + 0x00:word16] = 0x01;
	Mem218[ss:sp_207 - 0x02 + 0x00:word16] = 0x00;
	fn0800_2DBF(ds_209, wArg00, wArg02);
	word16 dx_223 = Mem218[ds_209:10703:word16];
	Mem225[ds_209:10721:word16] = Mem218[ds_209:10705:word16];
	Mem226[ds_209:10719:word16] = dx_223;
	Mem228[ss:sp_207 + 0x00:word16] = ds_209;
	Mem231[ss:sp_207 - 0x02 + 0x00:word16] = 2373;
	Mem233[ss:sp_207 - 0x04 + 0x00:word16] = ds_209;
	Mem236[ss:sp_207 - 0x06 + 0x00:word16] = 0x4477;
	word16 di_239;
	word16 si_240 = fn0800_37BE(ds_209, wArg00, wArg02, wArg04, wArg06, out di_239);
	Mem244[ss:sp_207 + 0x00:word16] = ds_209;
	Mem247[ss:sp_207 - 0x02 + 0x00:word16] = 0x0941;
	Mem249[ss:sp_207 - 0x04 + 0x00:word16] = ds_209;
	Mem252[ss:sp_207 - 0x06 + 0x00:word16] = 0x4477;
	word16 di_253;
	selector ds_254;
	word16 si_255 = fn0800_4234(si_240, di_239, ds_209, wArg00, wArg02, wArg04, wArg06, out di_253, out ds_254);
	Mem258[ds_254:10717:word16] = dx_223;
	Mem259[ds_254:10715:word16] = 0x4477;
	ui32 dx_bp_224 = SEQ(dx_223, bp_205);
	word16 sp_256 = sp_207 + 0x02;
l0800_1897:
	word16 sp_278 = sp_256 - 0x02;
	Mem279[ss:sp_278 + 0x00:word16] = ds_254;
	Mem282[ss:sp_278 - 0x02 + 0x00:word16] = 0x4541;
	word16 sp_286 = sp_278 + 0x02;
	byte dl_283;
	if (fn0800_2DE2(bp_205, si_255, ds_254, ptrArg00, wArg02, out dl_283, out ds_254) == 0x00)
		goto l0800_18A9;
	Mem348[ss:sp_278 + 0x02:word16] = ds_254;
	Mem351[ss:sp_278 + 0x00:word16] = 0x093D;
	Mem353[ss:sp_278 - 0x02 + 0x00:word16] = ds_254;
	Mem356[ss:sp_278 - 0x04 + 0x00:word16] = 0x4541;
	word16 di_357;
	selector ds_358;
	fn0800_4234(si_255, di_253, ds_254, wArg00, wArg02, wArg04, wArg06, out di_357, out ds_358);
	Mem362[ds_358:0x29E5:word16] = dx_223;
	Mem363[ds_358:0x29E3:word16] = 0x4541;
	Mem365[ss:sp_278 + 0x02:word16] = ds_358;
	Mem368[ss:sp_278 + 0x00:word16] = 0x4541;
	Mem370[ss:sp_278 - 0x02 + 0x00:word16] = ss;
	Mem373[ss:sp_278 - 0x04 + 0x00:word16] = bp_205 - 110;
	fn0800_3509(ds_358, wArg04, wArg06);
	Mem377[ss:sp_278 + 0x02:word16] = ds_358;
	Mem380[ss:sp_278 + 0x00:word16] = 0x4541;
	Mem382[ss:sp_278 - 0x02 + 0x00:word16] = ss;
	Mem385[ss:sp_278 - 0x04 + 0x00:word16] = bp_205 - 0x84;
	ui32 dx_bp_388 = DPB(dx_bp_224, fn0800_35A3(ds_358, wArg04, wArg06), 16);
	Mem392[ss:sp_278 + 0x02:word16] = ds_358;
	Mem395[ss:sp_278 + 0x00:word16] = 0x4541;
	fn0800_0C93(bp_205, ds_358, wArg00, wArg02);
	Mem399[ss:sp_278 + 0x02:word16] = ss;
	Mem402[ss:sp_278 + 0x00:word16] = bp_205 - 110;
	word16 dx_403;
	word16 ax_404 = fn0800_283D(ds_358, ptrArg00, wArg02, out dx_403);
	Mem408[ss:sp_278 + 0x02:word16] = dx_403;
	Mem410[ss:sp_278 + 0x00:word16] = ax_404;
	Mem412[ss:sp_278 - 0x02 + 0x00:word16] = ss;
	Mem415[ss:sp_278 - 0x04 + 0x00:word16] = bp_205 - 0x84;
	word16 dx_417;
	word16 ax_418 = fn0800_2931(ptrArg00, ptrArg04, wArg06, out dx_417);
	Mem421[ss:bp_205 - 0x06 + 0x00:word16] = dx_417;
	Mem422[ss:bp_205 - 0x08 + 0x00:word16] = ax_418;
	Mem424[ss:sp_278 + 0x02:word16] = Mem422[ds_358:10705:word16];
	Mem426[ss:sp_278 + 0x00:word16] = Mem424[ds_358:10703:word16];
	word16 si_427;
	selector ds_428;
	fn0800_4194(bp_205, ds_358, wArg00, wArg02, out si_427, out ds_428);
	Mem437[ds_428:0x29E9:word16] = SLICE(dx_bp_388 - 110, word16, 16);
	Mem438[ds_428:10727:word16] = (word16) (dx_bp_388 - 110);
	int32 dx_ax_440 = (int32) Mem438[ds_428:0x29E9:word16];
	word16 dx_444;
	word16 ax_445 = fn0800_8C8A((word16) dx_ax_440, 0x08, SLICE(dx_ax_440, word16, 16), bp, out dx_444);
	ptr32 es_di_446 = Mem438[ss:bp_205 - 0x08 + 0x00:segptr32];
	Mem450[ss:sp_278 + 0x02:word16] = ax_445;
	word16 di_1097 = (word16) es_di_446;
	selector es_1083 = SLICE(es_di_446, selector, 16);
	word16 cx_1099 = ~0x00;
	if (cx_1099 != 0x00)
	{
		di_1097 = di_1097 + 0x01;
		cx_1099 = cx_1099 - 0x01;
		if (0x00 != Mem450[es_1083:di_1097 + 0x00:byte])
			goto l0800_1632;
	}
	word16 cx_1093 = ~cx_1099;
	word16 di_1079 = di_1097 - cx_1093;
	byte Z_1087 = cond(di_1079);
	if (cx_1093 != 0x00)
	{
		Z_1087 = cond(0x00 - Mem450[es_1083:di_1079 + 0x00:byte]);
		di_1079 = di_1079 + 0x01;
		cx_1093 = cx_1093 - 0x01;
		if (0x00 != Mem450[es_1083:di_1079 + 0x00:byte])
			goto l0800_163A;
	}
	if (!Z_1087)
	{
		di_1079 = 0x01;
		es_1083 = 0x00;
	}
	Mem505[es_1083:di_1079 + 0x00:byte] = (byte) Mem450[ss:sp_278 + 0x02:word16];
	ptr32 es_di_509 = Mem505[ss:bp_205 - 0x08 + 0x00:segptr32];
	Mem513[ss:sp_278 + 0x02:word16] = (word16) (int32) Mem505[ds_428:0x29E9:word16];
	word16 di_1075 = (word16) es_di_509 + 0x01;
	selector es_1061 = SLICE(es_di_509, selector, 16);
	word16 cx_1077 = ~0x00;
	if (cx_1077 != 0x00)
	{
		di_1075 = di_1075 + 0x00;
		cx_1077 = cx_1077 - 0x01;
		if (0x00 != Mem513[es_1061:di_1075 + 0x00:byte])
			goto l0800_165C;
	}
	word16 cx_1071 = ~cx_1077;
	word16 di_1057 = di_1075 - cx_1071;
	byte Z_1065 = cond(di_1057);
	if (cx_1071 != 0x00)
	{
		Z_1065 = cond(0x00 - Mem513[es_1061:di_1057 + 0x00:byte]);
		di_1057 = di_1057 + 0x01;
		cx_1071 = cx_1071 - 0x01;
		if (0x00 != Mem513[es_1061:di_1057 + 0x00:byte])
			goto l0800_1664;
	}
	if (!Z_1065)
	{
		di_1057 = 0x01;
		es_1061 = 0x00;
	}
	Mem569[es_1061:di_1057 + 0x01:byte] = (byte) Mem513[ss:sp_278 + 0x02:word16];
	word16 dx_570 = Mem569[ds_428:0x29E9:word16];
	word16 dx_574;
	word16 ax_575 = fn0800_8C8A(Mem569[ds_428:10727:word16], 0x08, dx_570, bp, out dx_574);
	ptr32 es_di_576 = Mem569[ss:bp_205 - 0x08 + 0x00:segptr32];
	Mem580[ss:sp_278 + 0x02:word16] = ax_575;
	ui32 dx_bp_571 = SEQ(dx_570, bp_205);
	word16 di_1053 = (word16) es_di_576;
	selector es_1039 = SLICE(es_di_576, selector, 16);
	word16 cx_1055 = ~0x00;
	if (cx_1055 != 0x00)
	{
		di_1053 = di_1053 + 0x01;
		cx_1055 = cx_1055 - 0x01;
		if (0x00 != Mem580[es_1039:di_1053 + 0x00:byte])
			goto l0800_168E;
	}
	word16 cx_1049 = ~cx_1055;
	word16 di_1035 = di_1053 - cx_1049;
	byte Z_1043 = cond(di_1035);
	if (cx_1049 != 0x00)
	{
		Z_1043 = cond(0x00 - Mem580[es_1039:di_1035 + 0x00:byte]);
		di_1035 = di_1035 + 0x01;
		cx_1049 = cx_1049 - 0x01;
		if (0x00 != Mem580[es_1039:di_1035 + 0x00:byte])
			goto l0800_1696;
	}
	if (!Z_1043)
	{
		di_1035 = 0x01;
		es_1039 = 0x00;
	}
	Mem635[es_1039:di_1035 + 0x02:byte] = (byte) Mem580[ss:sp_278 + 0x02:word16];
	ptr32 es_di_636 = Mem635[ss:bp_205 - 0x08 + 0x00:segptr32];
	word16 di_1031 = (word16) es_di_636;
	selector es_1017 = SLICE(es_di_636, selector, 16);
	word16 cx_1033 = ~0x00;
	if (cx_1033 != 0x00)
	{
		di_1031 = di_1031 + 0x01;
		cx_1033 = cx_1033 - 0x01;
		if (0x00 != Mem635[es_1017:di_1031 + 0x00:byte])
			goto l0800_16B3;
	}
	word16 cx_1027 = ~cx_1033;
	word16 di_1013 = di_1031 - cx_1027;
	byte Z_1021 = cond(di_1013);
	if (cx_1027 != 0x00)
	{
		Z_1021 = cond(0x00 - Mem635[es_1017:di_1013 + 0x00:byte]);
		di_1013 = di_1013 + 0x01;
		cx_1027 = cx_1027 - 0x01;
		if (0x00 != Mem635[es_1017:di_1013 + 0x00:byte])
			goto l0800_16BB;
	}
	if (!Z_1021)
	{
		di_1013 = 0x01;
		es_1017 = 0x00;
	}
	byte dl_689 = Mem635[ds_428:10727:byte];
	Mem693[es_1017:di_1013 + 0x03:byte] = dl_689;
	Mem699[ds_428:0x2A05:word16] = 0x00;
	Mem700[ds_428:0x2A03:word16] = 0x00;
	Mem703[ss:sp_278 + 0x02:word16] = Mem700[ds_428:0x29E5:word16];
	Mem705[ss:sp_278 + 0x00:word16] = Mem703[ds_428:0x29E3:word16];
	word16 dx_690 = DPB(dx_574, dl_689, 0);
	selector ds_707;
	word16 ax_708 = fn0800_4194(bp_205, ds_428, wArg00, wArg02, out si_255, out ds_707);
	Mem710[ds_707:0x2A09:word16] = dx_690;
	Mem711[ds_707:0x2A07:word16] = ax_708;
	Mem716[ss:sp_278 + 0x02:word16] = 0x00;
	Mem718[ss:sp_278 + 0x00:word16] = Mem716[ds_707:0x29E9:word16];
	Mem720[ss:sp_278 - 0x02 + 0x00:word16] = Mem718[ds_707:10727:word16];
	Mem722[ss:sp_278 - 0x04 + 0x00:word16] = Mem720[ds_707:10721:word16];
	Mem724[ss:sp_278 - 0x06 + 0x00:word16] = Mem722[ds_707:10719:word16];
	ui32 dx_bp_691 = DPB(dx_bp_571, dl_689, 16);
	word16 di_694 = 0x01;
	selector ds_726;
	word16 ax_727 = fn0800_ACB3(bp_205, ds_707, ptrArg00, wArg02, wArg08, out ds_726);
	word16 sp_728 = sp_278 + 0x04;
	if (Mem724[ds_726:0x2A09:word16] >=u 0x00)
		if ((Mem724[ds_726:0x2A09:word16] >u 0x00 || Mem724[ds_726:0x2A07:word16] >u 0x12) && Mem724[ds_726:0x2A21:word16] != 0x00)
		{
			Mem922[ss:sp_278 + 0x02:word16] = Mem724[ds_726:0x29E5:word16];
			Mem924[ss:sp_278 + 0x00:word16] = Mem922[ds_726:0x29E3:word16];
			word16 dx_927 = fn0800_3F58(bp_205, ds_726, wArg00, wArg02, out di_694, out ds_726);
			dx_bp_691 = SEQ(dx_927, bp_205);
			sp_728 = sp_278 + 0x04;
			word16 ax_933 = fn0800_8CAA(ax_727, 0x08, dx_927, bp, out dx_690);
			if (dx_690 != 0x52 || ax_933 != 0x4E43)
			{
				word16 ax_1003;
				Mem940[ss:sp_278 + 0x02:word16] = Mem924[ds_726:0x2A09:word16];
				Mem942[ss:sp_278 + 0x00:word16] = Mem940[ds_726:0x2A07:word16];
				Mem944[ss:sp_278 - 0x02 + 0x00:word16] = Mem942[ds_726:0x2A09:word16];
				Mem946[ss:sp_278 - 0x04 + 0x00:word16] = Mem944[ds_726:0x2A07:word16];
				ds_726 = fn0800_75EA(bp_205, ds_726, wArg00, wArg02, wArg04, wArg06);
				dx_690 = Mem946[ds_726:0x2A03:word16];
				sp_728 = sp_278 + 0x04;
				word16 ax_949 = Mem946[ds_726:0x2A05:word16];
				dx_bp_691 = SEQ(dx_690, bp_205);
				if (ax_949 >=u Mem946[ds_726:0x2A09:word16] && (ax_949 != Mem946[ds_726:0x2A09:word16] || dx_690 >=u Mem946[ds_726:0x2A07:word16]))
					ax_1003 = 0x01;
				else
					ax_1003 = 0x00;
				di_694 = ax_1003;
				if (ax_1003 != 0x00)
				{
					Mem973[ss:sp_278 + 0x02:word16] = 0x01;
					dx_690 = -Mem973[ds_726:0x2A03:word16];
					Mem983[ss:sp_278 + 0x00:word16] = -Mem973[ds_726:0x2A05:word16] - (dx_690 == 0x00);
					Mem985[ss:sp_278 - 0x02 + 0x00:word16] = dx_690;
					Mem987[ss:sp_278 - 0x04 + 0x00:word16] = Mem985[ds_726:10721:word16];
					Mem989[ss:sp_278 - 0x06 + 0x00:word16] = Mem987[ds_726:10719:word16];
					fn0800_ACB3(bp_205, ds_726, ptrArg00, wArg02, wArg08, out ds_726);
					dx_bp_691 = SEQ(dx_690, bp_205);
					sp_728 = sp_278 + 0x04;
				}
			}
		}
	if (di_694 == 0x00)
	{
l0800_183F:
		word16 sp_762 = sp_728 - 0x02;
		Mem763[ss:sp_762 + 0x00:word16] = Mem724[ds_726:10705:word16];
		Mem765[ss:sp_762 - 0x02 + 0x00:word16] = Mem763[ds_726:10703:word16];
		Mem767[ss:sp_762 - 0x04 + 0x00:word16] = Mem765[ds_726:10733:word16];
		Mem769[ss:sp_762 - 0x06 + 0x00:word16] = Mem767[ds_726:10731:word16];
		selector ds_770 = fn0800_409C(bp_205, ds_726, wArg02, wArg04, wArg06);
		Mem774[ss:sp_762 + 0x00:word16] = Mem769[ds_770:0x29E5:word16];
		Mem776[ss:sp_762 - 0x02 + 0x00:word16] = Mem774[ds_770:0x29E3:word16];
		byte dl_777;
		selector ds_779;
		fn0800_A614(bp_205, ds_770, ptrArg00, wArg02, out dl_777, out di_253, out ds_779);
		Mem784[ss:sp_762 + 0x00:word16] = ds_779;
		Mem787[ss:sp_762 - 0x02 + 0x00:word16] = 0x4541;
		Mem789[ss:sp_762 - 0x04 + 0x00:word16] = si_255;
		ds_254 = fn0800_0ABC(bp_205, ds_779, wArg00, wArg02, wArg04);
		sp_256 = sp_762 + 0x02;
		dx_223 = DPB(dx_690, 0x00, 8);
		dx_bp_224 = DPB(dx_bp_691, 0x00, 24);
		if (dx_223 <u 0x4174)
			goto l0800_1897;
		Mem808[ss:sp_762 + 0x00:word16] = ds_254;
		Mem811[ss:sp_762 - 0x02 + 0x00:word16] = 0x0952;
		word16 di_812;
		si_255 = fn0800_B2EF(ds_254, wArg00, wArg02, out di_812);
		sp_286 = sp_762 + 0x02;
l0800_18A9:
		word16 sp_308 = sp_286 - 0x02;
		Mem309[ss:sp_308 + 0x00:word16] = Mem282[ds_254:10717:word16];
		Mem311[ss:sp_308 - 0x02 + 0x00:word16] = Mem309[ds_254:10715:word16];
		byte dl_312;
		word16 di_313;
		selector ds_314;
		fn0800_A614(bp_205, ds_254, ptrArg00, wArg02, out dl_312, out di_313, out ds_314);
		Mem319[ss:sp_308 + 0x00:word16] = ds_314;
		Mem323[ss:sp_308 - 0x02 + 0x00:word16] = 0x4477;
		fn0800_8F7F(0x77, ds_314, ptrArg00);
		selector ds_328;
		word16 bp_329 = fn0800_1E5E(bp_205, si_255, ds_314, out ds_328);
		Mem331[ss:sp_308 + 0x00:word16] = Mem323[ds_328:10705:word16];
		Mem333[ss:sp_308 - 0x02 + 0x00:word16] = Mem331[ds_328:10703:word16];
		byte dl_334;
		word16 di_335;
		selector ds_336;
		fn0800_A614(bp_329, ds_328, ptrArg00, wArg02, out dl_334, out di_335, out ds_336);
		return dl_334;
	}
	word16 ax_816 = Mem724[ds_726:0x2A09:word16];
	word16 dx_817 = Mem724[ds_726:0x2A07:word16];
	Mem819[ds_726:0x2A05:word16] = ax_816;
	Mem820[ds_726:0x2A03:word16] = dx_817;
	word16 sp_821 = sp_728 - 0x02;
	Mem822[ss:sp_821 + 0x00:word16] = Mem820[ds_726:0x29E5:word16];
	Mem824[ss:sp_821 - 0x02 + 0x00:word16] = Mem822[ds_726:0x29E3:word16];
	selector ds_825 = fn0800_BA67(ds_726, wArg00, wArg02);
	word16 sp_826 = sp_821 + 0x02;
	if (Mem824[ds_825:0x2A09:word16] >=u 0x00 && (Mem824[ds_825:0x2A09:word16] != 0x00 || Mem824[ds_825:0x2A07:word16] >=u 0x12))
	{
		Mem897[ss:sp_821 + 0x00:word16] = Mem824[ds_825:0x29E5:word16];
		Mem899[ss:sp_821 - 0x02 + 0x00:word16] = Mem897[ds_825:0x29E3:word16];
		word16 di_900;
		word16 dx_902 = fn0800_3F58(bp_205, ds_825, wArg00, wArg02, out di_900, out ds_825);
		dx_bp_691 = SEQ(dx_902, bp_205);
		sp_826 = sp_821 + 0x02;
		word16 ax_908 = fn0800_8CAA(ax_816, 0x08, dx_902, bp, out dx_690);
		if (dx_690 == 0x52 && ax_908 == 0x4E43)
		{
l0800_181E:
			word16 sp_844 = sp_826 - 0x02;
			Mem845[ss:sp_844 + 0x00:word16] = Mem824[ds_825:0x2A09:word16];
			Mem847[ss:sp_844 - 0x02 + 0x00:word16] = Mem845[ds_825:0x2A07:word16];
			Mem849[ss:sp_844 - 0x04 + 0x00:word16] = Mem847[ds_825:10705:word16];
			Mem851[ss:sp_844 - 0x06 + 0x00:word16] = Mem849[ds_825:10703:word16];
			Mem853[ss:sp_844 - 0x08 + 0x00:word16] = Mem851[ds_825:0x29E5:word16];
			Mem855[ss:sp_844 - 0x0A + 0x00:word16] = Mem853[ds_825:0x29E3:word16];
			ds_726 = fn0800_3B0A(bp_205, ds_825, wArg08, wArg0A);
			sp_728 = sp_844 + 0x02;
			si_255 = 0x02;
			goto l0800_183F;
		}
	}
	word16 sp_870 = sp_826 - 0x02;
	Mem871[ss:sp_870 + 0x00:word16] = Mem824[ds_825:10705:word16];
	Mem873[ss:sp_870 - 0x02 + 0x00:word16] = Mem871[ds_825:10703:word16];
	Mem878[ss:sp_870 - 0x04 + 0x00:word16] = 21070;
	Mem880[ss:sp_870 - 0x06 + 0x00:word16] = 0x4300;
	selector ds_881 = fn0800_409C(bp_205, ds_825, wArg02, wArg04, wArg06);
	Mem885[ss:sp_870 + 0x00:word16] = Mem880[ds_881:10705:word16];
	Mem887[ss:sp_870 - 0x02 + 0x00:word16] = Mem885[ds_881:10703:word16];
	Mem889[ss:sp_870 - 0x04 + 0x00:word16] = Mem887[ds_881:0x2A09:word16];
	Mem891[ss:sp_870 - 0x06 + 0x00:word16] = Mem889[ds_881:0x2A07:word16];
	dx_690 = 0x4300;
	dx_bp_691 = SEQ(0x4300, bp_205);
	ds_825 = fn0800_409C(bp_205, ds_881, wArg02, wArg04, wArg06);
	sp_826 = sp_870 + 0x02;
	goto l0800_181E;
}

byte fn0800_18D9(word16 bp, selector ds, ptr16 & siOut, ptr16 & dsOut)
{
	word16 di_31;
	word16 si_32 = fn0800_B2EF(ds, 2412, ds, out di_31);
	word16 dx_45;
	word16 di_47;
	word16 si_266;
	selector ds_268;
	word16 ax_49 = fn0800_AA7E(si_32, di_31, ds, 0x4348, ds, 2429, ds, out dx_45, out si_266, out di_47, out ds_268);
	Mem51[ds_268:10705:word16] = dx_45;
	Mem52[ds_268:10703:word16] = ax_49;
	word16 bp_129 = fp - 0x02;
	word16 sp_270 = fp - 114;
	if ((ax_49 | dx_45) == 0x00)
	{
		Mem259[ss:fp - 116 + 0x00:word16] = ds_268;
		Mem262[ss:fp - 118 + 0x00:word16] = 0x4348;
		Mem265[ss:fp - 0x78 + 0x00:word16] = 0x07;
		word16 di_267;
		fn0800_0D24(fp - 0x02, ds_268, out si_266, out di_267, out ds_268);
		sp_270 = fp - 114;
	}
	word16 sp_64 = sp_270 - 0x02;
	Mem65[ss:sp_64 + 0x00:word16] = 0x01;
	selector ds_203 = fn0800_1CF6(fp - 0x02, ds_268);
	Mem73[ss:sp_64 + 0x00:word16] = 0x00;
	Mem75[ss:sp_64 - 0x02 + 0x00:word16] = 0x00;
	fn0800_2DBF(ds_203, wArg00, wArg02);
	word16 sp_204 = sp_64 + 0x02;
	while (true)
	{
		word16 sp_95 = sp_204 - 0x02;
		Mem96[ss:sp_95 + 0x00:word16] = ss;
		Mem99[ss:sp_95 - 0x02 + 0x00:word16] = bp_129 - 110;
		Mem101[ss:sp_95 - 0x04 + 0x00:word16] = ss;
		Mem104[ss:sp_95 - 0x06 + 0x00:word16] = bp_129 - 0x08;
		Mem106[ss:sp_95 - 0x08 + 0x00:word16] = ss;
		Mem109[ss:sp_95 - 0x0A + 0x00:word16] = bp_129 - 0x04;
		selector ds_110;
		if (fn0800_29C5(bp_129, si_266, ds_203, out ds_110) == 0x00)
			break;
		Mem118[ss:sp_95 + 0x00:word16] = ss;
		Mem121[ss:sp_95 - 0x02 + 0x00:word16] = bp_129 - 110;
		fn0800_0C93(bp_129, ds_110, wArg00, wArg02);
		Mem125[ss:sp_95 + 0x00:word16] = Mem121[ss:bp_129 - 0x06 + 0x00:word16];
		Mem127[ss:sp_95 - 0x02 + 0x00:word16] = Mem125[ss:bp_129 - 0x08 + 0x00:word16];
		selector ds_128;
		bp_129 = fn0800_23EC(bp_129, ds_110, wArg00, wArg02, out ds_128);
		Mem133[ss:sp_95 + 0x00:word16] = Mem127[ss:bp_129 - 0x06 + 0x00:word16];
		Mem135[ss:sp_95 - 0x02 + 0x00:word16] = Mem133[ss:bp_129 - 0x08 + 0x00:word16];
		selector ds_137 = fn0800_22FE(ds_128, ptrArg00, wArg02);
		ptr32 es_di_139 = Mem135[ss:bp_129 - 0x04 + 0x00:segptr32];
		word16 sp_138 = sp_95 + 0x02;
		selector es_141 = SLICE(es_di_139, selector, 16);
		word16 di_142 = (word16) es_di_139 + 0x02;
		word16 cx_148 = ~0x00;
		if (cx_148 != 0x00)
		{
			di_142 = di_142 + 0x01;
			cx_148 = cx_148 - 0x01;
			if (0x00 != Mem135[es_141:di_142 + 0x00:byte])
				goto l0800_196E;
		}
		word16 cx_156 = ~cx_148;
		word16 di_159 = di_142 - cx_156;
		byte Z_163 = cond(di_159);
		if (cx_156 != 0x00)
		{
			Z_163 = cond(0x00 - Mem135[es_141:di_159 + 0x00:byte]);
			di_159 = di_159 + 0x01;
			cx_156 = cx_156 - 0x01;
			if (0x00 != Mem135[es_141:di_159 + 0x00:byte])
				goto l0800_1976;
		}
		if (!Z_163)
		{
			di_159 = 0x01;
			es_141 = 0x00;
		}
		if (Mem135[es_141:di_159 + 0x00:byte] == 0x00)
		{
			word16 dx_207 = Mem135[ds_137:11857:word16];
			if (Mem135[ds_137:11859:word16] != Mem135[ss:(bp_129 - 0x02) + 0x00:word16] || dx_207 + 0x08 != Mem135[ss:(bp_129 - 0x04) + 0x00:word16])
			{
				Mem214[ss:sp_95 + 0x00:word16] = Mem135[ss:bp_129 - 0x02 + 0x00:word16];
				Mem216[ss:sp_95 - 0x02 + 0x00:word16] = Mem214[ss:bp_129 - 0x04 + 0x00:word16];
				ds_137 = fn0800_2201(ds_137, ptrArg00, wArg02);
				sp_138 = sp_95 + 0x02;
			}
		}
		word16 sp_194 = sp_138 - 0x02;
		Mem195[ss:sp_194 + 0x00:word16] = ss;
		Mem198[ss:sp_194 - 0x02 + 0x00:word16] = bp_129 - 110;
		Mem201[ss:sp_194 - 0x04 + 0x00:word16] = 0x0D;
		ds_203 = fn0800_0ABC(bp_129, ds_137, wArg00, wArg02, wArg04);
		sp_204 = sp_194 + 0x02;
	}
	selector ds_240;
	word16 bp_241 = fn0800_1E5E(bp_129, si_266, ds_110, out ds_240);
	Mem243[ss:sp_95 + 0x00:word16] = Mem109[ds_240:10705:word16];
	Mem245[ss:sp_95 - 0x02 + 0x00:word16] = Mem243[ds_240:10703:word16];
	byte dl_246;
	word16 di_247;
	selector ds_248;
	fn0800_A614(bp_241, ds_240, ptrArg00, wArg02, out dl_246, out di_247, out ds_248);
	return dl_246;
}

byte fn0800_19EE(word16 bp, selector ds, ptr16 & dsOut)
{
	word16 di_34;
	word16 si_35 = fn0800_B2EF(ds, 0x0986, ds, out di_34);
	word16 dx_48;
	word16 di_50;
	selector ds_1015;
	word16 si_1013;
	word16 ax_52 = fn0800_AA7E(si_35, di_34, ds, 0x4348, ds, 0x0997, ds, out dx_48, out si_1013, out di_50, out ds_1015);
	Mem54[ds_1015:10705:word16] = dx_48;
	Mem55[ds_1015:10703:word16] = ax_52;
	word16 bp_146 = fp - 0x02;
	word16 sp_1017 = fp - 0x78;
	if ((ax_52 | dx_48) == 0x00)
	{
		Mem1006[ss:fp - 122 + 0x00:word16] = ds_1015;
		Mem1009[ss:fp - 0x7C + 0x00:word16] = 0x4348;
		Mem1012[ss:fp - 0x7E + 0x00:word16] = 0x07;
		word16 di_1014;
		fn0800_0D24(fp - 0x02, ds_1015, out si_1013, out di_1014, out ds_1015);
		sp_1017 = fp - 0x78;
	}
	if (Mem55[ds_1015:0x2A27:word16] == Mem55[ds_1015:9882:word16])
	{
		word16 dx_991 = Mem55[ds_1015:2434:word16];
		Mem992[ss:fp - 0x0C + 0x00:word16] = Mem55[ds_1015:0x0984:word16];
		Mem993[ss:fp - 0x0E + 0x00:word16] = dx_991;
		ptr32 es_bx_996 = Mem993[ds_1015:9884:segptr32];
		Mem0[es_bx_996 + 0x06:word16] = ss;
		Mem0[es_bx_996 + 0x04:word16] = fp - 0x0E;
		Mem1002[ds_1015:0x2A27:word16] = 0x01;
		Mem1003[ds_1015:9882:word16] = 0x02;
		Mem1004[ds_1015:10779:word16] = 0x01;
	}
	word16 sp_78 = sp_1017 - 0x02;
	Mem79[ss:sp_78 + 0x00:word16] = 0x00;
	Mem83[ss:sp_78 - 0x02 + 0x00:word16] = 0x01;
	fn0800_2DBF(ds_1015, wArg00, wArg02);
	Mem90[ss:sp_78 + 0x00:word16] = 0x01;
	selector ds_108 = fn0800_1CF6(fp - 0x02, ds_1015);
	word16 sp_109 = sp_78 + 0x02;
	if (Mem90[ds_108:0x2A25:word16] == 0x07)
	{
		Mem977[ss:sp_78 + 0x00:word16] = ds_108;
		Mem980[ss:sp_78 - 0x02 + 0x00:word16] = 0x099B;
		Mem982[ss:sp_78 - 0x04 + 0x00:word16] = ds_108;
		Mem985[ss:sp_78 - 0x06 + 0x00:word16] = 0x44DC;
		word16 di_986;
		si_1013 = fn0800_37BE(ds_108, wArg00, wArg02, wArg04, wArg06, out di_986);
		sp_109 = sp_78 + 0x02;
	}
	while (true)
	{
		word16 sp_111 = sp_109 - 0x02;
		Mem112[ss:sp_111 + 0x00:word16] = ss;
		Mem115[ss:sp_111 - 0x02 + 0x00:word16] = bp_146 - 114;
		Mem117[ss:sp_111 - 0x04 + 0x00:word16] = ss;
		Mem120[ss:sp_111 - 0x06 + 0x00:word16] = bp_146 - 0x08;
		Mem122[ss:sp_111 - 0x08 + 0x00:word16] = ss;
		Mem125[ss:sp_111 - 0x0A + 0x00:word16] = bp_146 - 0x04;
		selector ds_126;
		if (fn0800_29C5(bp_146, si_1013, ds_108, out ds_126) == 0x00)
			break;
		Mem134[ss:sp_111 + 0x00:word16] = ss;
		Mem137[ss:sp_111 - 0x02 + 0x00:word16] = bp_146 - 114;
		fn0800_0C93(bp_146, ds_126, wArg00, wArg02);
		Mem141[ss:sp_111 + 0x00:word16] = Mem137[ss:bp_146 - 0x06 + 0x00:word16];
		Mem143[ss:sp_111 - 0x02 + 0x00:word16] = Mem141[ss:bp_146 - 0x08 + 0x00:word16];
		word16 dx_145;
		selector ds_147;
		fn0800_24FE(bp_146, ds_126, ptrArg00, out dx_145, out bp_146, out ds_147);
		Mem156[ss:sp_111 + 0x00:word16] = 0x00;
		ptr32 es_di_157 = Mem156[ss:bp_146 - 0x08 + 0x00:segptr32];
		word16 di_1019 = (word16) es_di_157;
		selector es_159 = SLICE(es_di_157, selector, 16);
		word16 cx_160 = ~0x00;
		if (cx_160 != 0x00)
		{
			di_1019 = di_1019 + 0x01;
			cx_160 = cx_160 - 0x01;
			if (0x00 != Mem156[es_159:di_1019 + 0x00:byte])
				goto l0800_1AD1;
		}
		word16 cx_170 = ~cx_160;
		word16 di_1020 = di_1019 - cx_170;
		byte Z_179 = cond(di_1020);
		if (cx_170 != 0x00)
		{
			Z_179 = cond(0x00 - Mem156[es_159:di_1020 + 0x00:byte]);
			di_1020 = di_1020 + 0x01;
			cx_170 = cx_170 - 0x01;
			if (0x00 != Mem156[es_159:di_1020 + 0x00:byte])
				goto l0800_1AD9;
		}
		if (!Z_179)
		{
			di_1020 = 0x01;
			es_159 = 0x00;
		}
		ptr32 es_di_207 = Mem156[ss:bp_146 - 0x08 + 0x00:segptr32];
		Mem211[ss:sp_111 - 0x02 + 0x00:word16] = (int16) Mem156[es_159:di_1020 + 0x00:byte] << 0x08;
		word16 di_1021 = (word16) es_di_207;
		selector es_209 = SLICE(es_di_207, selector, 16);
		word16 cx_217 = ~0x00;
		if (cx_217 != 0x00)
		{
			di_1021 = di_1021 + 0x01;
			cx_217 = cx_217 - 0x01;
			if (0x00 != Mem211[es_209:di_1021 + 0x00:byte])
				goto l0800_1AFB;
		}
		word16 cx_227 = ~cx_217;
		word16 di_232 = di_1021 - cx_227;
		byte Z_236 = cond(di_232);
		if (cx_227 != 0x00)
		{
			Z_236 = cond(0x00 - Mem211[es_209:di_1022 + 0x00:byte]);
			di_232 = di_1022 + 0x01;
			cx_227 = cx_227 - 0x01;
			di_1022 = di_232;
			if (0x00 != Mem211[es_209:di_1022 + 0x00:byte])
				goto l0800_1B03;
		}
		if (!Z_236)
			es_209 = 0x00;
		ptr32 es_di_271 = Mem211[ss:bp_146 - 0x08 + 0x00:segptr32];
		Mem275[ss:sp_111 - 0x02 + 0x00:word16] = Mem211[ss:sp_111 - 0x02 + 0x00:word16] + DPB(es_209, 0x00, 8);
		Mem277[ss:sp_111 - 0x04 + 0x00:word16] = 0x00;
		word16 di_1023 = (word16) es_di_271;
		selector es_273 = SLICE(es_di_271, selector, 16);
		word16 cx_278 = ~0x00;
		if (cx_278 != 0x00)
		{
			di_1023 = di_1023 + 0x01;
			cx_278 = cx_278 - 0x01;
			if (0x00 != Mem277[es_273:di_1023 + 0x00:byte])
				goto l0800_1B26;
		}
		word16 cx_288 = ~cx_278;
		word16 di_1024 = di_1023 - cx_288;
		byte Z_297 = cond(di_1024);
		if (cx_288 != 0x00)
		{
			Z_297 = cond(0x00 - Mem277[es_273:di_1024 + 0x00:byte]);
			di_1024 = di_1024 + 0x01;
			cx_288 = cx_288 - 0x01;
			if (0x00 != Mem277[es_273:di_1024 + 0x00:byte])
				goto l0800_1B2E;
		}
		if (!Z_297)
		{
			di_1024 = 0x01;
			es_273 = 0x00;
		}
		ptr32 es_di_325 = Mem277[ss:bp_146 - 0x08 + 0x00:segptr32];
		Mem329[ss:sp_111 - 0x06 + 0x00:word16] = (int16) Mem277[es_273:di_1024 + 0x02:byte] << 0x08;
		word16 di_1025 = (word16) es_di_325;
		selector es_327 = SLICE(es_di_325, selector, 16);
		word16 cx_335 = ~0x00;
		if (cx_335 != 0x00)
		{
			di_1025 = di_1025 + 0x01;
			cx_335 = cx_335 - 0x01;
			if (0x00 != Mem329[es_327:di_1025 + 0x00:byte])
				goto l0800_1B50;
		}
		word16 cx_345 = ~cx_335;
		word16 di_1026 = di_1025 - cx_345;
		byte Z_354 = cond(di_1026);
		if (cx_345 != 0x00)
		{
			Z_354 = cond(0x00 - Mem329[es_327:di_1026 + 0x00:byte]);
			di_1026 = di_1026 + 0x01;
			cx_345 = cx_345 - 0x01;
			if (0x00 != Mem329[es_327:di_1026 + 0x00:byte])
				goto l0800_1B58;
		}
		if (!Z_354)
		{
			di_1026 = 0x01;
			es_327 = 0x00;
		}
		word16 ax_388 = Mem329[ss:sp_111 - 0x04 + 0x00:word16] + (Mem329[ss:(sp_111 - 0x06) + 0x00:word16] + DPB(es_327, 0x00, 8));
		word16 dx_393 = Mem329[ss:sp_111 - 0x02 + 0x00:word16] + (ax_388 <u 0x00);
		Mem396[ss:sp_111 - 0x02 + 0x00:word16] = dx_393;
		Mem398[ss:sp_111 - 0x04 + 0x00:word16] = ax_388;
		Mem400[ss:sp_111 - 0x06 + 0x00:word16] = Mem398[ds_147:10705:word16];
		Mem402[ss:sp_111 - 0x08 + 0x00:word16] = Mem400[ds_147:10703:word16];
		selector ds_404;
		fn0800_ACB3(bp_146, ds_147, ptrArg00, wArg02, wArg08, out ds_404);
		word16 di_376 = di_1026 - 0x01;
		word16 sp_406 = sp_111 + 0x02;
		if (Mem402[ds_404:0x2A25:word16] != 0x07)
		{
			Mem482[ss:sp_111 + 0x00:word16] = ds_404;
			selector es_483 = Mem482[ss:sp_111 + 0x00:selector];
			Mem488[ss:sp_111 + 0x00:word16] = es_483;
			Mem490[ss:sp_111 - 0x02 + 0x00:word16] = 0x44DC;
			word16 di_1027 = 17022;
			word16 cx_498 = ~0x00;
			if (cx_498 != 0x00)
			{
				di_1027 = di_1027 + 0x01;
				cx_498 = cx_498 - 0x01;
				if (0x00 != Mem490[es_483:di_1027 + 0x00:byte])
					goto l0800_1BA1;
			}
			word16 di_517 = Mem490[ss:sp_111 - 0x02 + 0x00:word16];
			selector es_520 = Mem490[ss:sp_111 + 0x00:selector];
			Mem525[ss:sp_111 + 0x00:word16] = ds_404;
			word16 cx_508 = ~cx_498;
			word16 cx_510 = cx_508 >>u 0x01;
			word16 si_516 = di_1027 - cx_508;
			while (cx_510 != 0x00)
			{
				Mem533[es_520:di_517 + 0x00:word16] = Mem525[es_483:si_516 + 0x00:word16];
				si_516 = si_516 + 0x02;
				di_517 = di_517 + 0x02;
				cx_510 = cx_510 - 0x01;
			}
			word16 cx_539 = cx_510 * 0x02 + (cx_508 >>u 0x01 <u 0x00);
			while (cx_539 != 0x00)
			{
				Mem548[es_520:di_517 + 0x00:byte] = Mem525[es_483:si_516 + 0x00:byte];
				si_516 = si_516 + 0x01;
				di_517 = di_517 + 0x01;
				cx_539 = cx_539 - 0x01;
			}
			selector ds_554 = Mem525[ss:sp_111 + 0x00:selector];
			word16 sp_555 = sp_111 + 0x02;
			if (Mem525[ds_554:0x2A25:word16] == 0x08)
				if (Mem525[ds_554:17022:byte] != 0x00 && Mem525[ss:(bp_146 - 114) + 0x00:byte] == 0x5C)
				{
					Mem755[ss:sp_111 + 0x00:word16] = ss;
					Mem758[ss:sp_111 - 0x02 + 0x00:word16] = bp_146 - 113;
					Mem760[ss:sp_111 - 0x04 + 0x00:word16] = ds_554;
					selector es_761 = Mem760[ss:sp_111 - 0x04 + 0x00:selector];
					word16 di_1032 = 0x44DC;
					word16 cx_771 = ~0x00;
					if (cx_771 != 0x00)
					{
						di_1032 = di_1032 + 0x01;
						cx_771 = cx_771 - 0x01;
						if (0x00 != Mem760[es_761:di_1032 + 0x00:byte])
							goto l0800_1BDC;
					}
					word16 cx_781 = ~cx_771;
					word16 di_1033 = di_1032 - cx_781;
					byte Z_790 = cond(di_1033);
					if (cx_781 != 0x00)
					{
						Z_790 = cond(0x00 - Mem760[es_761:di_1033 + 0x00:byte]);
						di_1033 = di_1033 + 0x01;
						cx_781 = cx_781 - 0x01;
						if (0x00 != Mem760[es_761:di_1033 + 0x00:byte])
							goto l0800_1BE4;
					}
					if (!Z_790)
					{
						di_1033 = 0x01;
						es_761 = 0x00;
					}
					Mem817[ss:sp_111 - 0x04 + 0x00:word16] = es_761;
					Mem819[ss:sp_111 - 0x06 + 0x00:word16] = di_1033 - 0x01;
					fn0800_3509(ds_554, wArg04, wArg06);
					sp_555 = sp_111 + 0x02;
				}
				else
				{
					Mem664[ss:sp_111 + 0x00:word16] = ss;
					Mem667[ss:sp_111 - 0x02 + 0x00:word16] = bp_146 - 114;
					Mem669[ss:sp_111 - 0x04 + 0x00:word16] = ds_554;
					selector es_670 = Mem669[ss:sp_111 - 0x04 + 0x00:selector];
					word16 di_1030 = 0x44DC;
					word16 cx_680 = ~0x00;
					if (cx_680 != 0x00)
					{
						di_1030 = di_1030 + 0x01;
						cx_680 = cx_680 - 0x01;
						if (0x00 != Mem669[es_670:di_1030 + 0x00:byte])
							goto l0800_1C0B;
					}
					word16 cx_690 = ~cx_680;
					word16 di_1031 = di_1030 - cx_690;
					byte Z_699 = cond(di_1031);
					if (cx_690 != 0x00)
					{
						Z_699 = cond(0x00 - Mem669[es_670:di_1031 + 0x00:byte]);
						di_1031 = di_1031 + 0x01;
						cx_690 = cx_690 - 0x01;
						if (0x00 != Mem669[es_670:di_1031 + 0x00:byte])
							goto l0800_1C13;
					}
					if (!Z_699)
					{
						di_1031 = 0x01;
						es_670 = 0x00;
					}
					Mem726[ss:sp_111 - 0x04 + 0x00:word16] = es_670;
					Mem728[ss:sp_111 - 0x06 + 0x00:word16] = di_1031 - 0x01;
					fn0800_3509(ds_554, wArg04, wArg06);
					sp_555 = sp_111 + 0x02;
				}
			word16 sp_561 = sp_555 - 0x02;
			Mem562[ss:sp_561 + 0x00:word16] = ds_554;
			Mem565[ss:sp_561 - 0x02 + 0x00:word16] = 0x44DC;
			si_1013 = fn0800_3678(bp_146, ds_554, ptrArg00, wArg02, out ds_404);
			Mem570[ss:sp_561 + 0x00:word16] = ss;
			Mem573[ss:sp_561 - 0x02 + 0x00:word16] = bp_146 - 114;
			Mem575[ss:sp_561 - 0x04 + 0x00:word16] = ds_404;
			selector es_576 = Mem575[ss:sp_561 - 0x04 + 0x00:selector];
			word16 di_1028 = 0x44DC;
			word16 cx_586 = ~0x00;
			if (cx_586 != 0x00)
			{
				di_1028 = di_1028 + 0x01;
				cx_586 = cx_586 - 0x01;
				if (0x00 != Mem575[es_576:di_1028 + 0x00:byte])
					goto l0800_1C43;
			}
			word16 cx_596 = ~cx_586;
			word16 di_1029 = di_1028 - cx_596;
			byte Z_605 = cond(di_1029);
			if (cx_596 != 0x00)
			{
				Z_605 = cond(0x00 - Mem575[es_576:di_1029 + 0x00:byte]);
				di_1029 = di_1029 + 0x01;
				cx_596 = cx_596 - 0x01;
				if (0x00 != Mem575[es_576:di_1029 + 0x00:byte])
					goto l0800_1C4B;
			}
			if (!Z_605)
			{
				di_1029 = 0x01;
				es_576 = 0x00;
			}
			Mem632[ss:sp_561 - 0x04 + 0x00:word16] = es_576;
			di_376 = di_1029 - 0x01;
			Mem634[ss:sp_561 - 0x06 + 0x00:word16] = di_376;
			fn0800_35A3(ds_404, wArg04, wArg06);
			sp_406 = sp_561 + 0x02;
		}
		word16 sp_419 = sp_406 - 0x02;
		Mem420[ss:sp_419 + 0x00:word16] = ds_404;
		Mem423[ss:sp_419 - 0x02 + 0x00:word16] = 2472;
		Mem425[ss:sp_419 - 0x04 + 0x00:word16] = ds_404;
		Mem428[ss:sp_419 - 0x06 + 0x00:word16] = 0x44DC;
		word16 di_431;
		selector ds_432;
		fn0800_4234(si_1013, di_376, ds_404, wArg00, wArg02, wArg04, wArg06, out di_431, out ds_432);
		Mem436[ds_432:10721:word16] = dx_393;
		Mem437[ds_432:10719:word16] = 0x44DC;
		word16 dx_439 = Mem437[ds_432:10703:word16];
		Mem441[ds_432:0x29E5:word16] = Mem437[ds_432:10705:word16];
		Mem442[ds_432:0x29E3:word16] = dx_439;
		selector ds_443;
		word16 ax_444 = fn0800_5374(bp_146, ds_432, out ds_443);
		Mem447[ss:sp_419 + 0x00:word16] = Mem442[ds_443:10721:word16];
		Mem449[ss:sp_419 - 0x02 + 0x00:word16] = Mem447[ds_443:10719:word16];
		byte dl_450;
		word16 di_451;
		selector ds_452;
		fn0800_A614(bp_146, ds_443, ptrArg00, wArg02, out dl_450, out di_451, out ds_452);
		word16 sp_454 = sp_419 + 0x02;
		si_1013 = ax_444;
		if (ax_444 != 0x00)
		{
			Mem473[ss:sp_419 + 0x00:word16] = ds_452;
			Mem477[ss:sp_419 - 0x02 + 0x00:word16] = 0x44DC;
			fn0800_8F7F(220, ds_452, ptrArg00);
			sp_454 = sp_419 + 0x02;
		}
		word16 sp_462 = sp_454 - 0x02;
		Mem463[ss:sp_462 + 0x00:word16] = ss;
		Mem466[ss:sp_462 - 0x02 + 0x00:word16] = bp_146 - 114;
		Mem468[ss:sp_462 - 0x04 + 0x00:word16] = ax_444;
		ds_108 = fn0800_0ABC(bp_146, ds_452, wArg00, wArg02, wArg04);
		sp_109 = sp_462 + 0x02;
	}
	Mem934[ss:sp_111 + 0x00:word16] = Mem125[ds_126:10705:word16];
	Mem936[ss:sp_111 - 0x02 + 0x00:word16] = Mem934[ds_126:10703:word16];
	word16 di_938;
	selector ds_939;
	byte dl_937;
	fn0800_A614(bp_146, ds_126, ptrArg00, wArg02, out dl_937, out di_938, out ds_939);
	if (Mem936[ds_939:0x2A25:word16] == 0x07)
	{
		Mem960[ss:sp_111 + 0x00:word16] = ds_939;
		Mem964[ss:sp_111 - 0x02 + 0x00:word16] = 0x44DC;
		dl_937 = fn0800_8F7F(220, ds_939, ptrArg00);
	}
	return dl_937;
}

selector fn0800_1CF6(word16 bp, selector ds)
{
	Mem15[ds:0x45A8:word16] = 0x00;
	Mem17[ds:0x45A6:word16] = 0x00;
	Mem18[ds:10733:word16] = 0x00;
	Mem19[ds:10731:word16] = 0x00;
	selector ds_35;
	word16 ax_36 = fn0800_ACB3(fp - 0x02, ds, DPB(ptrLoc10, Mem19[ds:10703:word16], 0), Mem19[ds:10705:word16], 0x02, out ds_35);
	Mem40[ss:fp - 0x08 + 0x00:word16] = Mem19[ds_35:10705:word16];
	Mem43[ss:fp - 0x0A + 0x00:word16] = Mem40[ds_35:10703:word16];
	selector ds_46;
	word16 dx_47 = fn0800_3E5D(fp - 0x02, ds_35, wArg00, wArg02, out ds_46);
	Mem50[ds_46:10733:word16] = dx_47;
	Mem51[ds_46:10731:word16] = ax_36;
	Mem53[ss:fp - 0x08 + 0x00:word16] = Mem51[ds_46:10705:word16];
	Mem55[ss:fp - 0x0A + 0x00:word16] = Mem53[ds_46:10703:word16];
	word16 si_56;
	selector ds_262;
	word16 ax_58 = fn0800_4194(fp - 0x02, ds_46, wArg00, wArg02, out si_56, out ds_262);
	word16 sp_264 = fp - 0x06;
	if (dx_47 <=u Mem55[ds_262:10733:word16] && (dx_47 <u Mem55[ds_262:10733:word16] || ax_58 <u Mem55[ds_262:10731:word16]))
	{
		Mem253[ss:fp - 0x08 + 0x00:word16] = ds_262;
		Mem256[ss:fp - 0x0A + 0x00:word16] = 0x4348;
		Mem259[ss:fp - 0x0C + 0x00:word16] = 11;
		word16 si_260;
		word16 di_261;
		fn0800_0D24(fp - 0x02, ds_262, out si_260, out di_261, out ds_262);
		sp_264 = fp - 0x06;
	}
	word16 sp_75 = sp_264 - 0x02;
	Mem76[ss:sp_75 + 0x00:word16] = 0x00;
	Mem78[ss:sp_75 - 0x02 + 0x00:word16] = Mem76[ds_262:10733:word16];
	Mem80[ss:sp_75 - 0x04 + 0x00:word16] = Mem78[ds_262:10731:word16];
	Mem82[ss:sp_75 - 0x06 + 0x00:word16] = Mem80[ds_262:10705:word16];
	Mem84[ss:sp_75 - 0x08 + 0x00:word16] = Mem82[ds_262:10703:word16];
	selector ds_87;
	word16 ax_88 = fn0800_ACB3(fp - 0x02, ds_262, ptrArg00, wArg02, wArg08, out ds_87);
	Mem92[ss:sp_75 + 0x00:word16] = Mem84[ds_87:10705:word16];
	Mem94[ss:sp_75 - 0x02 + 0x00:word16] = Mem92[ds_87:10703:word16];
	selector ds_100;
	word16 dx_96 = fn0800_3E5D(fp - 0x02, ds_87, wArg00, wArg02, out ds_100);
	word16 sp_102 = sp_75 + 0x02;
	if (dx_96 != 21070 || ax_88 != 17217)
	{
		Mem236[ss:sp_75 + 0x00:word16] = ds_100;
		Mem239[ss:sp_75 - 0x02 + 0x00:word16] = 0x4348;
		Mem242[ss:sp_75 - 0x04 + 0x00:word16] = 11;
		word16 si_243;
		word16 di_244;
		fn0800_0D24(fp - 0x02, ds_100, out si_243, out di_244, out ds_100);
		sp_102 = sp_75 + 0x02;
	}
	word16 sp_128;
	selector ds_127;
	word16 sp_103 = sp_102 - 0x02;
	Mem104[ss:sp_103 + 0x00:word16] = Mem94[ds_100:10705:word16];
	Mem106[ss:sp_103 - 0x02 + 0x00:word16] = Mem104[ds_100:10703:word16];
	word16 si_107;
	word16 di_108;
	selector ds_109;
	fn0800_3E27(fp - 0x02, ds_100, wArg00, wArg02, out si_107, out di_108, out ds_109);
	Mem115[ss:sp_103 + 0x00:word16] = Mem106[ds_109:10705:word16];
	Mem117[ss:sp_103 - 0x02 + 0x00:word16] = Mem115[ds_109:10703:word16];
	word16 si_118;
	word16 di_119;
	selector ds_120;
	Mem123[ss:fp - 0x04 + 0x00:word16] = fn0800_3E27(fp - 0x02, ds_109, wArg00, wArg02, out si_118, out di_119, out ds_120);
	if (Mem123[ss:fp + 0x02:word16] != 0x00)
	{
		Mem213[ss:sp_103 + 0x00:word16] = 0x00;
		Mem215[ss:sp_103 - 0x02 + 0x00:word16] = si_118;
		ds_127 = fn0800_4311(ds_120, wArg00, wArg02);
		Mem219[ds_127:11859:word16] = dx_96;
		Mem220[ds_127:11857:word16] = 0x00;
		sp_128 = sp_103 + 0x02;
	}
	else
	{
		Mem226[ss:sp_103 + 0x00:word16] = 0x00;
		Mem228[ss:sp_103 - 0x02 + 0x00:word16] = ~0x0F;
		ds_127 = fn0800_4311(ds_120, wArg00, wArg02);
		Mem232[ds_127:11859:word16] = ~0x0F;
		Mem233[ds_127:11857:word16] = 0x00;
		sp_128 = sp_103 + 0x02;
	}
	word16 sp_132 = sp_128 - 0x02;
	Mem133[ss:sp_132 + 0x00:word16] = 0x00;
	Mem135[ss:sp_132 - 0x02 + 0x00:word16] = Mem133[ds_127:10733:word16];
	Mem137[ss:sp_132 - 0x04 + 0x00:word16] = Mem135[ds_127:10731:word16];
	Mem139[ss:sp_132 - 0x06 + 0x00:word16] = Mem137[ds_127:10705:word16];
	Mem141[ss:sp_132 - 0x08 + 0x00:word16] = Mem139[ds_127:10703:word16];
	selector ds_142;
	fn0800_ACB3(fp - 0x02, ds_127, ptrArg00, wArg02, wArg08, out ds_142);
	Mem146[ss:sp_132 + 0x00:word16] = Mem141[ds_142:10705:word16];
	Mem148[ss:sp_132 - 0x02 + 0x00:word16] = Mem146[ds_142:10703:word16];
	Mem153[ss:sp_132 - 0x04 + 0x00:word16] = 0x00;
	Mem155[ss:sp_132 - 0x06 + 0x00:word16] = si_118;
	Mem157[ss:sp_132 - 0x08 + 0x00:word16] = Mem155[ds_142:11859:word16];
	Mem159[ss:sp_132 - 0x0A + 0x00:word16] = Mem157[ds_142:11857:word16];
	word16 di_163;
	selector ds_164;
	word16 si_165 = fn0800_4110(ds_142, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A, out di_163, out ds_164);
	Mem169[ss:sp_132 + 0x00:word16] = 0x00;
	Mem173[ss:sp_132 - 0x02 + 0x00:word16] = si_165 - 0x08;
	word16 ax_174 = Mem173[ds_164:11857:word16];
	Mem178[ss:sp_132 - 0x04 + 0x00:word16] = Mem173[ds_164:11859:word16];
	Mem180[ss:sp_132 - 0x06 + 0x00:word16] = ax_174 + 0x08;
	if (fn0800_2CCF(ds_164, ptrArg00, wArg04, wArg06) != Mem180[ss:(fp - 0x04) + 0x00:word16])
	{
		Mem196[ss:sp_132 + 0x00:word16] = ds_164;
		Mem199[ss:sp_132 - 0x02 + 0x00:word16] = 0x4348;
		Mem202[ss:sp_132 - 0x04 + 0x00:word16] = 0x0D;
		word16 si_203;
		word16 di_204;
		fn0800_0D24(fp - 0x02, ds_164, out si_203, out di_204, out ds_164);
	}
	return ds_164;
}

word16 fn0800_1E5E(word16 bp, word16 si, selector ds, ptr16 & dsOut)
{
	word16 ax_38 = fn0800_2CCF(ds, DPB(ptrLoc0A, Mem0[ds:11857:word16] + 0x08, 0), (DPB(ax, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8) - 0x08, 0x00);
	ptr32 es_bx_45 = Mem0[ds:11857:segptr32];
	Mem0[es_bx_45 + 0x06:byte] = (byte) (ax_38 >>u 0x08);
	Mem0[es_bx_45 + 0x07:byte] = (byte) ax_38;
	selector ds_73;
	fn0800_ACB3(bp, ds, DPB(ptrLoc0C, Mem49[ds:10703:word16], 0), Mem49[ds:10705:word16], 0x00, out ds_73);
	Mem78[ss:fp - 0x04 + 0x00:word16] = Mem49[ds_73:10705:word16];
	Mem81[ss:fp - 0x06 + 0x00:word16] = Mem78[ds_73:10703:word16];
	word16 si_84;
	word16 di_85;
	selector ds_165;
	word16 ax_87 = fn0800_3E27(bp, ds_73, wArg00, wArg02, out si_84, out di_85, out ds_165);
	word16 sp_166 = fp - 0x02;
	if (si_84 >u ax_87)
	{
		Mem154[ss:fp - 0x04 + 0x00:word16] = 0x00;
		Mem156[ss:fp - 0x06 + 0x00:word16] = si_84 - ax_87;
		Mem158[ss:fp - 0x08 + 0x00:word16] = Mem156[ds_165:10733:word16];
		Mem160[ss:fp - 0x0A + 0x00:word16] = Mem158[ds_165:10731:word16];
		Mem162[ss:fp - 0x0C + 0x00:word16] = Mem160[ds_165:10705:word16];
		Mem164[ss:fp - 0x0E + 0x00:word16] = Mem162[ds_165:10703:word16];
		ds_165 = fn0800_3BC3(bp, ds_165);
		sp_166 = fp - 0x02;
	}
	else if (si_84 <u ax_87)
	{
		Mem176[ss:fp - 0x04 + 0x00:word16] = 0x00;
		Mem178[ss:fp - 0x06 + 0x00:word16] = ax_87 - si_84;
		Mem180[ss:fp - 0x08 + 0x00:word16] = Mem178[ds_165:10733:word16];
		Mem182[ss:fp - 0x0A + 0x00:word16] = Mem180[ds_165:10731:word16];
		Mem184[ss:fp - 0x0C + 0x00:word16] = Mem182[ds_165:10705:word16];
		Mem186[ss:fp - 0x0E + 0x00:word16] = Mem184[ds_165:10703:word16];
		ds_165 = fn0800_3C99(bp, ds_165);
		sp_166 = fp - 0x02;
	}
	word16 sp_101 = sp_166 - 0x02;
	Mem102[ss:sp_101 + 0x00:word16] = 0x00;
	Mem104[ss:sp_101 - 0x02 + 0x00:word16] = Mem102[ds_165:10733:word16];
	Mem106[ss:sp_101 - 0x04 + 0x00:word16] = Mem104[ds_165:10731:word16];
	Mem108[ss:sp_101 - 0x06 + 0x00:word16] = Mem106[ds_165:10705:word16];
	Mem110[ss:sp_101 - 0x08 + 0x00:word16] = Mem108[ds_165:10703:word16];
	selector ds_113;
	fn0800_ACB3(bp, ds_165, ptrArg00, wArg02, wArg08, out ds_113);
	Mem117[ss:sp_101 + 0x00:word16] = Mem110[ds_113:10705:word16];
	Mem119[ss:sp_101 - 0x02 + 0x00:word16] = Mem117[ds_113:10703:word16];
	Mem124[ss:sp_101 - 0x04 + 0x00:word16] = 0x00;
	Mem126[ss:sp_101 - 0x06 + 0x00:word16] = si_84;
	Mem128[ss:sp_101 - 0x08 + 0x00:word16] = Mem126[ds_113:11859:word16];
	Mem130[ss:sp_101 - 0x0A + 0x00:word16] = Mem128[ds_113:11857:word16];
	selector ds_134 = fn0800_4152(ds_113, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A);
	Mem138[ss:sp_101 + 0x00:word16] = Mem130[ds_134:11859:word16];
	Mem140[ss:sp_101 - 0x02 + 0x00:word16] = Mem138[ds_134:11857:word16];
	selector ds_141;
	fn0800_4346(ds_134, wArg00, wArg02, out ds_141);
	return bp;
}

word16 fn0800_1F5C(word16 bp, selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dxOut, ptr16 & dsOut)
{
	word16 di_16 = (word16) ptrArg02;
	selector es_17 = SLICE(ptrArg02, selector, 16);
	word16 cx_24 = ~0x00;
	if (cx_24 != 0x00)
	{
		di_16 = di_16 + 0x01;
		cx_24 = cx_24 - 0x01;
		if (0x00 != Mem0[es_17:di_16 + 0x00:byte])
			goto l0800_1F6C;
	}
	word16 cx_36 = ~cx_24;
	word16 di_356 = di_16 - cx_36;
	byte Z_364 = cond(di_356);
	if (cx_36 != 0x00)
	{
		Z_364 = cond(0x3A - Mem0[es_17:di_356 + 0x00:byte]);
		di_356 = di_356 + 0x01;
		cx_36 = cx_36 - 0x01;
		if (0x3A != Mem0[es_17:di_356 + 0x00:byte])
			goto l0800_1F75;
	}
	if (!Z_364)
		di_356 = 0x01;
	word16 ax_331 = 0x00;
	if (di_356 != 0x01)
	{
		word16 di_283 = (word16) ptrArg02;
		word16 cx_289 = ~0x00;
		if (cx_289 != 0x00)
		{
			di_283 = di_283 + 0x01;
			cx_289 = cx_289 - 0x01;
			if (0x00 != Mem0[0x00:di_283 + 0x00:byte])
				goto l0800_1F8F;
		}
		word16 cx_299 = ~cx_289;
		word16 di_304 = di_283 - cx_299;
		byte Z_308 = cond(di_304);
		if (cx_299 != 0x00)
		{
			Z_308 = cond(0x3A - Mem0[0x00:di_304 + 0x00:byte]);
			di_304 = di_304 + 0x01;
			cx_299 = cx_299 - 0x01;
			if (0x3A != Mem0[0x00:di_304 + 0x00:byte])
				goto l0800_1F98;
		}
		if (!Z_308)
			di_304 = 0x01;
		ax_331 = 0x00;
		wArg04 = 0x00;
		wArg02 = di_304;
	}
	word16 ax_92 = (DPB(ax_331, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8);
	word16 ax_94 = Mem0[ds:11859:word16];
	word16 dx_96 = Mem0[ds:11857:word16] + ax_92;
	word16 di_100 = (word16) ptrArg02;
	word16 cx_106 = ~0x00;
	if (cx_106 != 0x00)
	{
		di_100 = di_378 + 0x01;
		cx_106 = cx_106 - 0x01;
		di_378 = di_100;
		if (0x00 != Mem0[0x00:di_378 + 0x00:byte])
			goto l0800_1FDE;
	}
	word16 cx_116 = ~cx_106;
	word16 ax_123 = dx_96 - Mem0[ds:11857:word16];
	word16 ax_127 = ax_123 + (cx_116 + 0x03);
	word16 bx_139 = (word16) ptrLoc06;
	word16 dx_134;
	Mem140[0x00:bx_139 + 0x00:byte] = (byte) fn0800_8C8A(ax_127, 0x08, 0x00 - (ax_123 <u 0x00) + (ax_127 <u 0x00), wLoc10, out dx_134);
	byte bLoc0A_120 = (byte) (cx_116 + 0x03);
	Mem149[0x00:bx_139 + 0x01:byte] = (byte) (dx_96 - Mem140[ds:11857:word16]) + bLoc0A_120;
	Mem153[ss:fp - 0x10 + 0x00:word16] = 0x00;
	Mem158[ss:fp - 0x12 + 0x00:word16] = dx_96 + 0x02;
	word16 di_159 = wArg02;
	word16 cx_166 = ~0x00;
	if (cx_166 != 0x00)
	{
		di_159 = di_159 + 0x01;
		cx_166 = cx_166 - 0x01;
		if (0x00 != Mem158[0x00:di_159 + 0x00:byte])
			goto l0800_202C;
	}
	word16 di_185 = Mem158[ss:fp - 0x12 + 0x00:word16];
	selector es_188 = Mem158[ss:fp - 0x10 + 0x00:selector];
	Mem193[ss:fp - 0x10 + 0x00:word16] = ds;
	word16 cx_176 = ~cx_166;
	word16 cx_178 = cx_176 >>u 0x01;
	word16 si_184 = di_159 - cx_176;
	while (cx_178 != 0x00)
	{
		Mem201[es_188:di_185 + 0x00:word16] = Mem193[0x00:si_184 + 0x00:word16];
		si_184 = si_184 + 0x02;
		di_185 = di_185 + 0x02;
		cx_178 = cx_178 - 0x01;
	}
	word16 cx_207 = cx_178 * 0x02 + (cx_176 >>u 0x01 <u 0x00);
	while (cx_207 != 0x00)
	{
		Mem216[es_188:di_185 + 0x00:byte] = Mem193[0x00:si_184 + 0x00:byte];
		si_184 = si_184 + 0x01;
		di_185 = di_185 + 0x01;
		cx_207 = cx_207 - 0x01;
	}
	selector ds_222 = Mem193[ss:fp - 0x10 + 0x00:selector];
	*dsOut = ds_222;
	Mem226[ax_94:bx_139 + (cx_116 + 0x03) - 0x01 + 0x00:byte] = 0x00;
	ptr32 es_bx_232 = Mem226[ds_222:11857:segptr32];
	Mem0[es_bx_232 + 0x04:byte] = (byte) (ax_92 + (cx_116 + 0x03) >>u 0x08);
	Mem0[es_bx_232 + 0x05:byte] = bLoc08 + bLoc0A_120;
	Mem244[ss:fp - 0x10 + 0x00:word16] = 0x00;
	Mem246[ss:fp - 0x12 + 0x00:word16] = 0x00;
	Mem248[ss:fp - 0x14 + 0x00:word16] = 0x00;
	Mem250[ss:fp - 22 + 0x00:word16] = cx_116 + 0x03;
	fn0800_2688(fp - 0x02, ds_222, wArg00, wArg02, wArg04, wArg06);
	*dxOut = ax_94;
	return dx_96;
}

void fn0800_2085(selector ds, segptr32 ptrArg02, selector psegArg04, segptr32 ptrArg06)
{
	word16 ax_29 = (DPB(ax, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8);
	word16 dx_33 = Mem0[ds:11857:word16] + ax_29;
	word16 di_38 = (word16) ptrArg02;
	selector es_39 = SLICE(ptrArg02, selector, 16);
	word16 cx_44 = ~0x00;
	if (cx_44 != 0x00)
	{
		di_38 = di_507 + 0x01;
		cx_44 = cx_44 - 0x01;
		di_507 = di_38;
		if (0x00 != Mem0[es_39:di_507 + 0x00:byte])
			goto l0800_20BE;
	}
	word16 bx_74 = Mem0[ds:11857:word16] + (((int16) Mem0[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x00:byte] << 0x08) + DPB(dx_33, 0x00, 8));
	word16 cx_56 = ~cx_44;
	segptr32 ptrLoc06_79 = DPB(ptrLoc06, bx_74 - 0x01, 0);
	selector ds_99 = fn0800_B0F3(bx_74 - 0x01 + (cx_56 + 0x04), Mem0[ds:11859:word16], bx_74 - 0x01, Mem0[ds:11859:word16], dx_33 - (bx_74 - 0x01));
	selector es_103 = SLICE(ptrLoc06_79, selector, 16);
	word16 di_112 = wArg02;
	word16 cx_118 = ~0x00;
	if (cx_118 != 0x00)
	{
		di_112 = di_112 + 0x01;
		cx_118 = cx_118 - 0x01;
		if (0x00 != Mem0[psegArg04:di_112 + 0x00:byte])
			goto l0800_211F;
	}
	word16 cx_128 = ~cx_118;
	word16 cx_130 = cx_128 >>u 0x01;
	word16 si_136 = di_112 - cx_128;
	word16 di_137 = bx_74 - 0x01;
	while (cx_130 != 0x00)
	{
		Mem153[es_103:di_137 + 0x00:word16] = Mem0[psegArg04:si_136 + 0x00:word16];
		si_136 = si_136 + 0x02;
		di_137 = di_137 + 0x02;
		cx_130 = cx_130 - 0x01;
	}
	word16 cx_159 = cx_130 * 0x02 + (cx_128 >>u 0x01 <u 0x00);
	while (cx_159 != 0x00)
	{
		Mem168[es_103:di_137 + 0x00:byte] = Mem0[psegArg04:si_136 + 0x00:byte];
		si_136 = si_136 + 0x01;
		di_137 = di_137 + 0x01;
		cx_159 = cx_159 - 0x01;
	}
	word16 di_177 = bx_74 - 0x01;
	selector es_178 = SLICE(ptrLoc06_79, selector, 16);
	word16 cx_183 = ~0x00;
	if (cx_183 != 0x00)
	{
		di_177 = di_177 + 0x01;
		cx_183 = cx_183 - 0x01;
		if (0x00 != Mem0[es_178:di_177 + 0x00:byte])
			goto l0800_213F;
	}
	word16 cx_193 = ~cx_183;
	word16 di_197 = di_177 - cx_193;
	byte Z_201 = cond(di_197);
	if (cx_193 != 0x00)
	{
		Z_201 = cond(0x00 - Mem0[es_178:di_197 + 0x00:byte]);
		di_197 = di_197 + 0x01;
		cx_193 = cx_193 - 0x01;
		if (0x00 != Mem0[es_178:di_197 + 0x00:byte])
			goto l0800_2147;
	}
	if (!Z_201)
	{
		di_197 = 0x01;
		es_178 = 0x00;
	}
	Mem225[es_178:di_197 + 0x00:byte] = 0x00;
	word16 di_227 = bx_74 - 0x01;
	selector es_228 = SLICE(ptrLoc06_79, selector, 16);
	word16 cx_233 = ~0x00;
	if (cx_233 != 0x00)
	{
		di_227 = di_227 + 0x01;
		cx_233 = cx_233 - 0x01;
		if (0x00 != Mem225[es_228:di_227 + 0x00:byte])
			goto l0800_2164;
	}
	word16 cx_243 = ~cx_233;
	word16 di_247 = di_227 - cx_243;
	byte Z_251 = cond(di_247);
	if (cx_243 != 0x00)
	{
		Z_251 = cond(0x00 - Mem225[es_228:di_247 + 0x00:byte]);
		di_247 = di_247 + 0x01;
		cx_243 = cx_243 - 0x01;
		if (0x00 != Mem225[es_228:di_247 + 0x00:byte])
			goto l0800_216C;
	}
	if (!Z_251)
	{
		di_247 = 0x01;
		es_228 = 0x00;
	}
	Mem275[es_228:di_247 + 0x01:byte] = 0x00;
	word16 di_277 = bx_74 - 0x01;
	selector es_278 = SLICE(ptrLoc06_79, selector, 16);
	word16 cx_283 = ~0x00;
	if (cx_283 != 0x00)
	{
		di_277 = di_277 + 0x01;
		cx_283 = cx_283 - 0x01;
		if (0x00 != Mem275[es_278:di_277 + 0x00:byte])
			goto l0800_2189;
	}
	word16 cx_293 = ~cx_283;
	word16 di_297 = di_277 - cx_293;
	byte Z_301 = cond(di_297);
	if (cx_293 != 0x00)
	{
		Z_301 = cond(0x00 - Mem275[es_278:di_297 + 0x00:byte]);
		di_297 = di_297 + 0x01;
		cx_293 = cx_293 - 0x01;
		if (0x00 != Mem275[es_278:di_297 + 0x00:byte])
			goto l0800_2191;
	}
	if (!Z_301)
	{
		di_297 = 0x01;
		es_278 = 0x00;
	}
	Mem325[es_278:di_297 + 0x02:byte] = 0x00;
	word16 di_327 = bx_74 - 0x01;
	selector es_328 = SLICE(ptrLoc06_79, selector, 16);
	word16 cx_333 = ~0x00;
	if (cx_333 != 0x00)
	{
		di_327 = di_327 + 0x01;
		cx_333 = cx_333 - 0x01;
		if (0x00 != Mem325[es_328:di_327 + 0x00:byte])
			goto l0800_21AE;
	}
	word16 cx_343 = ~cx_333;
	word16 di_347 = di_327 - cx_343;
	byte Z_351 = cond(di_347);
	if (cx_343 != 0x00)
	{
		Z_351 = cond(0x00 - Mem325[es_328:di_347 + 0x00:byte]);
		di_347 = di_347 + 0x01;
		cx_343 = cx_343 - 0x01;
		if (0x00 != Mem325[es_328:di_347 + 0x00:byte])
			goto l0800_21B6;
	}
	if (!Z_351)
	{
		di_347 = 0x01;
		es_328 = 0x00;
	}
	Mem375[es_328:di_347 + 0x03:byte] = 0x00;
	ptr32 es_bx_381 = Mem375[ds_99:11857:segptr32];
	Mem0[es_bx_381 + 0x04:byte] = (byte) (ax_29 + (cx_56 + 0x04) >>u 0x08);
	Mem0[es_bx_381 + 0x05:byte] = bLoc0C + bLoc0E;
	fn0800_2688(fp - 0x02, ds_99, cx_56 + 0x04, 0x00, 0x00, 0x00);
	return;
}

selector fn0800_2201(selector ds, segptr32 ptrArg02, word16 wArg04)
{
	word16 ax_26 = (DPB(ax, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8);
	word16 dx_31 = Mem0[ds:11857:word16] + ax_26;
	word16 dx_49 = Mem0[ds:11857:word16] + (((int16) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte] << 0x08) + DPB(dx_31, 0x00, 8)) - wArg02;
	word16 ax_56 = wArg02 + dx_49;
	selector ds_76 = fn0800_B0F3(wArg02, wArg04, ax_56, wArg04, dx_31 - ax_56);
	ptr32 es_bx_83 = Mem0[ds_76:11857:segptr32];
	Mem0[es_bx_83 + 0x04:byte] = (byte) (ax_26 - dx_49 >>u 0x08);
	Mem0[es_bx_83 + 0x05:byte] = (byte) ax_26 - (byte) dx_49;
	word16 ax_98 = -dx_49;
	fn0800_2688(fp - 0x02, ds_76, ax_98, -0x00 - (ax_98 == 0x00), 0x00, 0x00);
	word16 dx_108 = Mem89[ds_76:17838:word16];
	if (Mem89[ds_76:0x45B0:word16] != wArg04 || dx_108 != wArg02)
	{
		if (Mem89[ds_76:17838:word16] >u wArg02)
			Mem143[ds_76:0x45AA:word16] = Mem89[ds_76:0x45AA:word16] - dx_49;
		return ds_76;
	}
	else
	{
		selector es_149 = SLICE(ptrArg02, selector, 16);
		word16 di_150 = (word16) ptrArg02 + 0x02;
		word16 cx_156 = ~0x00;
		if (cx_156 != 0x00)
		{
			di_150 = di_150 + 0x01;
			cx_156 = cx_156 - 0x01;
			if (0x00 != Mem89[es_149:di_150 + 0x00:byte])
				goto l0800_22C7;
		}
		word16 cx_166 = ~cx_156;
		word16 di_170 = di_150 - cx_166;
		byte Z_174 = cond(di_170);
		if (cx_166 != 0x00)
		{
			Z_174 = cond(0x00 - Mem89[es_149:di_170 + 0x00:byte]);
			di_170 = di_170 + 0x01;
			cx_166 = cx_166 - 0x01;
			if (0x00 != Mem89[es_149:di_170 + 0x00:byte])
				goto l0800_22CF;
		}
		if (!Z_174)
		{
			di_170 = 0x01;
			es_149 = 0x00;
		}
		Mem204[ds_76:0x45AC:word16] = es_149;
		Mem205[ds_76:0x45AA:word16] = di_170;
		return ds_76;
	}
}

selector fn0800_22FE(selector ds, segptr32 ptrArg02, word16 wArg04)
{
	word16 ax_26 = (DPB(ax, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8);
	word16 dx_30 = Mem0[ds:11857:word16] + ax_26;
	word16 di_203 = (word16) ptrArg02;
	selector es_36 = SLICE(ptrArg02, selector, 16);
	word16 cx_205 = ~0x00;
	if (cx_205 != 0x00)
	{
		di_203 = di_203 + 0x01;
		cx_205 = cx_205 - 0x01;
		if (0x00 != Mem0[es_36:di_203 + 0x00:byte])
			goto l0800_2336;
	}
	word16 cx_199 = ~cx_205;
	word16 di_186 = di_203 - cx_199;
	byte Z_194 = cond(di_186);
	if (cx_199 != 0x00)
	{
		Z_194 = cond(0x00 - Mem0[es_36:di_186 + 0x00:byte]);
		di_186 = di_186 + 0x01;
		cx_199 = cx_199 - 0x01;
		if (0x00 != Mem0[es_36:di_186 + 0x00:byte])
			goto l0800_233E;
	}
	if (!Z_194)
		di_186 = 0x01;
	word16 di_90 = di_186 + 0x04 - wArg02;
	word16 ax_97 = wArg02 + di_90;
	selector ds_117 = fn0800_B0F3(wArg02, wArg04, ax_97, wArg04, dx_30 - ax_97);
	ptr32 es_bx_124 = Mem0[ds_117:11857:segptr32];
	Mem0[es_bx_124 + 0x04:byte] = (byte) (ax_26 - di_90 >>u 0x08);
	Mem0[es_bx_124 + 0x05:byte] = bLoc08 - (byte) di_90;
	word16 ax_140 = -di_90;
	fn0800_2688(fp - 0x02, ds_117, ax_140, -0x00 - (ax_140 == 0x00), 0x00, 0x00);
	Mem152[ds_117:0x45AC:word16] = wArg04;
	word16 dx_151 = wArg02 + di_90;
	Mem153[ds_117:0x45AA:word16] = dx_151;
	if ((dx_151 | wArg04) == 0x00)
	{
		if (Mem153[ds_117:0x45AA:word16] >u wArg02)
			Mem184[ds_117:0x45AA:word16] = Mem153[ds_117:0x45AA:word16] - di_90;
		return ds_117;
	}
	else
	{
		Mem167[ds_117:0x45AC:word16] = wArg04;
		Mem168[ds_117:0x45AA:word16] = wArg02;
		return ds_117;
	}
}

word16 fn0800_23EC(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & dsOut)
{
	word16 dx_21;
	word16 bp_22;
	selector ds_23;
	word16 ax_24 = fn0800_24FE(fp - 0x02, ds, DPB(ptrLoc10, wArg02, 0), out dx_21, out bp_22, out ds_23);
	Mem26[ss:bp_22 - 0x06 + 0x00:word16] = dx_21;
	Mem28[ss:bp_22 - 0x08 + 0x00:word16] = ax_24;
	ptr32 es_di_29 = Mem28[ss:bp_22 + 0x04:segptr32];
	word16 di_30 = (word16) es_di_29;
	selector es_31 = SLICE(es_di_29, selector, 16);
	word16 cx_38 = ~0x00;
	if (cx_38 != 0x00)
	{
		di_30 = di_30 + 0x01;
		cx_38 = cx_38 - 0x01;
		if (0x00 != Mem28[es_31:di_30 + 0x00:byte])
			goto l0800_240D;
	}
	word16 cx_395 = ~cx_38;
	word16 di_383 = di_30 - cx_395;
	byte Z_391 = cond(di_383);
	if (cx_395 != 0x00)
	{
		Z_391 = cond(0x00 - Mem28[es_31:di_383 + 0x00:byte]);
		di_383 = di_383 + 0x01;
		cx_395 = cx_395 - 0x01;
		if (0x00 != Mem28[es_31:di_383 + 0x00:byte])
			goto l0800_2415;
	}
	if (!Z_391)
	{
		di_383 = 0x01;
		es_31 = 0x00;
	}
	ptr32 es_di_86 = Mem28[ss:bp_22 + 0x04:segptr32];
	Mem90[ss:fp - 0x0E + 0x00:word16] = (int16) Mem28[es_31:di_383 + 0x00:byte] << 0x08;
	word16 di_104 = (word16) es_di_86;
	selector es_135 = SLICE(es_di_86, selector, 16);
	word16 cx_100 = ~0x00;
	if (cx_100 != 0x00)
	{
		di_104 = di_104 + 0x01;
		cx_100 = cx_100 - 0x01;
		if (0x00 != Mem90[es_135:di_104 + 0x00:byte])
			goto l0800_2437;
	}
	word16 cx_107 = ~cx_100;
	word16 di_113 = di_104 - cx_107;
	byte Z_117 = cond(di_113);
	if (cx_107 != 0x00)
	{
		Z_117 = cond(0x00 - Mem90[es_135:di_406 + 0x00:byte]);
		di_113 = di_406 + 0x01;
		cx_107 = cx_107 - 0x01;
		di_406 = di_113;
		if (0x00 != Mem90[es_135:di_406 + 0x00:byte])
			goto l0800_243F;
	}
	if (!Z_117)
		es_135 = 0x00;
	ptr32 es_di_152 = Mem90[ss:bp_22 + 0x04:segptr32];
	Mem156[ss:fp - 0x0E + 0x00:word16] = Mem90[ss:fp - 0x0E + 0x00:word16] + DPB(es_135, 0x00, 8);
	Mem158[ss:fp - 0x10 + 0x00:word16] = 0x00;
	word16 di_153 = (word16) es_di_152;
	selector es_154 = SLICE(es_di_152, selector, 16);
	word16 cx_159 = ~0x00;
	if (cx_159 != 0x00)
	{
		di_153 = di_153 + 0x01;
		cx_159 = cx_159 - 0x01;
		if (0x00 != Mem158[es_154:di_153 + 0x00:byte])
			goto l0800_2462;
	}
	word16 cx_169 = ~cx_159;
	word16 di_175 = di_153 - cx_169;
	byte Z_179 = cond(di_175);
	if (cx_169 != 0x00)
	{
		Z_179 = cond(0x00 - Mem158[es_154:di_175 + 0x00:byte]);
		di_175 = di_175 + 0x01;
		cx_169 = cx_169 - 0x01;
		if (0x00 != Mem158[es_154:di_175 + 0x00:byte])
			goto l0800_246A;
	}
	if (!Z_179)
	{
		di_175 = 0x01;
		es_154 = 0x00;
	}
	ptr32 es_di_206 = Mem158[ss:bp_22 + 0x04:segptr32];
	Mem210[ss:fp - 0x12 + 0x00:word16] = (int16) Mem158[es_154:di_175 + 0x02:byte] << 0x08;
	word16 di_207 = (word16) es_di_206;
	selector es_208 = SLICE(es_di_206, selector, 16);
	word16 cx_217 = ~0x00;
	if (cx_217 != 0x00)
	{
		di_207 = di_207 + 0x01;
		cx_217 = cx_217 - 0x01;
		if (0x00 != Mem210[es_208:di_207 + 0x00:byte])
			goto l0800_248C;
	}
	word16 cx_227 = ~cx_217;
	word16 di_233 = di_207 - cx_227;
	byte Z_237 = cond(di_233);
	if (cx_227 != 0x00)
	{
		Z_237 = cond(0x00 - Mem210[es_208:di_410 + 0x00:byte]);
		di_233 = di_410 + 0x01;
		cx_227 = cx_227 - 0x01;
		di_410 = di_233;
		if (0x00 != Mem210[es_208:di_410 + 0x00:byte])
			goto l0800_2494;
	}
	if (!Z_237)
		es_208 = 0x00;
	word16 ax_270 = Mem210[ss:fp - 0x10 + 0x00:word16] + (Mem210[ss:(fp - 0x12) + 0x00:word16] + DPB(es_208, 0x00, 8));
	Mem276[ss:bp_22 - 0x02 + 0x00:word16] = Mem210[ss:fp - 0x0E + 0x00:word16] + (ax_270 <u 0x00);
	Mem277[ss:bp_22 - 0x04 + 0x00:word16] = ax_270;
	Mem279[ss:fp - 0x0E + 0x00:word16] = Mem277[ss:bp_22 - 0x06 + 0x00:word16];
	Mem281[ss:fp - 0x10 + 0x00:word16] = Mem279[ss:bp_22 - 0x08 + 0x00:word16];
	word16 dx_284 = Mem281[ss:bp_22 - 0x04 + 0x00:word16] - Mem281[ds_23:0x45A6:word16];
	Mem290[ss:fp - 0x12 + 0x00:word16] = Mem281[ss:bp_22 - 0x02 + 0x00:word16] - Mem281[ds_23:0x45A8:word16] - (dx_284 <u 0x00);
	Mem292[ss:fp - 0x14 + 0x00:word16] = dx_284;
	Mem294[ss:fp - 22 + 0x00:word16] = Mem292[ds_23:10705:word16];
	Mem296[ss:fp - 0x18 + 0x00:word16] = Mem294[ds_23:10703:word16];
	selector ds_297 = fn0800_3C99(bp_22, ds_23);
	*dsOut = ds_297;
	Mem300[ss:fp - 0x0E + 0x00:word16] = Mem296[ss:bp_22 - 0x02 + 0x00:word16];
	Mem302[ss:fp - 0x10 + 0x00:word16] = Mem300[ss:bp_22 - 0x04 + 0x00:word16];
	word16 dx_306 = -Mem302[ss:bp_22 - 0x08 + 0x00:word16];
	Mem311[ss:fp - 0x12 + 0x00:word16] = -Mem302[ss:bp_22 - 0x06 + 0x00:word16] - (dx_306 == 0x00);
	Mem313[ss:fp - 0x14 + 0x00:word16] = dx_306;
	fn0800_2688(bp_22, ds_297, wArg00, wArg02, wArg04, wArg06);
	return Mem313[ss:bp_22 + 0x00:word16];
}

word16 fn0800_24FE(word16 bp, selector ds, segptr32 ptrArg02, ptr16 & dxOut, ptr16 & bpOut, ptr16 & dsOut)
{
	word16 di_13 = (word16) ptrArg02;
	selector es_14 = SLICE(ptrArg02, selector, 16);
	word16 cx_22 = ~0x00;
	if (cx_22 != 0x00)
	{
		di_13 = di_13 + 0x01;
		cx_22 = cx_22 - 0x01;
		if (0x00 != Mem0[es_14:di_13 + 0x00:byte])
			goto l0800_250D;
	}
	word16 cx_34 = ~cx_22;
	word16 di_40 = di_13 - cx_34;
	byte Z_44 = cond(di_40);
	if (cx_34 != 0x00)
	{
		Z_44 = cond(0x00 - Mem0[es_14:di_485 + 0x00:byte]);
		di_40 = di_485 + 0x01;
		cx_34 = cx_34 - 0x01;
		di_485 = di_40;
		if (0x00 != Mem0[es_14:di_485 + 0x00:byte])
			goto l0800_2515;
	}
	word16 di_460 = (word16) ptrArg02;
	word16 cx_462 = ~0x00;
	if (cx_462 != 0x00)
	{
		di_460 = di_460 + 0x01;
		cx_462 = cx_462 - 0x01;
		if (0x00 != Mem0[0x00:di_460 + 0x00:byte])
			goto l0800_2537;
	}
	word16 cx_104 = ~cx_462;
	word16 di_111 = di_460 - cx_104;
	byte Z_102 = cond(di_111);
	if (cx_104 != 0x00)
	{
		Z_102 = cond(0x00 - Mem0[0x00:di_487 + 0x00:byte]);
		di_111 = di_487 + 0x01;
		cx_104 = cx_104 - 0x01;
		di_487 = di_111;
		if (0x00 != Mem0[0x00:di_487 + 0x00:byte])
			goto l0800_253F;
	}
	word16 di_138 = (word16) ptrArg02;
	selector es_139 = SLICE(ptrArg02, selector, 16);
	word16 cx_144 = ~0x00;
	if (cx_144 != 0x00)
	{
		di_138 = di_138 + 0x01;
		cx_144 = cx_144 - 0x01;
		if (0x00 != Mem0[es_139:di_138 + 0x00:byte])
			goto l0800_2562;
	}
	word16 cx_154 = ~cx_144;
	word16 di_160 = di_138 - cx_154;
	byte Z_164 = cond(di_160);
	if (cx_154 != 0x00)
	{
		Z_164 = cond(0x00 - Mem0[es_139:di_489 + 0x00:byte]);
		di_160 = di_489 + 0x01;
		cx_154 = cx_154 - 0x01;
		di_489 = di_160;
		if (0x00 != Mem0[es_139:di_489 + 0x00:byte])
			goto l0800_256A;
	}
	word16 di_192 = (word16) ptrArg02;
	selector es_193 = SLICE(ptrArg02, selector, 16);
	word16 cx_202 = ~0x00;
	if (cx_202 != 0x00)
	{
		di_192 = di_192 + 0x01;
		cx_202 = cx_202 - 0x01;
		if (0x00 != Mem0[es_193:di_192 + 0x00:byte])
			goto l0800_258C;
	}
	word16 cx_212 = ~cx_202;
	word16 di_218 = di_192 - cx_212;
	byte Z_222 = cond(di_218);
	if (cx_212 != 0x00)
	{
		Z_222 = cond(0x00 - Mem0[es_193:di_491 + 0x00:byte]);
		di_218 = di_491 + 0x01;
		cx_212 = cx_212 - 0x01;
		di_491 = di_218;
		if (0x00 != Mem0[es_193:di_491 + 0x00:byte])
			goto l0800_2594;
	}
	selector ds_282;
	word16 ax_283 = fn0800_ACB3(fp - 0x02, ds, DPB(ptrLoc1A, Mem0[ds:10703:word16], 0), Mem0[ds:10705:word16], 0x00, out ds_282);
	Mem287[ss:fp - 0x12 + 0x00:word16] = Mem0[ds_282:10705:word16];
	Mem290[ss:fp - 0x14 + 0x00:word16] = Mem287[ds_282:10703:word16];
	selector ds_293;
	word16 dx_294 = fn0800_3E5D(fp - 0x02, ds_282, wArg00, wArg02, out ds_293);
	Mem297[ss:fp - 0x08 + 0x00:word16] = dx_294;
	Mem298[ss:fp - 0x0A + 0x00:word16] = ax_283;
	word16 sp_295 = fp - 0x10;
	word16 dx_300;
	word16 ax_301 = fn0800_8C8A(ax_283, 0x08, dx_294, bp, out dx_300);
	if (dx_300 != 0x52 || ax_301 != 0x4E43)
	{
		Mem387[ss:fp - 0x12 + 0x00:word16] = ds_293;
		Mem390[ss:fp - 0x14 + 0x00:word16] = 0x4348;
		Mem393[ss:fp - 22 + 0x00:word16] = 0x0C;
		word16 si_394;
		word16 di_395;
		fn0800_0D24(fp - 0x02, ds_293, out si_394, out di_395, out ds_293);
		sp_295 = fp - 0x10;
	}
	word16 ax_314 = Mem298[ss:fp - 0x0A + 0x00:word16];
	if ((ax_314 & 0xFF) != 0x00)
	{
		Mem337[ss:sp_295 + 0x00:word16] = Mem298[ds_293:10705:word16];
		word16 sp_338 = sp_295 - 0x02;
		Mem339[ss:sp_338 + 0x00:word16] = Mem337[ds_293:10703:word16];
		selector ds_340;
		word16 dx_341 = fn0800_3E5D(fp - 0x02, ds_293, wArg00, wArg02, out ds_340);
		Mem344[ds_340:0x2A09:word16] = dx_341;
		Mem345[ds_340:0x2A07:word16] = ax_314 & 0xFF;
		Mem347[ss:sp_338 + 0x02:word16] = Mem345[ds_340:10705:word16];
		Mem349[ss:sp_338 + 0x00:word16] = Mem347[ds_340:10703:word16];
		selector ds_350;
		word16 dx_351 = fn0800_3E5D(fp - 0x02, ds_340, wArg00, wArg02, out ds_350);
		Mem353[ds_350:0x2A05:word16] = dx_351;
		Mem354[ds_350:0x2A03:word16] = ax_314 & 0xFF;
		ui32 ax_dx_358 = SEQ(Mem354[ds_350:0x2A05:word16], Mem354[ds_350:0x2A03:word16] + 0x12);
		Mem364[ss:fp - 0x0C + 0x00:word16] = SLICE(ax_dx_358 + 0x12, word16, 16);
		Mem365[ss:fp - 0x0E + 0x00:word16] = (word16) (ax_dx_358 + 0x12);
	}
	else
	{
		Mem366[ss:sp_295 + 0x00:word16] = Mem298[ds_293:10705:word16];
		Mem368[ss:sp_295 - 0x02 + 0x00:word16] = Mem366[ds_293:10703:word16];
		selector ds_369;
		word16 dx_370 = fn0800_3E5D(fp - 0x02, ds_293, wArg00, wArg02, out ds_369);
		Mem372[ds_369:0x2A05:word16] = dx_370;
		Mem373[ds_369:0x2A03:word16] = ax_314 & 0xFF;
		Mem374[ds_369:0x2A09:word16] = dx_370;
		Mem375[ds_369:0x2A07:word16] = ax_314 & 0xFF;
		ui32 dx_ax_377 = SEQ(dx_370, (ax_314 & 0xFF) + 0x08);
		Mem383[ss:fp - 0x0C + 0x00:word16] = SLICE(dx_ax_377 + 0x08, word16, 16);
		Mem384[ss:fp - 0x0E + 0x00:word16] = (word16) (dx_ax_377 + 0x08);
	}
	*dxOut = Mem298[ss:fp - 0x0C + 0x00:word16];
	*bpOut = Mem298[ss:fp - 0x02 + 0x00:word16];
	return Mem298[ss:fp - 0x0E + 0x00:word16];
}

void fn0800_2688(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08)
{
fn0800_2688_entry:
	word16 sp_142 = fp - 0x12
	word16 dx_24 = Mem0[ds:11859:word16]
	word16 bx_25 = (word16) Mem0[ds:11857:segptr32] + ((DPB(ax, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8))
	word16 ax_28 = Mem0[ds:11859:word16]
	word16 wLoc06_224 = Mem0[ds:11857:word16] + 0x08
	goto l0800_27B3
l0800_2688:
l0800_26C3:
	word16 dx_136 = wLoc06_224
	word16 wLoc06_100 = wLoc06_224 + 0x02
l0800_26D3:
	wLoc06_100 = wLoc06_100 + 0x01
	branch Mem0[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] != 0x00 l0800_26D3
	goto l0800_277D
l0800_26E2:
	word16 v25_110 = wLoc06_100 + 0x01
	wLoc06_100 = v25_110
	branch Mem0[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] != 0x00 l0800_26E2
l0800_26EE:
	word16 bx_115 = (word16) ptrLoc06
	selector es_116 = SLICE(ptrLoc06, selector, 16)
	word16 sp_126 = sp_142 - 0x02
	Mem127[ss:sp_126 + 0x00:word16] = ((int16) Mem0[es_116:bx_115 + 0x00:byte] << 0x08) + DPB(dx_136, 0x00, 8)
	word16 ax_135 = ((int16) Mem127[es_116:bx_115 + 0x02:byte] << 0x08) + DPB(bx_115, 0x00, 8)
	dx_136 = ax_135
	sp_142 = sp_126 + 0x02
	word16 ax_143 = Mem127[ss:sp_126 + 0x00:word16] + (ax_135 <u 0x00)
	branch ax_143 < wArg08 || ax_143 == wArg08 && ax_135 <u wArg06 l0800_2779
	goto l0800_272E
l0800_2727:
l0800_2729:
l0800_272E:
	int32 dx_ax_176 = (int32) SLICE(SEQ(ax_143, ax_135 + wArg02) + _, word16, 16)
	word16 bx_184 = (word16) ptrLoc06
	selector es_185 = SLICE(ptrLoc06, selector, 16)
	word16 dx_180
	Mem186[es_185:bx_184 + 0x00:byte] = (byte) fn0800_8C8A((word16) dx_ax_176, 0x08, SLICE(dx_ax_176, word16, 16), bp, out dx_180)
	Mem196[es_185:bx_184 + 0x01:byte] = (byte) (int32) SLICE(SEQ(ax_143, ax_135 + wArg02) + _, word16, 16)
	word16 ax_199 = ax_135 + wArg02
	word16 bx_211 = (word16) ptrLoc06
	selector es_212 = SLICE(ptrLoc06, selector, 16)
	Mem213[es_212:bx_211 + 0x02:byte] = (byte) fn0800_8C8A(ax_199, 0x08, ax_143 + wArg04 + (SEQ(ax_199, ax_143) <u 0x00), bp, out dx_136)
	Mem219[es_212:bx_211 + 0x03:byte] = bLoc12 + bArg02
l0800_2779:
	wLoc06_100 = v25_110 + 0x04
l0800_277D:
	branch Mem0[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] == 0x00 l0800_2789
	goto l0800_26E2
l0800_2789:
	word16 v24_223 = wLoc06_100 + 0x01
	word16 ax_227 = v24_223 - Mem0[ds:11857:word16]
	word16 bx_238 = (word16) ptrLoc0E
	selector es_239 = SLICE(ptrLoc0E, selector, 16)
	word16 dx_233
	Mem240[es_239:bx_238 + 0x00:byte] = (byte) fn0800_8C8A(ax_227, 0x08, 0x00 - (ax_227 <u 0x00), bp, out dx_233)
	Mem249[es_239:bx_238 + 0x01:byte] = (byte) (v24_223 - Mem240[ds:11857:word16])
	wLoc06_224 = v24_223
l0800_27B3:
	branch ax_28 == dx_24 l0800_27C1
	goto l0800_26C3
l0800_27C1:
	branch wLoc06_224 == bx_25 l0800_27C9
	goto l0800_26C3
l0800_27C9:
	branch (wArg06 | wArg08) != 0x00 l0800_27DF
l0800_27D1:
	word16 v22_266 = Mem0[ds:0x45A6:word16] + wArg02
	Mem267[ds:0x45A6:word16] = v22_266
	Mem271[ds:0x45A8:word16] = Mem267[ds:0x45A8:word16] + wArg04 + (v22_266 <u 0x00)
l0800_27DF:
	return
fn0800_2688_exit:
}

word16 fn0800_283D(selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dxOut)
{
	word16 di_16 = (word16) ptrArg02;
	selector es_17 = SLICE(ptrArg02, selector, 16);
	word16 cx_22 = ~0x00;
	if (cx_22 != 0x00)
	{
		di_16 = di_16 + 0x01;
		cx_22 = cx_22 - 0x01;
		if (0x00 != Mem0[es_17:di_16 + 0x00:byte])
			goto l0800_284D;
	}
	word16 cx_34 = ~cx_22;
	word16 di_347 = di_16 - cx_34;
	byte Z_355 = cond(di_347);
	if (cx_34 != 0x00)
	{
		Z_355 = cond(0x3A - Mem0[es_17:di_347 + 0x00:byte]);
		di_347 = di_347 + 0x01;
		cx_34 = cx_34 - 0x01;
		if (0x3A != Mem0[es_17:di_347 + 0x00:byte])
			goto l0800_2856;
	}
	if (!Z_355)
		di_347 = 0x01;
	word16 ax_322 = 0x00;
	if (di_347 != 0x01)
	{
		word16 di_276 = (word16) ptrArg02;
		word16 cx_281 = ~0x00;
		if (cx_281 != 0x00)
		{
			di_276 = di_276 + 0x01;
			cx_281 = cx_281 - 0x01;
			if (0x00 != Mem0[0x00:di_276 + 0x00:byte])
				goto l0800_2870;
		}
		word16 cx_291 = ~cx_281;
		word16 di_295 = di_276 - cx_291;
		byte Z_299 = cond(di_295);
		if (cx_291 != 0x00)
		{
			Z_299 = cond(0x3A - Mem0[0x00:di_373 + 0x00:byte]);
			di_295 = di_373 + 0x01;
			cx_291 = cx_291 - 0x01;
			di_373 = di_295;
			if (0x3A != Mem0[0x00:di_373 + 0x00:byte])
				goto l0800_2879;
		}
		ax_322 = 0x00;
	}
	word16 dx_95 = Mem0[ds:11859:word16];
	word16 bx_96 = (word16) Mem0[ds:11857:segptr32] + ((DPB(ax_322, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8));
	word16 wLoc08_103 = Mem0[ds:11859:word16];
	word16 wLoc0A_104 = Mem0[ds:11857:word16] + 0x08;
	if (wLoc08_103 != dx_95 || wLoc0A_104 != bx_96)
	{
		word16 si_151 = wLoc0A_104 + 0x02;
		word16 di_156 = (word16) ptrArg02;
		word16 ax_157 = 0x00;
		word16 cx_162 = ~0x00;
		if (cx_162 != 0x00)
		{
			di_156 = di_156 + 0x01;
			cx_162 = cx_162 - 0x01;
			if (0x00 != Mem0[0x00:di_156 + 0x00:byte])
				goto l0800_28D4;
		}
		word16 cx_172 = ~cx_162;
		word16 di_174 = di_156 - cx_172;
		byte SCZO_176 = cond(di_174);
		byte Z_178 = SCZO_176;
		byte C_179 = SCZO_176;
		if (cx_172 != 0x00)
		{
			byte SCZO_244 = cond(Mem0[wLoc08_103:si_371 + 0x00:byte] - Mem0[0x00:di_370 + 0x00:byte]);
			Z_178 = SCZO_244;
			C_179 = SCZO_244;
			si_151 = si_371 + 0x01;
			di_174 = di_370 + 0x01;
			cx_172 = cx_172 - 0x01;
			di_370 = di_174;
			si_371 = si_151;
			if (Mem0[wLoc08_103:si_371 + 0x00:byte] != Mem0[0x00:di_370 + 0x00:byte])
				goto l0800_28DA;
		}
		if (!Z_178)
		{
			word16 ax_237 = 0x00 - C_179;
			ax_157 = ax_237 - ~0x00 - (ax_237 <u 0x00);
		}
		if (ax_157 != 0x00)
		{
			wLoc08_103 = Mem0[ds:11859:word16];
			wLoc0A_104 = Mem0[ds:11857:word16] + (((int16) Mem0[0x00:(word16) ptrLoc0A + 0x00:byte] << 0x08) + DPB(wLoc0A_104, 0x00, 8));
			goto l0800_2917;
		}
		else
		{
			*dxOut = wLoc08_103;
			return wLoc0A_104;
		}
	}
	else
	{
		*dxOut = 0x00;
		return 0x00;
	}
}

word16 fn0800_2931(segptr32 ptrArg02, segptr32 ptrArg06, word16 wArg08, ptr16 & dxOut)
{
	selector es_16 = SLICE(ptrArg06, selector, 16);
	word16 di_17 = (word16) ptrArg06 + 0x02;
	word16 cx_23 = ~0x00;
	if (cx_23 != 0x00)
	{
		di_17 = di_17 + 0x01;
		cx_23 = cx_23 - 0x01;
		if (0x00 != Mem0[es_16:di_17 + 0x00:byte])
			goto l0800_2941;
	}
	word16 cx_276 = ~cx_23;
	word16 di_264 = di_17 - cx_276;
	byte Z_272 = cond(di_264);
	if (cx_276 != 0x00)
	{
		Z_272 = cond(0x00 - Mem0[es_16:di_264 + 0x00:byte]);
		di_264 = di_264 + 0x01;
		cx_276 = cx_276 - 0x01;
		if (0x00 != Mem0[es_16:di_264 + 0x00:byte])
			goto l0800_2949;
	}
	if (!Z_272)
		di_264 = 0x01;
	word16 wArg08_224 = 0x00;
	word16 wArg06_225 = di_264;
	if (Mem0[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x00:byte] != 0x00)
	{
		word16 si_115 = wArg06_225;
		word16 di_121 = (word16) ptrArg02;
		selector es_122 = SLICE(ptrArg02, selector, 16);
		word16 ax_123 = 0x00;
		word16 cx_127 = ~0x00;
		if (cx_127 != 0x00)
		{
			di_121 = di_121 + 0x01;
			cx_127 = cx_127 - 0x01;
			if (0x00 != Mem0[es_122:di_121 + 0x00:byte])
				goto l0800_296F;
		}
		word16 cx_135 = ~cx_127;
		word16 di_136 = di_121 - cx_135;
		byte SCZO_138 = cond(di_136);
		byte Z_140 = SCZO_138;
		byte C_141 = SCZO_138;
		if (cx_135 != 0x00)
		{
			byte SCZO_251 = cond(Mem0[wArg08_224:si_286 + 0x00:byte] - Mem0[es_122:di_285 + 0x00:byte]);
			Z_140 = SCZO_251;
			C_141 = SCZO_251;
			si_115 = si_286 + 0x01;
			di_136 = di_285 + 0x01;
			cx_135 = cx_135 - 0x01;
			di_285 = di_136;
			si_286 = si_115;
			if (Mem0[wArg08_224:si_286 + 0x00:byte] != Mem0[es_122:di_285 + 0x00:byte])
				goto l0800_2975;
		}
		if (!Z_140)
		{
			word16 ax_245 = 0x00 - C_141;
			ax_123 = ax_245 - ~0x00 - (ax_245 <u 0x00);
		}
		if (ax_123 != 0x00)
		{
			word16 di_177 = (word16) ptrArg06;
			selector es_178 = SLICE(ptrArg06, selector, 16);
			word16 cx_183 = ~0x00;
			if (cx_183 != 0x00)
			{
				di_177 = di_177 + 0x01;
				cx_183 = cx_183 - 0x01;
				if (0x00 != Mem0[es_178:di_177 + 0x00:byte])
					goto l0800_2995;
			}
			word16 cx_191 = ~cx_183;
			word16 di_194 = di_177 - cx_191;
			byte Z_198 = cond(di_194);
			if (cx_191 != 0x00)
			{
				Z_198 = cond(0x00 - Mem0[es_178:di_194 + 0x00:byte]);
				di_194 = di_194 + 0x01;
				cx_191 = cx_191 - 0x01;
				if (0x00 != Mem0[es_178:di_194 + 0x00:byte])
					goto l0800_299D;
			}
			if (!Z_198)
			{
				di_194 = 0x01;
				es_178 = 0x00;
			}
			wArg08_224 = es_178;
			wArg06_225 = di_194 + 0x04;
			goto l0800_29B4;
		}
		else
		{
			*dxOut = wArg08_224;
			return wArg06_225;
		}
	}
	else
	{
		*dxOut = 0x00;
		return 0x00;
	}
}

word16 fn0800_29C5(word16 bp, word16 si, selector ds, ptr16 & dsOut)
{
fn0800_29C5_entry:
	word16 sp_11 = fp - 0x7E
	branch (Mem0[ds:17838:word16] | Mem0[ds:0x45B0:word16]) != 0x00 || (Mem0[ds:0x45AA:word16] | Mem0[ds:0x45AC:word16]) != 0x00 l0800_2A07
	goto l0800_29DF
l0800_29C5:
l0800_29D6:
l0800_29DF:
	sp_11 = fp - 0x7E
	byte dl_859
	branch fn0800_2DE2(fp - 0x02, si, ds, DPB(ptrLoc82, 0x4541, 0), ds, out dl_859, out ds) != 0x00 l0800_29F6
l0800_29EE:
	return 0x00
l0800_29F6:
	word16 dx_885 = Mem0[ds:11857:word16]
	Mem888[ds:0x45B0:word16] = Mem0[ds:11859:word16]
	Mem889[ds:17838:word16] = dx_885 + 0x08
	dx = dx_885 + 0x08
l0800_2A07:
	word16 sp_59 = sp_11 - 0x02
	Mem60[ss:sp_59 + 0x00:word16] = ds
	Mem64[ss:sp_59 - 0x02 + 0x00:word16] = 0x4541
	Mem66[ss:sp_59 - 0x04 + 0x00:word16] = ss
	Mem69[ss:sp_59 - 0x06 + 0x00:word16] = fp - 0x6C
	fn0800_3509(ds, wArg04, wArg06)
	Mem75[ss:sp_59 + 0x00:word16] = ds
	Mem78[ss:sp_59 - 0x02 + 0x00:word16] = 0x4541
	Mem80[ss:sp_59 - 0x04 + 0x00:word16] = ss
	Mem83[ss:sp_59 - 0x06 + 0x00:word16] = fp - 122
	fn0800_35A3(ds, wArg04, wArg06)
	word16 bx_99 = (word16) Mem83[ds:11857:segptr32] + ((DPB(fp - 122, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8))
	Mem101[ss:fp - 0x04 + 0x00:word16] = Mem83[ds:11859:word16]
	Mem102[ss:fp - 0x06 + 0x00:word16] = bx_99
	word16 sp_118 = sp_59 + 0x02
	goto l0800_2C53
l0800_2A4C:
	branch (Mem102[ds:0x45AA:word16] | Mem102[ds:0x45AC:word16]) != 0x00 l0800_2A58
	goto l0800_2C12
l0800_2A5B:
l0800_2A72:
	ptr32 es_di_447 = Mem440[ds:0x45AA:segptr32]
	word16 di_448 = (word16) es_di_447
	selector es_449 = SLICE(es_di_447, selector, 16)
	word16 cx_454 = ~0x00
	goto l0800_2B34
l0800_2A75:
	ptr32 es_bx_523 = Mem440[ss:fp + 0x02:segptr32]
	word16 dx_527 = Mem440[ds:17838:word16]
	Mem0[es_bx_523 + 0x02:word16] = Mem440[ds:0x45B0:word16]
	Mem0[Mem0[es_bx_523 + 0x00:word16] + 0x00:word16] = dx_527
	ptr32 es_bx_530 = Mem529[ss:fp + 0x06:segptr32]
	word16 dx_534 = Mem529[ds:0x45AA:word16]
	Mem0[es_bx_530 + 0x02:word16] = Mem529[ds:0x45AC:word16]
	Mem0[Mem0[es_bx_530 + 0x00:word16] + 0x00:word16] = dx_534
	ptr32 es_di_537 = Mem536[ds:17838:segptr32]
	Mem542[ss:sp_432 + 0x00:word16] = SLICE(es_di_537, selector, 16)
	selector es_543 = Mem542[ss:fp + 0x0C:selector]
	Mem545[ss:sp_432 - 0x02 + 0x00:word16] = (word16) es_di_537 + 0x02
	word16 di_546 = Mem545[ss:fp + 0x0A:word16]
	word16 di_548 = Mem545[ss:sp_432 - 0x02 + 0x00:word16]
	selector es_551 = Mem545[ss:sp_432 + 0x00:selector]
	Mem556[ss:sp_432 + 0x00:word16] = es_543
	Mem558[ss:sp_432 - 0x02 + 0x00:word16] = di_546
	word16 cx_563 = ~0x00
l0800_2AB3:
	branch cx_563 == 0x00 l0800_2AB5
l0800_2AB3_1:
	di_548 = di_548 + 0x01
	cx_563 = cx_563 - 0x01
	branch 0x00 != Mem558[es_551:di_548 + 0x00:byte] l0800_2AB3
l0800_2AB5:
	word16 di_582 = Mem558[ss:sp_432 - 0x02 + 0x00:word16]
	selector es_585 = Mem558[ss:sp_432 + 0x00:selector]
	Mem590[ss:sp_432 + 0x00:word16] = ds
	word16 cx_573 = ~cx_563
	word16 cx_575 = cx_573 >>u 0x01
	word16 si_581 = di_548 - cx_573
l0800_2AC4:
	branch cx_575 == 0x00 l0800_2AC6
l0800_2AC4_2:
	Mem598[es_585:di_582 + 0x00:word16] = Mem590[es_551:si_581 + 0x00:word16]
	si_581 = si_581 + 0x02
	di_582 = di_582 + 0x02
	cx_575 = cx_575 - 0x01
	goto l0800_2AC4
l0800_2AC6:
	word16 cx_604 = cx_575 * 0x02 + (cx_573 >>u 0x01 <u 0x00)
l0800_2AC8:
	branch cx_604 == 0x00 l0800_2ACA
l0800_2AC8_1:
	Mem613[es_585:di_582 + 0x00:byte] = Mem590[es_551:si_581 + 0x00:byte]
	si_581 = si_581 + 0x01
	di_582 = di_582 + 0x01
	cx_604 = cx_604 - 0x01
	goto l0800_2AC8
l0800_2ACA:
	ptr32 es_di_621 = Mem590[ss:fp + 0x0A:segptr32]
	selector ds_619 = Mem590[ss:sp_432 + 0x00:selector]
	Mem625[ss:sp_432 + 0x00:word16] = SLICE(es_di_621, selector, 16)
	selector es_626 = Mem625[ds_619:0x45AC:selector]
	Mem629[ss:sp_432 - 0x02 + 0x00:word16] = (word16) es_di_621
	word16 di_630 = Mem629[ds_619:0x45AA:word16]
	word16 cx_636 = ~0x00
l0800_2ADD:
	branch cx_636 == 0x00 l0800_2ADF
l0800_2ADD_1:
	di_630 = di_630 + 0x01
	cx_636 = cx_636 - 0x01
	branch 0x00 != Mem629[es_626:di_630 + 0x00:byte] l0800_2ADD
l0800_2ADF:
	word16 cx_648 = ~cx_636
	word16 di_651 = Mem629[ss:sp_432 - 0x02 + 0x00:word16]
	selector es_654 = Mem629[ss:sp_432 + 0x00:selector]
	Mem663[ss:sp_432 + 0x00:word16] = cx_648
	word16 si_650 = di_630 - cx_648
	word16 cx_664 = ~0x00
l0800_2AF3:
	branch cx_664 == 0x00 l0800_2AF5
l0800_2AF3_2:
	di_651 = di_651 + 0x01
	cx_664 = cx_664 - 0x01
	branch 0x00 != Mem663[es_654:di_651 + 0x00:byte] l0800_2AF3
l0800_2AF5:
	word16 di_679 = di_651 - 0x01
	word16 cx_682 = Mem663[ss:sp_432 + 0x00:word16]
l0800_2AF7:
	branch cx_682 == 0x00 l0800_2AF9
l0800_2AF7_3:
	Mem691[es_654:di_679 + 0x00:byte] = Mem663[es_626:si_650 + 0x00:byte]
	si_650 = si_650 + 0x01
	di_679 = di_679 + 0x01
	cx_682 = cx_682 - 0x01
	goto l0800_2AF7
l0800_2AF9:
	ptr32 es_di_698 = Mem663[ds_619:0x45AA:segptr32]
	*dsOut = ds_619
	word16 di_699 = (word16) es_di_698
	selector es_700 = SLICE(es_di_698, selector, 16)
	word16 cx_701 = ~0x00
l0800_2B02:
	branch cx_701 == 0x00 l0800_2B04
l0800_2B02_1:
	di_699 = di_699 + 0x01
	cx_701 = cx_701 - 0x01
	branch 0x00 != Mem663[es_700:di_699 + 0x00:byte] l0800_2B02
l0800_2B04:
	word16 cx_711 = ~cx_701
	word16 di_715 = di_699 - cx_711
	byte Z_719 = cond(di_715)
l0800_2B0A:
	branch cx_711 == 0x00 l0800_2B0C
l0800_2B0A_2:
	Z_719 = cond(0x00 - Mem663[es_700:di_715 + 0x00:byte]) (alias)
	di_715 = di_715 + 0x01
	cx_711 = cx_711 - 0x01
	branch 0x00 != Mem663[es_700:di_715 + 0x00:byte] l0800_2B0A
l0800_2B0C:
	branch Z_719 l0800_2B15
l0800_2B0E:
	di_715 = 0x01
	es_700 = 0x00
l0800_2B15:
	Mem747[ds_619:0x45AC:word16] = es_700
	Mem748[ds_619:0x45AA:word16] = di_715 + 0x04
	return 0x01
l0800_2B2B:
l0800_2B34:
	branch cx_454 == 0x00 l0800_2B36
l0800_2B34_1:
	di_448 = di_448 + 0x01
	cx_454 = cx_454 - 0x01
	branch 0x00 != Mem440[es_449:di_448 + 0x00:byte] l0800_2B34
l0800_2B36:
	word16 cx_464 = ~cx_454
	word16 di_468 = di_448 - cx_464
	byte Z_472 = cond(di_468)
l0800_2B3C:
	branch cx_464 == 0x00 l0800_2B3E
l0800_2B3C_2:
	Z_472 = cond(0x00 - Mem440[es_449:di_468 + 0x00:byte]) (alias)
	di_468 = di_468 + 0x01
	cx_464 = cx_464 - 0x01
	branch 0x00 != Mem440[es_449:di_468 + 0x00:byte] l0800_2B3C
l0800_2B3E:
	branch Z_472 l0800_2B47
l0800_2B40:
	di_468 = 0x01
	es_449 = 0x00
l0800_2B47:
	Mem500[ds:0x45AC:word16] = es_449
	Mem501[ds:0x45AA:word16] = di_468 + 0x04
l0800_2B54:
	branch Mem0[Mem0[Mem102[ds:0x45AA:segptr32] + 0x00:byte] + 0x00:byte] == 0x00 l0800_2B61
l0800_2B5E:
	word16 sp_432 = sp_118 - 0x02
	Mem433[ss:sp_432 + 0x00:word16] = ss
	Mem436[ss:sp_432 - 0x02 + 0x00:word16] = fp - 122
	Mem438[ss:sp_432 - 0x04 + 0x00:word16] = Mem436[ds:0x45AC:word16]
	Mem440[ss:sp_432 - 0x06 + 0x00:word16] = Mem438[ds:0x45AA:word16]
	sp_118 = sp_432 + 0x02
	branch fn0800_4357(bp, ptrArg00, ptrArg04) != 0x00 l0800_2A75
	goto l0800_2A72
l0800_2B61:
	word16 bx_810 = Mem102[ds:11857:word16] + (((int16) Mem0[Mem0[Mem102[ds:17838:segptr32] + 0x00:byte] + 0x00:byte] << 0x08) + DPB(dx_120, 0x00, 8))
	Mem812[ds:0x45B0:word16] = Mem102[ds:11859:word16]
	Mem813[ds:17838:word16] = bx_810
	goto l0800_2C12
l0800_2B8A:
	branch Mem102[ds:10779:word16] == 0x00 l0800_2BBB
l0800_2B91:
	word16 sp_362 = sp_118 - 0x02
	Mem363[ss:sp_362 + 0x00:word16] = ss
	selector es_364 = Mem363[ss:sp_362 + 0x00:selector]
	word16 di_367 = fp - 0x6C
	word16 cx_373 = ~0x00
l0800_2B9B:
	branch cx_373 == 0x00 l0800_2B9D
l0800_2B9B_1:
	di_367 = di_895 + 0x01
	cx_373 = cx_373 - 0x01
	di_895 = di_367
	branch 0x00 != Mem363[es_364:di_895 + 0x00:byte] l0800_2B9B
l0800_2B9D:
	Mem388[ss:sp_362 + 0x00:word16] = ~cx_373 - 0x01
	Mem390[ss:sp_362 - 0x02 + 0x00:word16] = ss
	Mem393[ss:sp_362 - 0x04 + 0x00:word16] = fp - 0x6C
	word16 ax_394 = Mem393[ds:17838:word16]
	Mem398[ss:sp_362 - 0x06 + 0x00:word16] = Mem393[ds:0x45B0:word16]
	Mem400[ss:sp_362 - 0x08 + 0x00:word16] = ax_394 + 0x02
	sp_118 = sp_362 + 0x02
	branch fn0800_BFE6(ptrArg00, ptrArg04, wArg08) == 0x00 l0800_2C29
l0800_2BBB:
	branch Mem102[ds:10779:word16] != 0x00 l0800_2BEC
l0800_2BC2:
	si = Mem102[ds:17838:word16] + 0x02
	word16 sp_279 = sp_118 - 0x02
	Mem280[ss:sp_279 + 0x00:word16] = ds
	selector ds_281 = Mem280[ds:0x45B0:selector]
	Mem283[ss:sp_279 - 0x02 + 0x00:word16] = ss
	selector es_284 = Mem283[ss:sp_279 - 0x02 + 0x00:selector]
	word16 di_287 = fp - 0x6C
	word16 ax_289 = 0x00
	word16 cx_294 = ~0x00
l0800_2BD8:
	branch cx_294 == 0x00 l0800_2BDA
l0800_2BD8_2:
	di_287 = di_287 + 0x01
	cx_294 = cx_294 - 0x01
	branch 0x00 != Mem283[es_284:di_287 + 0x00:byte] l0800_2BD8
l0800_2BDA:
	word16 cx_304 = ~cx_294
	word16 di_306 = di_287 - cx_304
	byte SCZO_308 = cond(di_306)
	byte Z_310 = SCZO_308
	byte C_311 = SCZO_308
l0800_2BDE:
	branch cx_304 == 0x00 l0800_2BE0
l0800_2BDE_3:
	byte SCZO_347 = cond(Mem283[ds_281:si + 0x00:byte] - Mem283[es_284:di_893 + 0x00:byte])
	Z_310 = SCZO_347 (alias)
	C_311 = SCZO_347 (alias)
	si = si + 0x01
	di_306 = di_893 + 0x01
	cx_304 = cx_304 - 0x01
	di_893 = di_306
	branch Mem283[ds_281:si + 0x00:byte] != Mem283[es_284:di_893 + 0x00:byte] l0800_2BDE
l0800_2BE0:
	branch Z_310 l0800_2BE7
l0800_2BE2:
	word16 ax_340 = 0x00 - C_311
	ax_289 = ax_340 - ~0x00 - (ax_340 <u 0x00)
l0800_2BE7:
	ds = Mem283[ss:sp_279 + 0x00:selector]
	sp_118 = sp_279 + 0x02
	branch ax_289 == 0x00 l0800_2C29
l0800_2BEC:
	word16 bx_273 = Mem102[ds:11857:word16] + (((int16) Mem0[Mem0[Mem102[ds:17838:segptr32] + 0x00:byte] + 0x00:byte] << 0x08) + DPB(dx_146, 0x00, 8))
	Mem275[ds:0x45B0:word16] = Mem102[ds:11859:word16]
	Mem276[ds:17838:word16] = bx_273
l0800_2C12:
	word16 dx_146 = Mem102[ds:17838:word16]
	branch Mem102[ds:0x45B0:word16] == Mem102[ss:(fp - 0x04) + 0x00:word16] l0800_2C21
	goto l0800_2B8A
l0800_2C21:
	branch dx_146 == Mem102[ss:(fp - 0x06) + 0x00:word16] l0800_2C29
	goto l0800_2B8A
l0800_2C29:
	ptr32 es_di_158 = Mem102[ds:17838:segptr32]
	selector es_160 = SLICE(es_di_158, selector, 16)
	word16 di_161 = (word16) es_di_158 + 0x02
	word16 cx_167 = ~0x00
l0800_2C35:
	branch cx_167 == 0x00 l0800_2C37
l0800_2C35_1:
	di_161 = di_161 + 0x01
	cx_167 = cx_167 - 0x01
	branch 0x00 != Mem102[es_160:di_161 + 0x00:byte] l0800_2C35
l0800_2C37:
	word16 cx_177 = ~cx_167
	word16 di_181 = di_161 - cx_177
	byte Z_185 = cond(di_181)
l0800_2C3D:
	branch cx_177 == 0x00 l0800_2C3F
l0800_2C3D_2:
	Z_185 = cond(0x00 - Mem102[es_160:di_181 + 0x00:byte]) (alias)
	di_181 = di_181 + 0x01
	cx_177 = cx_177 - 0x01
	branch 0x00 != Mem102[es_160:di_181 + 0x00:byte] l0800_2C3D
l0800_2C3F:
	branch Z_185 l0800_2C48
l0800_2C41:
	di_181 = 0x01
	es_160 = 0x00
l0800_2C48:
	Mem212[ds:0x45AC:word16] = es_160
	Mem213[ds:0x45AA:word16] = di_181
l0800_2C53:
	word16 dx_120 = Mem102[ds:17838:word16]
	branch Mem102[ds:0x45B0:word16] == Mem102[ss:(fp - 0x04) + 0x00:word16] l0800_2C62
	goto l0800_2A4C
l0800_2C62:
	branch dx_120 == Mem102[ss:(fp - 0x06) + 0x00:word16] l0800_2C6A
	goto l0800_2A4C
l0800_2C6A:
	Mem820[ds:0x45AC:word16] = 0x00
	Mem821[ds:0x45AA:word16] = 0x00
	Mem822[ds:0x45B0:word16] = 0x00
	Mem823[ds:17838:word16] = 0x00
	word16 sp_824 = sp_118 - 0x02
	Mem825[ss:sp_824 + 0x00:word16] = Mem823[ss:fp + 0x0C:word16]
	Mem827[ss:sp_824 - 0x02 + 0x00:word16] = Mem825[ss:fp + 0x0A:word16]
	Mem829[ss:sp_824 - 0x04 + 0x00:word16] = Mem827[ss:fp + 0x08:word16]
	Mem831[ss:sp_824 - 0x06 + 0x00:word16] = Mem829[ss:fp + 0x06:word16]
	Mem833[ss:sp_824 - 0x08 + 0x00:word16] = Mem831[ss:fp + 0x04:word16]
	Mem835[ss:sp_824 - 0x0A + 0x00:word16] = Mem833[ss:fp + 0x02:word16]
	selector ds_836
	return fn0800_29C5(fp - 0x02, si, ds, out ds_836)
fn0800_29C5_exit:
}

void fn0800_2C9A(selector ds)
{
	word16 cx_16 = 0x00;
	word16 si_19 = 0x2A29;
	do
	{
		word16 dx_20 = cx_16;
		word16 bx_21 = 0x08;
		while (bx_21 != 0x00)
		{
			word16 ax_41;
			if ((dx_20 & 0x01) != 0x00)
				ax_41 = dx_20 >>u 0x01 ^ 0xA001;
			else
				ax_41 = dx_20 >>u 0x01;
			dx_20 = ax_41;
			bx_21 = bx_21 - 0x01;
		}
		Mem30[ds:si_19 + 0x00:word16] = dx_20;
		si_19 = si_19 + 0x02;
		cx_16 = cx_16 + 0x01;
	} while (cx_16 <u 0x0100);
	return;
}

word16 fn0800_2CCF(selector ds, segptr32 ptrArg02, word16 wArg06, word16 wArg08)
{
	word16 si_11 = wArg06;
	while (true)
	{
		si_11 = si_11 - 0x01;
		if (si_11 == 0x00)
			break;
		wArg08 = SEQ(ds, 0x2A29)[(DPB(si_11, 0x00, 8) & 0xFF) * 0x02] ^ wArg08 >>u 0x08;
	}
	return wArg08;
}

word16 fn0800_2D0A(word16 bp, selector ds, ptr16 & dsOut)
{
	selector ds_121 = fn0800_4311(ds, ~0x0F, 0x00);
	Mem23[ss:fp - 0x04 + 0x00:word16] = ~0x0F;
	Mem25[ss:fp - 0x06 + 0x00:word16] = 0x00;
	Mem27[ss:fp - 0x12 + 0x00:word16] = Mem25[ss:fp + 0x04:word16];
	Mem29[ss:fp - 0x14 + 0x00:word16] = Mem27[ss:fp + 0x02:word16];
	word16 si_32;
	word16 ax_33 = fn0800_AD2F(ds_121, ptrArg00, wArg02, out si_32);
	Mem35[ss:fp - 0x0C + 0x00:word16] = ~0x0F;
	Mem36[ss:fp - 0x0E + 0x00:word16] = ax_33;
	word16 sp_134 = fp - 0x10;
	word16 si_135 = 0x00;
	while ((Mem36[ss:fp + 0x06:word16] | Mem36[ss:fp + 0x08:word16]) != 0x00)
	{
		word16 ax_103;
		if (Mem36[ss:fp + 0x08:word16] >=u 0x00 && (Mem36[ss:fp + 0x08:word16] >u 0x00 || Mem36[ss:fp + 0x06:word16] >u ~0x0F))
			ax_103 = ~0x0F;
		else
			ax_103 = Mem36[ss:fp + 0x06:word16];
		Mem104[ss:fp - 0x0A + 0x00:word16] = ax_103;
		word16 sp_105 = sp_134 - 0x02;
		Mem106[ss:sp_105 + 0x00:word16] = Mem104[ss:fp + 0x04:word16];
		Mem108[ss:sp_105 - 0x02 + 0x00:word16] = Mem106[ss:fp + 0x02:word16];
		Mem110[ss:sp_105 - 0x04 + 0x00:word16] = Mem108[ss:fp - 0x08 + 0x00:word16];
		Mem112[ss:sp_105 - 0x06 + 0x00:word16] = ax_103;
		Mem114[ss:sp_105 - 0x08 + 0x00:word16] = Mem112[ss:fp - 0x04 + 0x00:word16];
		Mem116[ss:sp_105 - 0x0A + 0x00:word16] = Mem114[ss:fp - 0x06 + 0x00:word16];
		word16 di_120;
		Mem126[ss:sp_105 + 0x00:word16] = fn0800_4110(ds_121, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A, out di_120, out ds_121);
		Mem128[ss:sp_105 - 0x02 + 0x00:word16] = Mem126[ss:fp - 0x0A + 0x00:word16];
		Mem130[ss:sp_105 - 0x04 + 0x00:word16] = Mem128[ss:fp - 0x04 + 0x00:word16];
		Mem132[ss:sp_105 - 0x06 + 0x00:word16] = Mem130[ss:fp - 0x06 + 0x00:word16];
		si_135 = fn0800_2CCF(ds_121, ptrArg00, wArg04, wArg06);
		Mem140[ss:fp + 0x06:word16] = Mem132[ss:fp + 0x06:word16] - Mem132[ss:(fp - 0x0A) + 0x00:word16];
		Mem144[ss:fp + 0x08:word16] = v14;
		sp_134 = sp_105 + 0x02;
	}
	word16 sp_63 = sp_134 - 0x02;
	Mem64[ss:sp_63 + 0x00:word16] = 0x00;
	Mem66[ss:sp_63 - 0x02 + 0x00:word16] = Mem64[ss:fp - 0x0C + 0x00:word16];
	Mem68[ss:sp_63 - 0x04 + 0x00:word16] = Mem66[ss:fp - 0x0E + 0x00:word16];
	Mem70[ss:sp_63 - 0x06 + 0x00:word16] = Mem68[ss:fp + 0x04:word16];
	Mem72[ss:sp_63 - 0x08 + 0x00:word16] = Mem70[ss:fp + 0x02:word16];
	selector ds_74;
	fn0800_ACB3(fp - 0x02, ds_121, ptrArg00, wArg02, wArg08, out ds_74);
	Mem79[ss:sp_63 + 0x00:word16] = Mem72[ss:fp - 0x04 + 0x00:word16];
	Mem81[ss:sp_63 - 0x02 + 0x00:word16] = Mem79[ss:fp - 0x06 + 0x00:word16];
	selector ds_83;
	fn0800_4346(ds_74, wArg00, wArg02, out ds_83);
	return si_135;
}

void fn0800_2DBF(selector ds, word16 wArg02, word16 wArg04)
{
	Mem7[ds:0x4656:word16] = ~0x00;
	Mem9[ds:0x4654:word16] = 0x00;
	Mem11[ds:18002:word16] = Mem9[ds:0x2A27:word16];
	Mem14[ds:18000:word16] = wArg02;
	Mem17[ds:0x464E:word16] = wArg04;
	return;
}

word16 fn0800_2DE2(word16 bp, word16 si, selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dlOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*dlOut = dl;
	word16 sp_105 = fp - 22;
	if (Mem0[ds:0x4654:word16] == 0x00 && (Mem0[ds:18002:word16] == Mem0[ds:0x4656:word16] && Mem0[ds:0x464E:word16] != 0x00))
	{
		sp_105 = fp - 22;
		byte dl_1170;
		si = fn0800_3479(ds, DPB(ptrLoc1C, fp - 0x12, 0), ss, 0x00, out dl_1170, out ds);
	}
	if (Mem0[ds:0x4654:word16] != 0x00)
	{
		Mem780[ds:0x4617:word16] = 0x00;
		word16 dx_794;
		selector ds_795;
		word16 ax_796 = fn0800_A77D(ds, 0x45B2, ds, 101, DPB(ptrLoc1A, Mem780[ds:17947:word16], 0), Mem780[ds:17949:word16], out dx_794, out ds_795);
		if ((ax_796 | dx_794) == 0x00)
		{
			byte dl_807;
			word16 di_808;
			selector ds_809;
			fn0800_A614(fp - 0x02, ds_795, DPB(ptrLoc1A, Mem780[ds_795:17947:word16], 0), Mem780[ds_795:17949:word16], out dl_807, out di_808, out ds_809);
			Mem813[ds_809:0x4654:word16] = 0x00;
			Mem814[ds_809:17949:word16] = 0x00;
			Mem815[ds_809:17947:word16] = 0x00;
			Mem817[ds_809:18002:word16] = Mem815[ds_809:18002:word16] + 0x01;
			Mem820[ss:fp - 0x18 + 0x00:word16] = Mem817[ss:fp + 0x04:word16];
			Mem822[ss:fp - 0x1A + 0x00:word16] = Mem820[ss:fp + 0x02:word16];
			byte dl_823;
			selector ds_824;
			return fn0800_2DE2(fp - 0x02, si, ds_809, ptrArg00, wArg02, out dl_823, out ds_824);
		}
		selector es_1139 = ds_795;
		word16 di_1151 = 0x45B2;
		word16 cx_1153 = ~0x00;
		if (cx_1153 != 0x00)
		{
			di_1151 = di_1151 + 0x01;
			cx_1153 = cx_1153 - 0x01;
			if (0x00 != Mem780[ds_795:di_1151 + 0x00:byte])
				goto l0800_2E49;
		}
		word16 cx_1148 = ~cx_1153;
		word16 di_1135 = di_1151 - cx_1148;
		byte Z_1143 = cond(di_1135);
		if (cx_1148 != 0x00)
		{
			Z_1143 = cond(0x0D - Mem780[ds_795:di_1135 + 0x00:byte]);
			di_1135 = di_1135 + 0x01;
			cx_1148 = cx_1148 - 0x01;
			if (0x0D != Mem780[ds_795:di_1135 + 0x00:byte])
				goto l0800_2E52;
		}
		if (!Z_1143)
		{
			di_1135 = 0x01;
			es_1139 = 0x00;
		}
		if ((di_1135 - 0x01 | es_1139) != 0x00)
		{
			selector es_1067 = ds_795;
			word16 di_1070 = 0x45B2;
			word16 cx_1076 = ~0x00;
			if (cx_1076 != 0x00)
			{
				di_1070 = di_1070 + 0x01;
				cx_1076 = cx_1076 - 0x01;
				if (0x00 != Mem780[ds_795:di_1070 + 0x00:byte])
					goto l0800_2E6E;
			}
			word16 cx_1084 = ~cx_1076;
			word16 di_1086 = di_1070 - cx_1084;
			byte Z_1089 = cond(di_1086);
			if (cx_1084 != 0x00)
			{
				Z_1089 = cond(0x0D - Mem780[ds_795:di_1086 + 0x00:byte]);
				di_1086 = di_1086 + 0x01;
				cx_1084 = cx_1084 - 0x01;
				if (0x0D != Mem780[ds_795:di_1086 + 0x00:byte])
					goto l0800_2E77;
			}
			if (!Z_1089)
			{
				di_1086 = 0x01;
				es_1067 = 0x00;
			}
			Mem1115[es_1067:di_1086 - 0x01 + 0x00:byte] = 0x00;
		}
		if ((int16) Mem780[ds_795:0x45B2:byte] == 0x00)
		{
			byte dl_905;
			selector ds_906;
			return fn0800_2DE2(fp - 0x02, si, ds_795, DPB(ptrLoc1A, wArg02, 0), wArg04, out dl_905, out ds_906);
		}
		word16 di_1062 = 0x45B2;
		word16 cx_1064 = ~0x00;
		if (cx_1064 != 0x00)
		{
			di_1062 = di_1188 + 0x01;
			cx_1064 = cx_1064 - 0x01;
			di_1188 = di_1062;
			if (0x00 != Mem780[ds_795:di_1188 + 0x00:byte])
				goto l0800_2EAF;
		}
		Mem940[ds_795:0x4619:word16] = ~cx_1064 - 0x01;
		ptrLoc1A = DPB(ptrLoc1A, 0x45B2, 0);
		byte dl_947 = fn0800_0C6C(ds_795, ptrLoc1A);
		*dlOut = dl_947;
		dx = DPB(dx_794, dl_947, 0);
		if (Mem940[ds_795:0x464E:word16] == 0x00)
		{
			word16 di_954 = (word16) ptrArg02;
			selector es_955 = SLICE(ptrArg02, selector, 16);
			word16 di_1034 = 0x45B2;
			word16 cx_1036 = ~0x00;
			if (cx_1036 != 0x00)
			{
				di_1034 = di_1034 + 0x01;
				cx_1036 = cx_1036 - 0x01;
				if (0x00 != Mem940[ds_795:di_1034 + 0x00:byte])
					goto l0800_2ED9;
			}
			word16 cx_979 = ~cx_1036;
			word16 cx_1000 = cx_979 >>u 0x01;
			word16 si_1003 = di_1034 - cx_979;
			word16 di_1004 = di_954;
			while (cx_1000 != 0x00)
			{
				Mem1002[es_955:di_1004 + 0x00:word16] = Mem940[ds_795:si_1003 + 0x00:word16];
				si_1003 = si_1003 + 0x02;
				di_1004 = di_1004 + 0x02;
				cx_1000 = cx_1000 - 0x01;
			}
			word16 cx_1007 = cx_1000 * 0x02 + (cx_979 >>u 0x01 <u 0x00);
			while (cx_1007 != 0x00)
			{
				Mem1014[es_955:di_1004 + 0x00:byte] = Mem940[ds_795:si_1003 + 0x00:byte];
				si_1003 = si_1003 + 0x01;
				di_1004 = di_1004 + 0x01;
				cx_1007 = cx_1007 - 0x01;
			}
			Mem1022[ds_795:0x4617:word16] = Mem940[ds_795:0x4617:word16] + 0x01;
			*dsOut = ds_795;
			return 0x01;
		}
		byte dl_1053;
		si = fn0800_33CD(ds_795, DPB(ptrLoc20, fp - 0x12, 0), ss, 0x00, 0x45B2, ds_795, out dl_1053, out ds);
		Mem1059[ds:0x4654:word16] = 0x00;
		sp_105 = fp - 22;
	}
	word16 ax_86 = Mem0[ds:18002:word16];
	if (ax_86 != Mem0[ds:0x4656:word16])
	{
		if (ax_86 == Mem0[ds:9882:word16])
			return 0x00;
		ptr32 es_bx_543 = Mem0[ds:9884:segptr32];
		fn0800_BF9E(DPB(ptrLoc1E, 0x45B2, 0), ds, DPB(ptrLoc1A, SEQ(SLICE(es_bx_543, selector, 16), (word16) es_bx_543)[Mem0[ds:18002:word16] * 0x04], 0));
		word16 di_1184 = 0x45B2;
		word16 cx_571 = ~0x00;
		if (cx_571 != 0x00)
		{
			di_1184 = di_1184 + 0x01;
			cx_571 = cx_571 - 0x01;
			if (0x00 != Mem0[ds:di_1184 + 0x00:byte])
				goto l0800_2F94;
		}
		Mem583[ds:0x4619:word16] = ~cx_571 - 0x01;
		fn0800_0C6C(ds, DPB(ptrLoc1A, 0x45B2, 0));
		word16 ax_592 = Mem583[ds:18002:word16];
		Mem593[ds:0x4656:word16] = ax_592;
		Mem594[ds:0x4617:word16] = 0x00;
		if (Mem0[Mem0[SEQ(ds, (word16) Mem594[ds:9884:segptr32])[ax_592 * 0x04] + 0x00:byte] + 0x00:byte] == 0x40)
		{
			ptr32 es_bx_613 = Mem594[ds:9884:segptr32];
			selector es_614 = SLICE(es_bx_613, selector, 16);
			word16 bx_616 = (word16) es_bx_613 + (Mem594[ds:18002:word16] << 0x02);
			word16 ax_618 = Mem594[es_614:bx_616 + 0x00:word16];
			word16 di_625;
			selector ds_626;
			word16 si_627 = fn0800_4234(si, di_1184, ds, ax_618 + 0x01, Mem594[es_614:bx_616 + 0x02:word16], 0x0A13, ds, out di_625, out ds_626);
			Mem630[ds_626:17949:word16] = dx;
			Mem631[ds_626:17947:word16] = ax_618 + 0x01;
			Mem632[ds_626:0x4654:word16] = 0x01;
			Mem634[ss:fp - 0x18 + 0x00:word16] = Mem632[ss:fp + 0x04:word16];
			Mem636[ss:fp - 0x1A + 0x00:word16] = Mem634[ss:fp + 0x02:word16];
			byte dl_637;
			selector ds_638;
			return fn0800_2DE2(fp - 0x02, si_627, ds_626, ptrArg00, wArg02, out dl_637, out ds_638);
		}
		*dlOut = fn0800_335C(ds, 0x45B2, ds);
		if (Mem594[ds:0x464E:word16] == 0x00)
		{
			ptr32 es_di_659 = Mem594[ss:fp + 0x02:segptr32];
			Mem663[ss:fp - 0x18 + 0x00:word16] = SLICE(es_di_659, selector, 16);
			Mem665[ss:fp - 0x1A + 0x00:word16] = ds;
			selector es_666 = Mem665[ss:fp - 0x1A + 0x00:selector];
			Mem670[ss:fp - 0x1A + 0x00:word16] = (word16) es_di_659;
			word16 di_1185 = 0x45B2;
			word16 cx_677 = ~0x00;
			if (cx_677 != 0x00)
			{
				di_1185 = di_1185 + 0x01;
				cx_677 = cx_677 - 0x01;
				if (0x00 != Mem670[es_666:di_1185 + 0x00:byte])
					goto l0800_3028;
			}
			word16 di_693 = Mem670[ss:fp - 0x1A + 0x00:word16];
			selector es_696 = Mem670[ss:fp - 0x18 + 0x00:selector];
			Mem701[ss:fp - 0x18 + 0x00:word16] = ds;
			word16 cx_685 = ~cx_677;
			word16 cx_687 = cx_685 >>u 0x01;
			word16 si_692 = di_1185 - cx_685;
			while (cx_687 != 0x00)
			{
				Mem708[es_696:di_693 + 0x00:word16] = Mem701[es_666:si_692 + 0x00:word16];
				si_692 = si_692 + 0x02;
				di_693 = di_693 + 0x02;
				cx_687 = cx_687 - 0x01;
			}
			word16 cx_713 = cx_687 * 0x02 + (cx_685 >>u 0x01 <u 0x00);
			while (cx_713 != 0x00)
			{
				Mem720[es_696:di_693 + 0x00:byte] = Mem701[es_666:si_692 + 0x00:byte];
				si_692 = si_692 + 0x01;
				di_693 = di_693 + 0x01;
				cx_713 = cx_713 - 0x01;
			}
			selector ds_725 = Mem701[ss:fp - 0x18 + 0x00:selector];
			*dsOut = ds_725;
			Mem728[ds_725:0x4617:word16] = Mem701[ds_725:0x4617:word16] + 0x01;
			Mem730[ds_725:18002:word16] = Mem728[ds_725:18002:word16] + 0x01;
			return 0x01;
		}
		Mem746[ss:fp - 0x18 + 0x00:word16] = ds;
		Mem749[ss:fp - 0x1A + 0x00:word16] = 0x45B2;
		Mem754[ss:fp - 0x1C + 0x00:word16] = 0x00;
		Mem756[ss:fp - 0x1E + 0x00:word16] = ss;
		Mem759[ss:fp - 0x20 + 0x00:word16] = fp - 0x12;
		sp_105 = fp - 22;
		byte dl_760;
		si = fn0800_33CD(ds, ptrArg00, wArg02, wArg04, wArg06, wArg08, out dl_760, out ds);
	}
	word16 si_110 = si;
	if (si != 0x00)
	{
		if (Mem0[ds:10779:word16] != 0x00)
			while (si_110 != 0x00)
			{
				word16 sp_492 = sp_105 - 0x02;
				Mem493[ss:sp_492 + 0x00:word16] = ds;
				Mem496[ss:sp_492 - 0x02 + 0x00:word16] = 0x45B2;
				sp_105 = sp_492 + 0x02;
				if (fn0800_31B4(fp - 0x02, ds, out ds) == 0x00)
					break;
				Mem505[ss:sp_492 + 0x00:word16] = ds;
				Mem508[ss:sp_492 - 0x02 + 0x00:word16] = 0x45B2;
				Mem513[ss:sp_492 - 0x04 + 0x00:word16] = 0x00;
				Mem515[ss:sp_492 - 0x06 + 0x00:word16] = ss;
				Mem518[ss:sp_492 - 0x08 + 0x00:word16] = fp - 0x12;
				sp_105 = sp_492 + 0x02;
				byte dl_520;
				si_110 = fn0800_33CD(ds, ptrArg00, wArg02, wArg04, wArg06, wArg08, out dl_520, out ds);
			}
		word16 si_427 = si_110;
		if (si_110 != 0x00)
		{
			Mem432[ds:Mem0[ds:0x4619:word16] + 0x45B2:byte] = 0x00;
			if (Mem432[ds:0x4617:word16] == 0x00 && Mem432[ds:18000:word16] != 0x00)
			{
				word16 sp_467 = sp_105 - 0x02;
				Mem468[ss:sp_467 + 0x00:word16] = ds;
				Mem471[ss:sp_467 - 0x02 + 0x00:word16] = 0x45B2;
				Mem473[ss:sp_467 - 0x04 + 0x00:word16] = ds;
				Mem476[ss:sp_467 - 0x06 + 0x00:word16] = 0x0A17;
				word16 di_478;
				si_427 = fn0800_B2EF(ds, wArg00, wArg02, out di_478);
				sp_105 = sp_467 + 0x02;
			}
			if ((Mem432[ds:17947:word16] | Mem432[ds:17949:word16]) != 0x00)
				Mem461[ds:0x4654:word16] = 0x01;
			else
				Mem463[ds:18002:word16] = Mem432[ds:18002:word16] + 0x01;
			word16 sp_445 = sp_105 - 0x02;
			Mem446[ss:sp_445 + 0x00:word16] = Mem432[ss:fp + 0x04:word16];
			Mem448[ss:sp_445 - 0x02 + 0x00:word16] = Mem446[ss:fp + 0x02:word16];
			byte dl_449;
			selector ds_450;
			return fn0800_2DE2(fp - 0x02, si_427, ds, ptrArg00, wArg02, out dl_449, out ds_450);
		}
	}
	word16 sp_120 = sp_105 - 0x02;
	Mem121[ss:sp_120 + 0x00:word16] = ds;
	Mem125[ss:sp_120 - 0x02 + 0x00:word16] = 0x45B2;
	Mem127[ss:sp_120 - 0x04 + 0x00:word16] = Mem125[ss:fp + 0x04:word16];
	Mem129[ss:sp_120 - 0x06 + 0x00:word16] = Mem127[ss:fp + 0x02:word16];
	fn0800_3509(ds, wArg04, wArg06);
	Mem134[ss:sp_120 + 0x00:word16] = ss;
	Mem139[ss:sp_120 + 0x00:word16] = Mem134[ss:sp_120 + 0x00:selector];
	selector es_140 = Mem139[ss:fp + 0x04:selector];
	Mem142[ss:sp_120 - 0x02 + 0x00:word16] = fp - 0x12;
	word16 di_143 = Mem142[ss:fp + 0x02:word16];
	word16 di_1176 = Mem142[ss:sp_120 - 0x02 + 0x00:word16];
	selector es_148 = Mem142[ss:sp_120 + 0x00:selector];
	Mem153[ss:sp_120 + 0x00:word16] = es_140;
	Mem155[ss:sp_120 - 0x02 + 0x00:word16] = di_143;
	word16 cx_160 = ~0x00;
	if (cx_160 != 0x00)
	{
		di_1176 = di_1176 + 0x01;
		cx_160 = cx_160 - 0x01;
		if (0x00 != Mem155[es_148:di_1176 + 0x00:byte])
			goto l0800_311B;
	}
	word16 di_1177 = Mem155[ss:sp_120 - 0x02 + 0x00:word16];
	selector es_176 = Mem155[ss:sp_120 + 0x00:selector];
	Mem180[ss:fp - 0x04 + 0x00:word16] = ds;
	word16 cx_170 = ~cx_160;
	Mem183[ss:sp_120 + 0x00:word16] = cx_170;
	word16 si_172 = di_1176 - cx_170;
	word16 cx_184 = ~0x00;
	if (cx_184 != 0x00)
	{
		di_1177 = di_1177 + 0x01;
		cx_184 = cx_184 - 0x01;
		if (0x00 != Mem183[es_176:di_1177 + 0x00:byte])
			goto l0800_3132;
	}
	word16 di_197 = di_1177 - 0x01;
	word16 cx_200 = Mem183[ss:sp_120 + 0x00:word16];
	while (cx_200 != 0x00)
	{
		Mem207[es_176:di_197 + 0x00:byte] = Mem183[es_148:si_172 + 0x00:byte];
		si_172 = si_172 + 0x01;
		di_197 = di_197 + 0x01;
		cx_200 = cx_200 - 0x01;
	}
	selector ds_212 = Mem183[ss:fp - 0x04 + 0x00:selector];
	Mem214[ss:sp_120 + 0x00:word16] = Mem183[ss:fp + 0x04:word16];
	Mem216[ss:sp_120 - 0x02 + 0x00:word16] = Mem214[ss:fp + 0x02:word16];
	*dlOut = fn0800_0C6C(ds_212, ptrArg00);
	word16 si_1179 = Mem216[ss:fp + 0x02:word16];
	word16 cx_222 = Mem216[ss:fp + 0x04:word16];
	Mem224[ss:sp_120 + 0x00:word16] = ds_212;
	selector es_225 = Mem224[ss:sp_120 + 0x00:selector];
	Mem231[ss:sp_120 + 0x00:word16] = ds_212;
	word16 di_1178 = 0x4348;
	word16 ax_233 = 0x00;
	word16 cx_237 = ~0x00;
	if (cx_237 != 0x00)
	{
		di_1178 = di_1178 + 0x01;
		cx_237 = cx_237 - 0x01;
		if (0x00 != Mem231[es_225:di_1178 + 0x00:byte])
			goto l0800_315A;
	}
	word16 cx_245 = ~cx_237;
	word16 di_246 = di_1178 - cx_245;
	byte SCZO_248 = cond(di_246);
	byte Z_249 = SCZO_248;
	byte C_251 = SCZO_248;
	if (cx_245 != 0x00)
	{
		byte SCZO_396 = cond(Mem231[cx_222:si_1179 + 0x00:byte] - Mem231[es_225:di_1180 + 0x00:byte]);
		Z_249 = SCZO_396;
		C_251 = SCZO_396;
		si_1179 = si_1179 + 0x01;
		di_246 = di_1180 + 0x01;
		cx_245 = cx_245 - 0x01;
		di_1180 = di_246;
		if (Mem231[cx_222:si_1179 + 0x00:byte] != Mem231[es_225:di_1180 + 0x00:byte])
			goto l0800_3160;
	}
	if (!Z_249)
	{
		word16 ax_390 = 0x00 - C_251;
		ax_233 = ax_390 - ~0x00 - (ax_390 <u 0x00);
	}
	selector ds_271 = Mem231[ss:sp_120 + 0x00:selector];
	word16 sp_272 = sp_120 + 0x02;
	if (ax_233 != 0x00)
	{
		si_1179 = Mem231[ss:fp + 0x02:word16];
		word16 cx_305 = Mem231[ss:fp + 0x04:word16];
		Mem307[ss:sp_120 + 0x00:word16] = ds_271;
		selector es_308 = Mem307[ss:sp_120 + 0x00:selector];
		Mem314[ss:sp_120 + 0x00:word16] = ds_271;
		word16 di_1181 = 0x4477;
		word16 ax_316 = 0x00;
		word16 cx_320 = ~0x00;
		if (cx_320 != 0x00)
		{
			di_1181 = di_1181 + 0x01;
			cx_320 = cx_320 - 0x01;
			if (0x00 != Mem314[es_308:di_1181 + 0x00:byte])
				goto l0800_3181;
		}
		word16 cx_328 = ~cx_320;
		word16 di_329 = di_1181 - cx_328;
		byte SCZO_331 = cond(di_329);
		byte Z_332 = SCZO_331;
		byte C_334 = SCZO_331;
		if (cx_328 != 0x00)
		{
			byte SCZO_377 = cond(Mem314[cx_305:si_1179 + 0x00:byte] - Mem314[es_308:di_1183 + 0x00:byte]);
			Z_332 = SCZO_377;
			C_334 = SCZO_377;
			si_1179 = si_1179 + 0x01;
			di_329 = di_1183 + 0x01;
			cx_328 = cx_328 - 0x01;
			di_1183 = di_329;
			if (Mem314[cx_305:si_1179 + 0x00:byte] != Mem314[es_308:di_1183 + 0x00:byte])
				goto l0800_3187;
		}
		if (!Z_332)
		{
			word16 ax_371 = 0x00 - C_334;
			ax_316 = ax_371 - ~0x00 - (ax_371 <u 0x00);
		}
		ds_271 = Mem314[ss:sp_120 + 0x00:selector];
		*dsOut = ds_271;
		sp_272 = sp_120 + 0x02;
		if (ax_316 != 0x00)
		{
			Mem361[ds_271:0x4617:word16] = Mem314[ds_271:0x4617:word16] + 0x01;
			return 0x01;
		}
	}
	word16 sp_287 = sp_272 - 0x02;
	Mem288[ss:sp_287 + 0x00:word16] = Mem231[ss:fp + 0x04:word16];
	Mem290[ss:sp_287 - 0x02 + 0x00:word16] = Mem288[ss:fp + 0x02:word16];
	byte dl_292;
	selector ds_293;
	return fn0800_2DE2(fp - 0x02, si_1179, ds_271, ptrArg00, wArg02, out dl_292, out ds_293);
}

word16 fn0800_31B4(word16 bp, selector ds, ptr16 & dsOut)
{
	word16 sp_12 = fp - 0x88;
l0800_31BD:
	word16 sp_28 = sp_12 - 0x02;
	Mem31[ss:sp_28 + 0x00:word16] = Mem0[ss:fp + 0x04:word16];
	Mem33[ss:sp_28 - 0x02 + 0x00:word16] = Mem31[ss:fp + 0x02:word16];
	Mem35[ss:sp_28 - 0x04 + 0x00:word16] = ss;
	Mem38[ss:sp_28 - 0x06 + 0x00:word16] = fp - 0x84;
	fn0800_3509(ds, wArg04, wArg06);
	Mem44[ss:sp_28 + 0x00:word16] = Mem38[ss:fp + 0x04:word16];
	Mem46[ss:sp_28 - 0x02 + 0x00:word16] = Mem44[ss:fp + 0x02:word16];
	Mem48[ss:sp_28 - 0x04 + 0x00:word16] = ss;
	Mem51[ss:sp_28 - 0x06 + 0x00:word16] = fp - 0x10;
	fn0800_35A3(ds, wArg04, wArg06);
	Mem58[ss:sp_28 + 0x00:word16] = SEQ(ds, 0x09AE)[Mem51[ds:0x09AC:word16] * 0x02];
	Mem60[ss:sp_28 - 0x02 + 0x00:word16] = ss;
	Mem63[ss:sp_28 - 0x04 + 0x00:word16] = fp - 0x84;
	Mem65[ss:sp_28 - 0x06 + 0x00:word16] = ss;
	Mem68[ss:sp_28 - 0x08 + 0x00:word16] = fp - 0x1E;
	selector ds_72;
	if (fn0800_32CD(ds, wArg00, wArg02, wArg04, wArg06, wArg08, out ds_72) != 0x00)
		if (Mem68[ds_72:0x09AC:word16] != 0x00)
		{
			Mem152[ss:sp_28 + 0x00:word16] = ss;
			selector es_153 = Mem152[ss:sp_28 + 0x00:selector];
			word16 di_155 = fp - 0x84;
			word16 cx_160 = ~0x00;
			if (cx_160 != 0x00)
			{
				di_155 = di_276 + 0x01;
				cx_160 = cx_160 - 0x01;
				di_276 = di_155;
				if (0x00 != Mem152[es_153:di_276 + 0x00:byte])
					goto l0800_325E;
			}
			Mem174[ss:~cx_160 - 0x02 + (fp - 0x84):byte] = 0x00;
			Mem176[ss:sp_28 + 0x00:word16] = ss;
			Mem178[ss:sp_28 - 0x02 + 0x00:word16] = fp - 0x84;
			Mem180[ss:sp_28 - 0x04 + 0x00:word16] = Mem178[ss:fp + 0x04:word16];
			Mem182[ss:sp_28 - 0x06 + 0x00:word16] = Mem180[ss:fp + 0x02:word16];
			fn0800_3509(ds_72, wArg04, wArg06);
			Mem185[ss:sp_28 + 0x00:word16] = ss;
			Mem190[ss:sp_28 + 0x00:word16] = Mem185[ss:sp_28 + 0x00:selector];
			selector es_191 = Mem190[ss:fp + 0x04:selector];
			Mem193[ss:sp_28 - 0x02 + 0x00:word16] = fp - 0x10;
			word16 di_194 = Mem193[ss:fp + 0x02:word16];
			word16 di_196 = Mem193[ss:sp_28 - 0x02 + 0x00:word16];
			selector es_199 = Mem193[ss:sp_28 + 0x00:selector];
			Mem202[ss:sp_28 + 0x00:word16] = es_191;
			Mem204[ss:sp_28 - 0x02 + 0x00:word16] = di_194;
			word16 cx_209 = ~0x00;
			if (cx_209 != 0x00)
			{
				di_196 = di_196 + 0x01;
				cx_209 = cx_209 - 0x01;
				if (0x00 != Mem204[es_199:di_196 + 0x00:byte])
					goto l0800_3298;
			}
			word16 cx_218 = ~cx_209;
			word16 di_221 = Mem204[ss:sp_28 - 0x02 + 0x00:word16];
			selector es_224 = Mem204[ss:sp_28 + 0x00:selector];
			Mem230[ss:sp_28 + 0x00:word16] = cx_218;
			word16 si_220 = di_196 - cx_218;
			word16 cx_231 = ~0x00;
			if (cx_231 != 0x00)
			{
				di_221 = di_221 + 0x01;
				cx_231 = cx_231 - 0x01;
				if (0x00 != Mem230[es_224:di_221 + 0x00:byte])
					goto l0800_32AE;
			}
			word16 di_243 = di_221 - 0x01;
			word16 cx_245 = Mem230[ss:sp_28 + 0x00:word16];
			sp_12 = sp_28 + 0x02;
			while (cx_245 != 0x00)
			{
				Mem251[es_224:di_243 + 0x00:byte] = Mem230[es_199:si_220 + 0x00:byte];
				si_220 = si_220 + 0x01;
				di_243 = di_243 + 0x01;
				cx_245 = cx_245 - 0x01;
			}
			Mem257[ds_72:0x09AC:word16] = Mem230[ds_72:0x09AC:word16] - 0x01;
			word16 bx_258 = Mem257[ds_72:0x09AC:word16];
			SEQ(ds_72, 0x09AE)[bx_258 * 0x02] = SEQ(ds_72, 0x09AE)[bx_258 * 0x02] + 0x01;
			ds = ds_72;
			goto l0800_31BD;
		}
		else
		{
			Mem140[ds_72:0x09AE:word16] = 0x00;
			return 0x00;
		}
	else
	{
		Mem92[ss:sp_28 + 0x00:word16] = ss;
		Mem95[ss:sp_28 - 0x02 + 0x00:word16] = fp - 0x10;
		Mem97[ss:sp_28 - 0x04 + 0x00:word16] = ds_72;
		Mem100[ss:sp_28 - 0x06 + 0x00:word16] = 0x0A30;
		Mem102[ss:sp_28 - 0x08 + 0x00:word16] = ss;
		Mem105[ss:sp_28 - 0x0A + 0x00:word16] = fp - 0x1E;
		Mem107[ss:sp_28 - 0x0C + 0x00:word16] = ss;
		Mem110[ss:sp_28 - 0x0E + 0x00:word16] = fp - 0x84;
		Mem112[ss:sp_28 - 0x10 + 0x00:word16] = ds_72;
		Mem115[ss:sp_28 - 0x12 + 0x00:word16] = 2599;
		Mem117[ss:sp_28 - 0x14 + 0x00:word16] = Mem115[ss:fp + 0x04:word16];
		Mem119[ss:sp_28 - 22 + 0x00:word16] = Mem117[ss:fp + 0x02:word16];
		word16 di_121;
		fn0800_BEA2(ds_72, ptrArg00, wArg04, wArg06, out di_121);
		Mem125[ds_72:0x09AC:word16] = Mem119[ds_72:0x09AC:word16] + 0x01;
		SEQ(ds_72, 0x09AE)[Mem125[ds_72:0x09AC:word16] * 0x02] = 0x00;
		return 0x01;
	}
}

word16 fn0800_32CD(selector ds, word16 wArg02, word16 wArg04, word16 wArg06, selector psegArg08, word16 wArg0A, ptr16 & dsOut)
{
	word16 di_215 = wArg06;
	word16 cx_216 = ~0x00;
	if (cx_216 != 0x00)
	{
		di_215 = di_215 + 0x01;
		cx_216 = cx_216 - 0x01;
		if (0x00 != Mem0[psegArg08:di_215 + 0x00:byte])
			goto l0800_32E7;
	}
	word16 cx_41 = ~cx_216;
	word16 cx_43 = cx_41 >>u 0x01;
	word16 si_48 = di_215 - cx_41;
	word16 di_49 = fp - 0x68;
	while (cx_43 != 0x00)
	{
		Mem63[ss:di_49 + 0x00:word16] = Mem0[psegArg08:si_48 + 0x00:word16];
		si_48 = si_48 + 0x02;
		di_49 = di_49 + 0x02;
		cx_43 = cx_43 - 0x01;
	}
	word16 cx_67 = cx_43 * 0x02 + (cx_41 >>u 0x01 <u 0x00);
	while (cx_67 != 0x00)
	{
		Mem73[ss:di_49 + 0x00:byte] = Mem0[psegArg08:si_48 + 0x00:byte];
		si_48 = si_48 + 0x01;
		di_49 = di_49 + 0x01;
		cx_67 = cx_67 - 0x01;
	}
	word16 di_211 = fp - 0x68;
	word16 si_100 = 0x0A32;
	word16 cx_212 = ~0x00;
	if (cx_212 != 0x00)
	{
		di_211 = di_211 + 0x01;
		cx_212 = cx_212 - 0x01;
		if (0x00 != Mem0[ss:di_211 + 0x00:byte])
			goto l0800_330C;
	}
	word16 di_101 = di_211 - 0x01;
	word16 cx_102 = 0x04;
	while (cx_102 != 0x00)
	{
		Mem104[ss:di_101 + 0x00:byte] = Mem0[ds:si_100 + 0x00:byte];
		si_100 = si_100 + 0x01;
		di_101 = di_101 + 0x01;
		cx_102 = cx_102 - 0x01;
	}
	byte dl_124;
	selector ds_125;
	if (fn0800_33CD(ds, DPB(ptrLoc76, wArg02, 0), wArg04, 0x10, fp - 0x68, ss, out dl_124, out ds_125) == 0x00)
	{
		while (wArg0A != 0x00)
		{
			ptrLoc72 = DPB(ptrLoc72, wArg02, 0);
			byte dl_198;
			if (fn0800_3479(ds_125, ptrLoc72, wArg04, 0x10, out dl_198, out ds_125) != 0x00)
				return wArg0A;
			wArg0A = wArg0A - 0x01;
		}
		return wArg0A;
	}
	else
		return 0x01;
}

byte fn0800_335C(selector ds, word16 wArg02, word16 wArg04)
{
	selector ds_34;
	byte dl_33;
	if (fn0800_33CD(ds, DPB(ptrLoc2C, fp - 0x10, 0), ss, 0x10, wArg02, wArg04, out dl_33, out ds_34) == 0x00)
	{
		dl_33 = fn0800_35A3(ds_34, wArg02, wArg04);
		Mem82[ss:fp - 0x24 + 0x00:word16] = ds_34;
		Mem85[ss:fp - 0x26 + 0x00:word16] = ss;
		word16 si_113 = fp - 0x10;
		selector es_86 = Mem85[ss:fp - 0x26 + 0x00:selector];
		word16 di_100 = fp - 0x1E;
		word16 ax_125 = 0x00;
		word16 cx_101 = ~0x00;
		if (cx_101 != 0x00)
		{
			di_100 = di_100 + 0x01;
			cx_101 = cx_101 - 0x01;
			if (0x00 != Mem85[es_86:di_100 + 0x00:byte])
				goto l0800_33A0;
		}
		word16 cx_102 = ~cx_101;
		word16 di_103 = di_100 - cx_102;
		byte SCZO_105 = cond(di_103);
		byte Z_107 = SCZO_105;
		byte C_108 = SCZO_105;
		if (cx_102 != 0x00)
		{
			byte SCZO_176 = cond(Mem85[ss:si_190 + 0x00:byte] - Mem85[es_86:di_191 + 0x00:byte]);
			Z_107 = SCZO_176;
			C_108 = SCZO_176;
			si_113 = si_190 + 0x01;
			di_103 = di_191 + 0x01;
			cx_102 = cx_102 - 0x01;
			si_190 = si_113;
			di_191 = di_103;
			if (Mem85[ss:si_190 + 0x00:byte] != Mem85[es_86:di_191 + 0x00:byte])
				goto l0800_33A6;
		}
		if (!Z_107)
		{
			word16 ax_170 = 0x00 - C_108;
			ax_125 = ax_170 - ~0x00 - (ax_170 <u 0x00);
		}
		selector ds_128 = Mem85[ss:fp - 0x24 + 0x00:selector];
		if (ax_125 == 0x00)
		{
			ptr32 es_di_134 = Mem85[ss:fp + 0x02:segptr32];
			word16 di_135 = (word16) es_di_134;
			selector es_136 = SLICE(es_di_134, selector, 16);
			word16 si_137 = 0x0A36;
			word16 cx_138 = ~0x00;
			if (cx_138 != 0x00)
			{
				di_135 = di_135 + 0x01;
				cx_138 = cx_138 - 0x01;
				if (0x00 != Mem85[es_136:di_135 + 0x00:byte])
					goto l0800_33BF;
			}
			word16 di_151 = di_135 - 0x01;
			word16 cx_154 = 0x05;
			while (cx_154 != 0x00)
			{
				Mem160[es_136:di_151 + 0x00:byte] = Mem85[ds_128:si_137 + 0x00:byte];
				si_137 = si_137 + 0x01;
				di_151 = di_151 + 0x01;
				cx_154 = cx_154 - 0x01;
			}
		}
	}
	return dl_33;
}

word16 fn0800_33CD(selector ds, segptr32 ptrArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, ptr16 & dlOut, ptr16 & dsOut)
{
	*dsOut = ds;
	byte dl_33;
	if (fn0800_A817(0x23, ds, DPB(ptrLoc10, wArg08, 0), DPB(ptrLoc0C, 17955, 0), wArg06, out dl_33) == 0x00)
	{
		word16 di_300 = 0x0A3B;
		word16 si_299 = 0x4641;
		word16 cx_302 = 0x02;
		word16 ax_104 = 0x00;
		byte Z_297 = cond(0x00);
		byte C_298 = false;
		if (cx_302 != 0x00)
		{
			byte SCZO_295 = cond(Mem0[ds:si_304 + 0x00:byte] - Mem0[ds:di_303 + 0x00:byte]);
			Z_297 = SCZO_295;
			C_298 = SCZO_295;
			si_299 = si_304 + 0x01;
			di_300 = di_303 + 0x01;
			cx_302 = cx_302 - 0x01;
			di_303 = di_300;
			si_304 = si_299;
			if (Mem0[ds:si_304 + 0x00:byte] != Mem0[ds:di_303 + 0x00:byte])
				goto l0800_33FE;
		}
		if (!Z_297)
		{
			word16 ax_289 = 0x00 - C_298;
			ax_104 = ax_289 - ~0x00 - (ax_289 <u 0x00);
		}
		if (ax_104 != 0x00)
		{
			word16 di_141 = 2621;
			word16 si_143 = 0x4641;
			word16 cx_144 = 0x03;
			word16 ax_145 = 0x00;
			byte Z_148 = cond(0x00);
			byte C_149 = false;
			if (cx_144 != 0x00)
			{
				byte SCZO_281 = cond(Mem0[ds:si_306 + 0x00:byte] - Mem0[ds:di_305 + 0x00:byte]);
				Z_148 = SCZO_281;
				C_149 = SCZO_281;
				si_143 = si_306 + 0x01;
				di_141 = di_305 + 0x01;
				cx_144 = cx_144 - 0x01;
				di_305 = di_141;
				si_306 = si_143;
				if (Mem0[ds:si_306 + 0x00:byte] != Mem0[ds:di_305 + 0x00:byte])
					goto l0800_3418;
			}
			if (!Z_148)
			{
				word16 ax_275 = 0x00 - C_149;
				ax_145 = ax_275 - ~0x00 - (ax_275 <u 0x00);
			}
			if (ax_145 != 0x00 && ((int16) Mem0[ds:17976:byte] & wArg06) == wArg06)
			{
				if ((wArg02 | wArg04) != 0x00)
				{
					word16 di_205 = (word16) ptrArg02;
					selector es_206 = SLICE(ptrArg02, selector, 16);
					word16 di_215 = 0x4641;
					word16 cx_221 = ~0x00;
					if (cx_221 != 0x00)
					{
						di_215 = di_215 + 0x01;
						cx_221 = cx_221 - 0x01;
						if (0x00 != Mem0[ds:di_215 + 0x00:byte])
							goto l0800_345B;
					}
					word16 cx_229 = ~cx_221;
					word16 cx_231 = cx_229 >>u 0x01;
					word16 si_236 = di_215 - cx_229;
					word16 di_237 = di_205;
					while (cx_231 != 0x00)
					{
						Mem251[es_206:di_237 + 0x00:word16] = Mem0[ds:si_236 + 0x00:word16];
						si_236 = si_236 + 0x02;
						di_237 = di_237 + 0x02;
						cx_231 = cx_231 - 0x01;
					}
					word16 cx_256 = cx_231 * 0x02 + (cx_229 >>u 0x01 <u 0x00);
					while (cx_256 != 0x00)
					{
						Mem263[es_206:di_237 + 0x00:byte] = Mem0[ds:si_236 + 0x00:byte];
						si_236 = si_236 + 0x01;
						di_237 = di_237 + 0x01;
						cx_256 = cx_256 - 0x01;
					}
					*dsOut = ds;
				}
				return 0x00;
			}
		}
		byte dl_125;
		selector ds_126;
		return fn0800_3479(ds, DPB(ptrLoc0C, wArg02, 0), wArg04, wArg06, out dl_125, out ds_126);
	}
	else
		return 0x01;
}

word16 fn0800_3479(selector ds, segptr32 ptrArg02, word16 wArg04, word16 wArg06, ptr16 & dlOut, ptr16 & dsOut)
{
	*dsOut = ds;
	do
	{
		ptrLoc0A = DPB(ptrLoc0A, 17955, 0);
		word16 ax_33;
		byte dl_34;
		fn0800_A84A(0x23, ds, ptrLoc0A, out ax_33, out dl_34);
		if (ax_33 != 0x00)
			return 0x01;
		word16 di_272 = 0x0A3B;
		word16 si_271 = 0x4641;
		word16 cx_274 = 0x02;
		word16 ax_264 = 0x00;
		byte Z_269 = cond(0x00);
		byte C_270 = false;
		if (cx_274 != 0x00)
		{
			byte SCZO_267 = cond(Mem0[ds:si_276 + 0x00:byte] - Mem0[ds:di_275 + 0x00:byte]);
			Z_269 = SCZO_267;
			C_270 = SCZO_267;
			si_271 = si_276 + 0x01;
			di_272 = di_275 + 0x01;
			cx_274 = cx_274 - 0x01;
			di_275 = di_272;
			si_276 = si_271;
			if (Mem0[ds:si_276 + 0x00:byte] != Mem0[ds:di_275 + 0x00:byte])
				goto l0800_34A1;
		}
		if (!Z_269)
		{
			word16 ax_261 = 0x00 - C_270;
			ax_264 = ax_261 - ~0x00 - (ax_261 <u 0x00);
		}
		if (ax_264 == 0x00)
			continue;
		word16 di_108 = 2621;
		word16 si_110 = 0x4641;
		word16 cx_111 = 0x03;
		word16 ax_112 = 0x00;
		byte Z_115 = cond(0x00);
		byte C_116 = false;
		if (cx_111 != 0x00)
		{
			byte SCZO_253 = cond(Mem0[ds:si_278 + 0x00:byte] - Mem0[ds:di_277 + 0x00:byte]);
			Z_115 = SCZO_253;
			C_116 = SCZO_253;
			si_110 = si_278 + 0x01;
			di_108 = di_277 + 0x01;
			cx_111 = cx_111 - 0x01;
			di_277 = di_108;
			si_278 = si_110;
			if (Mem0[ds:si_278 + 0x00:byte] != Mem0[ds:di_277 + 0x00:byte])
				goto l0800_34BB;
		}
		if (!Z_115)
		{
			word16 ax_247 = 0x00 - C_116;
			ax_112 = ax_247 - ~0x00 - (ax_247 <u 0x00);
		}
	} while (ax_112 == 0x00 || ((int16) Mem0[ds:17976:byte] & wArg06) != wArg06);
	if ((wArg02 | wArg04) != 0x00)
	{
		word16 di_177 = (word16) ptrArg02;
		selector es_178 = SLICE(ptrArg02, selector, 16);
		word16 di_187 = 0x4641;
		word16 cx_193 = ~0x00;
		if (cx_193 != 0x00)
		{
			di_187 = di_187 + 0x01;
			cx_193 = cx_193 - 0x01;
			if (0x00 != Mem0[ds:di_187 + 0x00:byte])
				goto l0800_34EB;
		}
		word16 cx_201 = ~cx_193;
		word16 cx_203 = cx_201 >>u 0x01;
		word16 si_208 = di_187 - cx_201;
		word16 di_209 = di_177;
		while (cx_203 != 0x00)
		{
			Mem223[es_178:di_209 + 0x00:word16] = Mem0[ds:si_208 + 0x00:word16];
			si_208 = si_208 + 0x02;
			di_209 = di_209 + 0x02;
			cx_203 = cx_203 - 0x01;
		}
		word16 cx_228 = cx_203 * 0x02 + (cx_201 >>u 0x01 <u 0x00);
		while (cx_228 != 0x00)
		{
			Mem235[es_178:di_209 + 0x00:byte] = Mem0[ds:si_208 + 0x00:byte];
			si_208 = si_208 + 0x01;
			di_209 = di_209 + 0x01;
			cx_228 = cx_228 - 0x01;
		}
		*dsOut = ds;
	}
	return 0x00;
}

void fn0800_3509(selector ds, word16 wArg06, word16 wArg08)
{
	fn0800_BE3B(wArg06, wArg08, fp - 0x06, ss, fp - 0x5A, ss, fp - 0x10, ss, fp - 22, ss);
	Mem44[ss:fp - 0x60 + 0x00:word16] = ss;
	Mem49[ss:fp - 0x60 + 0x00:word16] = Mem44[ss:fp - 0x60 + 0x00:selector];
	selector es_50 = Mem49[ss:fp + 0x04:selector];
	Mem52[ss:fp - 0x62 + 0x00:word16] = fp - 0x06;
	word16 di_53 = Mem52[ss:fp + 0x02:word16];
	word16 di_200 = Mem52[ss:fp - 0x62 + 0x00:word16];
	selector es_58 = Mem52[ss:fp - 0x60 + 0x00:selector];
	Mem61[ss:fp - 0x60 + 0x00:word16] = es_50;
	Mem63[ss:fp - 0x62 + 0x00:word16] = di_53;
	word16 cx_201 = ~0x00;
	if (cx_201 != 0x00)
	{
		di_200 = di_200 + 0x01;
		cx_201 = cx_201 - 0x01;
		if (0x00 != Mem63[es_58:di_200 + 0x00:byte])
			goto l0800_354B;
	}
	word16 di_104 = Mem63[ss:fp - 0x62 + 0x00:word16];
	selector es_87 = Mem63[ss:fp - 0x60 + 0x00:selector];
	Mem91[ss:fp - 0x60 + 0x00:word16] = ds;
	word16 cx_76 = ~cx_201;
	word16 cx_100 = cx_76 >>u 0x01;
	word16 si_103 = di_200 - cx_76;
	while (cx_100 != 0x00)
	{
		Mem97[es_87:di_104 + 0x00:word16] = Mem91[es_58:si_103 + 0x00:word16];
		si_103 = si_103 + 0x02;
		di_104 = di_104 + 0x02;
		cx_100 = cx_100 - 0x01;
	}
	word16 cx_101 = cx_100 * 0x02 + (cx_76 >>u 0x01 <u 0x00);
	while (cx_101 != 0x00)
	{
		Mem107[es_87:di_104 + 0x00:byte] = Mem91[es_58:si_103 + 0x00:byte];
		si_103 = si_103 + 0x01;
		di_104 = di_104 + 0x01;
		cx_101 = cx_101 - 0x01;
	}
	selector ds_111 = Mem91[ss:fp - 0x60 + 0x00:selector];
	Mem114[ss:fp - 0x60 + 0x00:word16] = ss;
	Mem119[ss:fp - 0x60 + 0x00:word16] = Mem114[ss:fp - 0x60 + 0x00:selector];
	selector es_120 = Mem119[ss:fp + 0x04:selector];
	Mem122[ss:fp - 0x62 + 0x00:word16] = fp - 0x5A;
	word16 di_123 = Mem122[ss:fp + 0x02:word16];
	word16 di_125 = Mem122[ss:fp - 0x62 + 0x00:word16];
	selector es_128 = Mem122[ss:fp - 0x60 + 0x00:selector];
	Mem131[ss:fp - 0x60 + 0x00:word16] = es_120;
	Mem133[ss:fp - 0x62 + 0x00:word16] = di_123;
	word16 cx_138 = ~0x00;
	if (cx_138 != 0x00)
	{
		di_125 = di_125 + 0x01;
		cx_138 = cx_138 - 0x01;
		if (0x00 != Mem133[es_128:di_125 + 0x00:byte])
			goto l0800_357D;
	}
	word16 di_150 = Mem133[ss:fp - 0x62 + 0x00:word16];
	selector es_153 = Mem133[ss:fp - 0x60 + 0x00:selector];
	Mem155[ss:fp - 0x18 + 0x00:word16] = ds_111;
	word16 cx_147 = ~cx_138;
	Mem158[ss:fp - 0x60 + 0x00:word16] = cx_147;
	word16 si_149 = di_125 - cx_147;
	word16 cx_159 = ~0x00;
	if (cx_159 != 0x00)
	{
		di_150 = di_150 + 0x01;
		cx_159 = cx_159 - 0x01;
		if (0x00 != Mem158[es_153:di_150 + 0x00:byte])
			goto l0800_3594;
	}
	word16 di_171 = di_150 - 0x01;
	word16 cx_173 = Mem158[ss:fp - 0x60 + 0x00:word16];
	while (cx_173 != 0x00)
	{
		Mem179[es_153:di_171 + 0x00:byte] = Mem158[es_128:si_149 + 0x00:byte];
		si_149 = si_149 + 0x01;
		di_171 = di_171 + 0x01;
		cx_173 = cx_173 - 0x01;
	}
	return;
}

byte fn0800_35A3(selector ds, word16 wArg06, word16 wArg08)
{
	fn0800_BE3B(wArg06, wArg08, fp - 0x06, ss, fp - 0x5A, ss, fp - 0x10, ss, fp - 22, ss);
	Mem44[ss:fp - 0x60 + 0x00:word16] = ss;
	Mem49[ss:fp - 0x60 + 0x00:word16] = Mem44[ss:fp - 0x60 + 0x00:selector];
	selector es_50 = Mem49[ss:fp + 0x04:selector];
	Mem52[ss:fp - 0x62 + 0x00:word16] = fp - 0x10;
	word16 di_53 = Mem52[ss:fp + 0x02:word16];
	word16 di_201 = Mem52[ss:fp - 0x62 + 0x00:word16];
	selector es_58 = Mem52[ss:fp - 0x60 + 0x00:selector];
	Mem61[ss:fp - 0x60 + 0x00:word16] = es_50;
	Mem63[ss:fp - 0x62 + 0x00:word16] = di_53;
	word16 cx_202 = ~0x00;
	if (cx_202 != 0x00)
	{
		di_201 = di_201 + 0x01;
		cx_202 = cx_202 - 0x01;
		if (0x00 != Mem63[es_58:di_201 + 0x00:byte])
			goto l0800_35E5;
	}
	word16 di_104 = Mem63[ss:fp - 0x62 + 0x00:word16];
	selector es_87 = Mem63[ss:fp - 0x60 + 0x00:selector];
	Mem91[ss:fp - 0x60 + 0x00:word16] = ds;
	word16 cx_76 = ~cx_202;
	word16 cx_100 = cx_76 >>u 0x01;
	word16 si_103 = di_201 - cx_76;
	while (cx_100 != 0x00)
	{
		Mem97[es_87:di_104 + 0x00:word16] = Mem91[es_58:si_103 + 0x00:word16];
		si_103 = si_103 + 0x02;
		di_104 = di_104 + 0x02;
		cx_100 = cx_100 - 0x01;
	}
	word16 cx_101 = cx_100 * 0x02 + (cx_76 >>u 0x01 <u 0x00);
	while (cx_101 != 0x00)
	{
		Mem107[es_87:di_104 + 0x00:byte] = Mem91[es_58:si_103 + 0x00:byte];
		si_103 = si_103 + 0x01;
		di_104 = di_104 + 0x01;
		cx_101 = cx_101 - 0x01;
	}
	selector ds_111 = Mem91[ss:fp - 0x60 + 0x00:selector];
	Mem114[ss:fp - 0x60 + 0x00:word16] = ss;
	Mem119[ss:fp - 0x60 + 0x00:word16] = Mem114[ss:fp - 0x60 + 0x00:selector];
	selector es_120 = Mem119[ss:fp + 0x04:selector];
	Mem122[ss:fp - 0x62 + 0x00:word16] = fp - 22;
	word16 di_123 = Mem122[ss:fp + 0x02:word16];
	word16 di_125 = Mem122[ss:fp - 0x62 + 0x00:word16];
	selector es_129 = Mem122[ss:fp - 0x60 + 0x00:selector];
	Mem132[ss:fp - 0x60 + 0x00:word16] = es_120;
	Mem134[ss:fp - 0x62 + 0x00:word16] = di_123;
	byte dl_128 = (byte) es_120;
	word16 cx_139 = ~0x00;
	if (cx_139 != 0x00)
	{
		di_125 = di_125 + 0x01;
		cx_139 = cx_139 - 0x01;
		if (0x00 != Mem134[es_129:di_125 + 0x00:byte])
			goto l0800_3617;
	}
	word16 di_151 = Mem134[ss:fp - 0x62 + 0x00:word16];
	selector es_154 = Mem134[ss:fp - 0x60 + 0x00:selector];
	Mem156[ss:fp - 0x18 + 0x00:word16] = ds_111;
	word16 cx_148 = ~cx_139;
	Mem159[ss:fp - 0x60 + 0x00:word16] = cx_148;
	word16 si_150 = di_125 - cx_148;
	word16 cx_160 = ~0x00;
	if (cx_160 != 0x00)
	{
		di_151 = di_151 + 0x01;
		cx_160 = cx_160 - 0x01;
		if (0x00 != Mem159[es_154:di_151 + 0x00:byte])
			goto l0800_362E;
	}
	word16 di_172 = di_151 - 0x01;
	word16 cx_174 = Mem159[ss:fp - 0x60 + 0x00:word16];
	while (cx_174 != 0x00)
	{
		Mem180[es_154:di_172 + 0x00:byte] = Mem159[es_129:si_150 + 0x00:byte];
		si_150 = si_150 + 0x01;
		di_172 = di_172 + 0x01;
		cx_174 = cx_174 - 0x01;
	}
	return dl_128;
}

selector fn0800_363D(selector ds, segptr32 ptrArg02, word16 wArg06, word16 wArg08)
{
	byte dl_31;
	if (fn0800_A817((byte) (fp - 0x2E), ds, DPB(ptrLoc38, wArg06, 0), DPB(ptrLoc34, fp - 0x2E, 0), 0x00, out dl_31) == 0x00)
	{
		word16 bx_55 = (word16) ptrArg02;
		selector es_56 = SLICE(ptrArg02, selector, 16);
		Mem59[es_56:bx_55 + 0x00:word16] = wLoc18;
		Mem62[es_56:bx_55 + 0x02:word16] = wLoc16;
		return ds;
	}
	else
		return ds;
}

word16 fn0800_3678(word16 bp, selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 sp_170 = fp - 0x0C;
	word16 di_19 = (word16) ptrArg02;
	selector es_20 = SLICE(ptrArg02, selector, 16);
	word16 cx_25 = ~0x00;
	if (cx_25 != 0x00)
	{
		di_19 = di_19 + 0x01;
		cx_25 = cx_25 - 0x01;
		if (0x00 != Mem0[es_20:di_19 + 0x00:byte])
			goto l0800_3693;
	}
	word16 cx_271 = ~cx_25;
	word16 di_259 = di_19 - cx_271;
	byte Z_267 = cond(di_259);
	if (cx_271 != 0x00)
	{
		Z_267 = cond(0x5C - Mem0[es_20:di_259 + 0x00:byte]);
		di_259 = di_259 + 0x01;
		cx_271 = cx_271 - 0x01;
		if (0x5C != Mem0[es_20:di_259 + 0x00:byte])
			goto l0800_369C;
	}
	if (!Z_267)
		di_259 = 0x01;
	word16 di_61 = di_259 - 0x01;
	while (true)
	{
		ptr32 es_di_88 = Mem0[ss:fp - 0x06 + 0x00:segptr32];
		word16 di_100 = (word16) es_di_88;
		selector es_127 = SLICE(es_di_88, selector, 16);
		word16 cx_101 = ~0x00;
		if (cx_101 != 0x00)
		{
			di_100 = di_100 + 0x01;
			cx_101 = cx_101 - 0x01;
			if (0x00 != Mem0[es_127:di_100 + 0x00:byte])
				goto l0800_373A;
		}
		word16 cx_103 = ~cx_101;
		word16 di_105 = di_100 - cx_103;
		byte Z_109 = cond(di_105);
		if (cx_103 != 0x00)
		{
			Z_109 = cond(0x5C - Mem0[es_127:di_105 + 0x00:byte]);
			di_105 = di_105 + 0x01;
			cx_103 = cx_103 - 0x01;
			if (0x5C != Mem0[es_127:di_105 + 0x00:byte])
				goto l0800_3743;
		}
		if (!Z_109)
		{
			di_105 = 0x01;
			es_127 = 0x00;
		}
		Mem131[ss:fp - 0x08 + 0x00:word16] = es_127;
		word16 di_129 = di_105 - 0x01;
		Mem132[ss:fp - 0x0A + 0x00:word16] = di_129;
		if ((di_129 | es_127) == 0x00)
			break;
		Mem0[Mem0[Mem132[ss:fp - 0x0A + 0x00:segptr32] + 0x00:byte] + 0x00:byte] = 0x00;
		word16 sp_150 = sp_170 - 0x02;
		Mem151[ss:sp_150 + 0x00:word16] = Mem149[ss:fp + 0x04:word16];
		Mem153[ss:sp_150 - 0x02 + 0x00:word16] = Mem151[ss:fp + 0x02:word16];
		Mem156[ss:sp_150 - 0x04 + 0x00:word16] = 0x10;
		Mem161[ss:sp_150 - 0x06 + 0x00:word16] = 0x00;
		Mem163[ss:sp_150 - 0x08 + 0x00:word16] = 0x00;
		byte dl_167;
		word16 ax_169 = fn0800_33CD(ds, ptrArg00, wArg02, wArg04, wArg06, wArg08, out dl_167, out ds);
		sp_170 = sp_150 + 0x02;
		byte al_172 = (byte) ax_169;
		if (ax_169 != 0x00)
		{
			Mem196[ss:sp_150 + 0x00:word16] = Mem163[ss:fp + 0x04:word16];
			Mem198[ss:sp_150 - 0x02 + 0x00:word16] = Mem196[ss:fp + 0x02:word16];
			sp_170 = sp_150 + 0x02;
			if (fn0800_8E52(al_172, ds, ptrArg00) != 0x00)
			{
				Mem206[ss:sp_150 + 0x00:word16] = Mem198[ss:fp + 0x04:word16];
				Mem208[ss:sp_150 - 0x02 + 0x00:word16] = Mem206[ss:fp + 0x02:word16];
				Mem211[ss:sp_150 - 0x04 + 0x00:word16] = 0x0E;
				word16 di_213;
				fn0800_0D24(fp - 0x02, ds, out si, out di_213, out ds);
				sp_170 = sp_150 + 0x02;
			}
		}
		Mem0[Mem0[Mem163[ss:fp - 0x0A + 0x00:segptr32] + 0x00:byte] + 0x00:byte] = 0x5C;
		word16 dx_190 = Mem188[ss:fp - 0x0A + 0x00:word16];
		Mem193[ss:fp - 0x04 + 0x00:word16] = Mem188[ss:fp - 0x08 + 0x00:word16];
		Mem194[ss:fp - 0x06 + 0x00:word16] = dx_190 + 0x01;
	}
	return si;
}

word16 fn0800_3764(selector ds)
{
	word16 sp_116;
	if (Mem0[ds:17022:byte] != 0x00)
	{
		word16 di_121 = 17022;
		word16 cx_122 = ~0x00;
		if (cx_122 != 0x00)
		{
			di_121 = di_121 + 0x01;
			cx_122 = cx_122 - 0x01;
			if (0x00 != Mem0[ds:di_121 + 0x00:byte])
				goto l0800_377C;
		}
		word16 cx_81 = ~cx_122;
		word16 cx_104 = cx_81 >>u 0x01;
		word16 si_102 = di_121 - cx_81;
		word16 di_103 = 0x44DC;
		while (cx_104 != 0x00)
		{
			Mem101[ds:di_103 + 0x00:word16] = Mem0[ds:si_102 + 0x00:word16];
			si_102 = si_102 + 0x02;
			di_103 = di_103 + 0x02;
			cx_104 = cx_104 - 0x01;
		}
		word16 cx_105 = cx_104 * 0x02 + (cx_81 >>u 0x01 <u 0x00);
		while (cx_105 != 0x00)
		{
			Mem111[ds:di_103 + 0x00:byte] = Mem0[ds:si_102 + 0x00:byte];
			si_102 = si_102 + 0x01;
			di_103 = di_103 + 0x01;
			cx_105 = cx_105 - 0x01;
		}
		sp_116 = fp - 0x04;
	}
	else
	{
		fn0800_3509(ds, 0x4541, ds);
		sp_116 = fp - 0x04;
	}
	word16 sp_21 = sp_116 - 0x02;
	Mem22[ss:sp_21 + 0x00:word16] = ds;
	selector es_24 = Mem22[ss:sp_21 + 0x00:selector];
	word16 di_135 = 0x44DC;
	word16 si_27 = 0x0A40;
	word16 cx_28 = ~0x00;
	if (cx_28 != 0x00)
	{
		di_135 = di_135 + 0x01;
		cx_28 = cx_28 - 0x01;
		if (0x00 != Mem22[es_24:di_135 + 0x00:byte])
			goto l0800_37B3;
	}
	word16 di_40 = di_135 - 0x01;
	word16 cx_42 = 0x0D;
	while (cx_42 != 0x00)
	{
		Mem47[es_24:di_40 + 0x00:byte] = Mem22[ds:si_27 + 0x00:byte];
		si_27 = si_27 + 0x01;
		di_40 = di_40 + 0x01;
		cx_42 = cx_42 - 0x01;
	}
	return bp;
}

word16 fn0800_37BE(selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, ptr16 & diOut)
{
	word16 di_32;
	return fn0800_BEA2(ds, DPB(ptrLoc12, wArg02, 0), 0x0A2B, ds, out di_32);
}

word16 fn0800_37DF(word16 bp, selector ds, ptr16 & dsOut)
{
	fn0800_3509(ds, 0x44DC, ds);
	Mem26[ss:fp - 0x70 + 0x00:word16] = ds;
	Mem29[ss:fp - 114 + 0x00:word16] = 0x4541;
	Mem31[ss:fp - 116 + 0x00:word16] = ss;
	selector es_186 = Mem31[ss:fp - 116 + 0x00:selector];
	word16 di_195 = fp - 0x6C;
	word16 cx_196 = ~0x00;
	if (cx_196 != 0x00)
	{
		di_195 = di_195 + 0x01;
		cx_196 = cx_196 - 0x01;
		if (0x00 != Mem31[es_186:di_195 + 0x00:byte])
			goto l0800_3805;
	}
	word16 cx_192 = ~cx_196;
	word16 di_182 = di_195 - cx_192;
	byte Z_189 = cond(di_182);
	if (cx_192 != 0x00)
	{
		Z_189 = cond(0x00 - Mem31[es_186:di_182 + 0x00:byte]);
		di_182 = di_182 + 0x01;
		cx_192 = cx_192 - 0x01;
		if (0x00 != Mem31[es_186:di_182 + 0x00:byte])
			goto l0800_380D;
	}
	if (!Z_189)
	{
		di_182 = 0x01;
		es_186 = 0x00;
	}
	Mem71[ss:fp - 116 + 0x00:word16] = es_186;
	word16 di_67 = di_182 - 0x01;
	Mem73[ss:fp - 118 + 0x00:word16] = di_67;
	fn0800_35A3(ds, wArg04, wArg06);
	Mem82[ss:fp - 0x70 + 0x00:word16] = ds;
	Mem85[ss:fp - 114 + 0x00:word16] = 0x0A4D;
	Mem87[ss:fp - 116 + 0x00:word16] = ss;
	Mem90[ss:fp - 118 + 0x00:word16] = fp - 0x6C;
	word16 dx_94;
	word16 di_96;
	selector ds_106;
	word16 si_128;
	word16 ax_98 = fn0800_AA7E(si, di_67, ds, wArg00, wArg02, wArg04, wArg06, out dx_94, out si_128, out di_96, out ds_106);
	Mem100[ss:fp - 0x04 + 0x00:word16] = dx_94;
	Mem101[ss:fp - 0x06 + 0x00:word16] = ax_98;
	word16 sp_109 = fp - 110;
	if ((ax_98 | dx_94) != 0x00)
	{
		Mem153[ss:fp - 0x70 + 0x00:word16] = Mem101[ss:fp - 0x04 + 0x00:word16];
		Mem155[ss:fp - 114 + 0x00:word16] = Mem153[ss:fp - 0x06 + 0x00:word16];
		byte dl_156;
		word16 di_157;
		selector ds_158;
		fn0800_A614(fp - 0x02, ds_106, ptrArg00, wArg02, out dl_156, out di_157, out ds_158);
		Mem164[ss:fp - 0x70 + 0x00:word16] = 0x0180;
		Mem166[ss:fp - 114 + 0x00:word16] = ss;
		Mem169[ss:fp - 116 + 0x00:word16] = fp - 0x6C;
		ds_106 = fn0800_A4F6(fp - 0x02, ds_158, wArg00, wArg02, wArg04);
		*dsOut = ds_106;
		Mem174[ss:fp - 0x70 + 0x00:word16] = ss;
		Mem178[ss:fp - 114 + 0x00:word16] = fp - 0x6C;
		fn0800_8F7F((byte) (fp - 0x6C), ds_106, ptrArg00);
		sp_109 = fp - 110;
	}
	word16 sp_110 = sp_109 - 0x02;
	Mem111[ss:sp_110 + 0x00:word16] = ss;
	Mem114[ss:sp_110 - 0x02 + 0x00:word16] = fp - 0x6C;
	Mem116[ss:sp_110 - 0x04 + 0x00:word16] = ds_106;
	Mem120[ss:sp_110 - 0x06 + 0x00:word16] = 0x44DC;
	if (fn0800_BA4A(220, ds_106, ptrArg00, ptrArg04) == ~0x00)
	{
		Mem139[ss:sp_110 + 0x00:word16] = ds_106;
		Mem142[ss:sp_110 - 0x02 + 0x00:word16] = 0x44DC;
		Mem145[ss:sp_110 - 0x04 + 0x00:word16] = 0x0A;
		word16 di_147;
		selector ds_148;
		fn0800_0D24(fp - 0x02, ds_106, out si_128, out di_147, out ds_148);
	}
	return si_128;
}

word16 fn0800_388C(word16 bp, word16 si, word16 di, selector ds, ptr16 & siOut, ptr16 & dsOut)
{
	word16 di_22;
	selector ds_23;
	word16 si_24 = fn0800_4234(si, di, ds, 0x4541, ds, 0x0A13, ds, out di_22, out ds_23);
	Mem28[ds_23:0x29E5:word16] = dx;
	Mem29[ds_23:0x29E3:word16] = 0x4541;
	Mem31[ss:fp - 0x0C + 0x00:word16] = ds_23;
	Mem35[ss:fp - 0x0E + 0x00:word16] = 0x0A50;
	Mem37[ss:fp - 0x10 + 0x00:word16] = ds_23;
	Mem40[ss:fp - 0x12 + 0x00:word16] = 0x44DC;
	word16 di_45;
	selector ds_46;
	*siOut = fn0800_4234(si_24, di_22, ds_23, wArg00, wArg02, wArg04, wArg06, out di_45, out ds_46);
	Mem50[ds_46:10721:word16] = dx;
	Mem51[ds_46:10719:word16] = 0x44DC;
	Mem53[ss:fp - 0x0C + 0x00:word16] = ds_46;
	Mem56[ss:fp - 0x0E + 0x00:word16] = 0x44DC;
	Mem58[ss:fp - 0x10 + 0x00:word16] = ss;
	Mem61[ss:fp - 0x12 + 0x00:word16] = fp - 0x06;
	selector ds_63 = fn0800_363D(ds_46, ptrArg00, wArg04, wArg06);
	*dsOut = ds_63;
	if (Mem61[ds_63:0x0A12:byte] != 0x00)
	{
		Mem95[ss:fp - 0x0C + 0x00:word16] = ds_63;
		Mem98[ss:fp - 0x0E + 0x00:word16] = 0x4541;
		Mem100[ss:fp - 0x10 + 0x00:word16] = ss;
		Mem103[ss:fp - 0x12 + 0x00:word16] = fp - 0x0A;
		selector ds_104 = fn0800_363D(ds_63, ptrArg00, wArg04, wArg06);
		*dsOut = ds_104;
		Mem108[ss:fp - 0x0C + 0x00:word16] = ds_104;
		Mem111[ss:fp - 0x0E + 0x00:word16] = 17951;
		Mem113[ss:fp - 0x10 + 0x00:word16] = ss;
		Mem116[ss:fp - 0x12 + 0x00:word16] = fp - 0x0A;
		if (fn0800_395B(ptrArg00, ptrArg04) >= 0x00)
		{
			Mem132[ss:fp - 0x0C + 0x00:word16] = ss;
			Mem135[ss:fp - 0x0E + 0x00:word16] = fp - 0x06;
			Mem137[ss:fp - 0x10 + 0x00:word16] = ss;
			Mem140[ss:fp - 0x12 + 0x00:word16] = fp - 0x0A;
			if (fn0800_395B(ptrArg00, ptrArg04) <= 0x00)
			{
				Mem147[ss:fp - 0x0C + 0x00:word16] = Mem140[ds_104:0x29E5:word16];
				Mem149[ss:fp - 0x0E + 0x00:word16] = Mem147[ds_104:0x29E3:word16];
				byte dl_150;
				word16 di_151;
				selector ds_152;
				fn0800_A614(fp - 0x02, ds_104, ptrArg00, wArg02, out dl_150, out di_151, out ds_152);
				Mem157[ss:fp - 0x0C + 0x00:word16] = Mem149[ds_152:10721:word16];
				Mem159[ss:fp - 0x0E + 0x00:word16] = Mem157[ds_152:10719:word16];
				byte dl_160;
				word16 di_161;
				selector ds_162;
				fn0800_A614(fp - 0x02, ds_152, ptrArg00, wArg02, out dl_160, out di_161, out ds_162);
				Mem167[ss:fp - 0x0C + 0x00:word16] = ds_162;
				Mem171[ss:fp - 0x0E + 0x00:word16] = 0x44DC;
				fn0800_8F7F(220, ds_162, ptrArg00);
				return 0x00;
			}
		}
		return 0x01;
	}
	else
	{
		Mem81[ds_63:0x4621:word16] = Mem61[ss:fp - 0x04 + 0x00:word16];
		Mem83[ds_63:17951:word16] = Mem81[ss:fp - 0x06 + 0x00:word16];
		Mem84[ds_63:0x0A12:byte] = 0x01;
		return 0x01;
	}
}

word16 fn0800_395B(segptr32 ptrArg02, segptr32 ptrArg06)
{
	word16 ax_13 = Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x02:word16];
	if (ax_13 != Mem0[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x02:word16])
		return ax_13 - Mem0[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x02:word16];
	else
		return Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:word16] - Mem0[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x00:word16];
}

word16 fn0800_3992(word16 bp, selector ds, ptr16 & dlOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*dlOut = dl;
	if (Mem0[ds:17022:byte] == 0x00 || (Mem0[ds:0x2A23:word16] != 0x01 || Mem0[ds:10775:word16] == 0x00))
		return 0x00;
	else
	{
		fn0800_3509(ds, 0x44DC, ds);
		Mem80[ss:fp - 0x78 + 0x00:word16] = ds;
		Mem83[ss:fp - 122 + 0x00:word16] = 0x4541;
		Mem85[ss:fp - 0x7C + 0x00:word16] = ss;
		selector es_129 = Mem85[ss:fp - 0x7C + 0x00:selector];
		word16 di_100 = fp - 116;
		word16 cx_399 = ~0x00;
		if (cx_399 != 0x00)
		{
			di_100 = di_100 + 0x01;
			cx_399 = cx_399 - 0x01;
			if (0x00 != Mem85[es_129:di_100 + 0x00:byte])
				goto l0800_39D4;
		}
		word16 cx_101 = ~cx_399;
		word16 di_104 = di_100 - cx_101;
		byte Z_106 = cond(di_104);
		if (cx_101 != 0x00)
		{
			Z_106 = cond(0x00 - Mem85[es_129:di_104 + 0x00:byte]);
			di_104 = di_104 + 0x01;
			cx_101 = cx_101 - 0x01;
			if (0x00 != Mem85[es_129:di_104 + 0x00:byte])
				goto l0800_39DC;
		}
		if (!Z_106)
		{
			di_104 = 0x01;
			es_129 = 0x00;
		}
		Mem135[ss:fp - 0x7C + 0x00:word16] = es_129;
		word16 di_131 = di_104 - 0x01;
		Mem137[ss:fp - 0x7E + 0x00:word16] = di_131;
		*dlOut = fn0800_35A3(ds, wArg04, wArg06);
		Mem145[ss:fp - 0x78 + 0x00:word16] = ds;
		Mem148[ss:fp - 122 + 0x00:word16] = 0x0A4D;
		Mem150[ss:fp - 0x7C + 0x00:word16] = ss;
		Mem153[ss:fp - 0x7E + 0x00:word16] = fp - 116;
		word16 dx_156;
		word16 si_157;
		word16 di_158;
		selector ds_159;
		word16 ax_160 = fn0800_AA7E(si, di_131, ds, wArg00, wArg02, wArg04, wArg06, out dx_156, out si_157, out di_158, out ds_159);
		Mem162[ss:fp - 0x04 + 0x00:word16] = dx_156;
		Mem163[ss:fp - 0x06 + 0x00:word16] = ax_160;
		if ((ax_160 | dx_156) != 0x00)
		{
			Mem179[ss:fp - 0x78 + 0x00:word16] = Mem163[ss:fp - 0x04 + 0x00:word16];
			Mem181[ss:fp - 122 + 0x00:word16] = Mem179[ss:fp - 0x06 + 0x00:word16];
			word16 si_182;
			selector ds_183;
			word16 ax_184 = fn0800_4194(fp - 0x02, ds_159, wArg00, wArg02, out si_182, out ds_183);
			if (false || dx_156 == 0x00 && ax_184 >u 0x12)
			{
				Mem197[ss:fp - 0x78 + 0x00:word16] = Mem181[ss:fp - 0x04 + 0x00:word16];
				Mem199[ss:fp - 122 + 0x00:word16] = Mem197[ss:fp - 0x06 + 0x00:word16];
				selector ds_200;
				word16 dx_205;
				word16 ax_206 = fn0800_8CAA(ax_184, 0x08, fn0800_3E5D(fp - 0x02, ds_183, wArg00, wArg02, out ds_200), bp, out dx_205);
				if (dx_205 != 0x52 || ax_206 != 0x4E43)
				{
					Mem214[ss:fp - 0x78 + 0x00:word16] = Mem199[ss:fp - 0x04 + 0x00:word16];
					Mem216[ss:fp - 122 + 0x00:word16] = Mem214[ss:fp - 0x06 + 0x00:word16];
					byte dl_218;
					word16 di_219;
					selector ds_220;
					fn0800_A614(fp - 0x02, ds_200, ptrArg00, wArg02, out dl_218, out di_219, out ds_220);
					return 0x00;
				}
				else
				{
					Mem235[ss:fp - 0x78 + 0x00:word16] = Mem199[ss:fp - 0x04 + 0x00:word16];
					Mem237[ss:fp - 122 + 0x00:word16] = Mem235[ss:fp - 0x06 + 0x00:word16];
					selector ds_238;
					word16 dx_239 = fn0800_3E5D(fp - 0x02, ds_200, wArg00, wArg02, out ds_238);
					if (dx_239 != Mem237[ds_238:0x2A09:word16] || ax_206 != Mem237[ds_238:0x2A07:word16])
					{
						Mem247[ss:fp - 0x78 + 0x00:word16] = Mem237[ss:fp - 0x04 + 0x00:word16];
						Mem249[ss:fp - 122 + 0x00:word16] = Mem247[ss:fp - 0x06 + 0x00:word16];
						byte dl_250;
						word16 di_251;
						selector ds_252;
						fn0800_A614(fp - 0x02, ds_238, ptrArg00, wArg02, out dl_250, out di_251, out ds_252);
						return 0x00;
					}
					else
					{
						Mem267[ss:fp - 0x78 + 0x00:word16] = ss;
						Mem270[ss:fp - 122 + 0x00:word16] = fp - 116;
						Mem272[ss:fp - 0x7C + 0x00:word16] = ss;
						Mem275[ss:fp - 0x7E + 0x00:word16] = fp - 0x0E;
						selector ds_276 = fn0800_363D(ds_238, ptrArg00, wArg04, wArg06);
						Mem280[ss:fp - 0x78 + 0x00:word16] = ds_276;
						Mem283[ss:fp - 122 + 0x00:word16] = 0x4541;
						Mem285[ss:fp - 0x7C + 0x00:word16] = ss;
						Mem288[ss:fp - 0x7E + 0x00:word16] = fp - 0x0A;
						selector ds_289 = fn0800_363D(ds_276, ptrArg00, wArg04, wArg06);
						Mem293[ss:fp - 0x78 + 0x00:word16] = ss;
						Mem296[ss:fp - 122 + 0x00:word16] = fp - 0x0A;
						Mem298[ss:fp - 0x7C + 0x00:word16] = ss;
						Mem301[ss:fp - 0x7E + 0x00:word16] = fp - 0x0E;
						word16 ax_303 = fn0800_395B(ptrArg00, ptrArg04);
						if (ax_303 >= 0x00)
						{
							Mem327[ss:fp - 118 + 0x00:word16] = Mem301[ss:fp - 0x04 + 0x00:word16];
							Mem329[ss:fp - 0x78 + 0x00:word16] = Mem327[ss:fp - 0x06 + 0x00:word16];
							selector ds_330;
							ui32 dx_ax_334 = SEQ(fn0800_3E5D(fp - 0x02, ds_289, wArg00, wArg02, out ds_330), ax_303 + 0x12);
							Mem341[ds_330:0x2A05:word16] = SLICE(dx_ax_334 + 0x12, word16, 16);
							Mem342[ds_330:0x2A03:word16] = (word16) (dx_ax_334 + 0x12);
							Mem344[ss:fp - 118 + 0x00:word16] = Mem342[ss:fp - 0x04 + 0x00:word16];
							Mem346[ss:fp - 0x78 + 0x00:word16] = Mem344[ss:fp - 0x06 + 0x00:word16];
							byte dl_347;
							word16 di_348;
							selector ds_349;
							fn0800_A614(fp - 0x02, ds_330, ptrArg00, wArg02, out dl_347, out di_348, out ds_349);
							return 0x01;
						}
						else
						{
							Mem310[ss:fp - 0x78 + 0x00:word16] = Mem301[ss:fp - 0x04 + 0x00:word16];
							Mem312[ss:fp - 122 + 0x00:word16] = Mem310[ss:fp - 0x06 + 0x00:word16];
							byte dl_313;
							word16 di_314;
							selector ds_315;
							fn0800_A614(fp - 0x02, ds_289, ptrArg00, wArg02, out dl_313, out di_314, out ds_315);
							return 0x00;
						}
					}
				}
			}
			else
			{
				Mem363[ss:fp - 0x78 + 0x00:word16] = Mem181[ss:fp - 0x04 + 0x00:word16];
				Mem365[ss:fp - 122 + 0x00:word16] = Mem363[ss:fp - 0x06 + 0x00:word16];
				byte dl_366;
				word16 di_367;
				selector ds_368;
				fn0800_A614(fp - 0x02, ds_183, ptrArg00, wArg02, out dl_366, out di_367, out ds_368);
				return 0x00;
			}
		}
		else
			return 0x00;
	}
}

selector fn0800_3B0A(word16 bp, selector ds, word16 wArg0A, word16 wArg0C)
{
	if ((wArg0A | wArg0C) != 0x00)
	{
		word16 dx_176;
		word16 ax_178;
		if (wArg0C >= 0x00 && (wArg0C > 0x00 || wArg0A >u 65000))
		{
			dx_176 = 0x00;
			ax_178 = 65000;
		}
		else
		{
			dx_176 = wArg0C;
			ax_178 = wArg0A;
		}
		selector ds_146 = fn0800_4311(ds, ax_178, dx_176);
		Mem74[ss:fp - 0x04 + 0x00:word16] = dx_176;
		Mem75[ss:fp - 0x06 + 0x00:word16] = ax_178;
		word16 sp_147 = fp - 0x0A;
		while ((Mem75[ss:fp + 0x0A:word16] | Mem75[ss:fp + 0x0C:word16]) != 0x00)
		{
			word16 ax_111;
			if (Mem75[ss:fp + 0x0C:word16] >= 0x00 && (Mem75[ss:fp + 0x0C:word16] > 0x00 || Mem75[ss:fp + 0x0A:word16] >u 65000))
				ax_111 = 65000;
			else
				ax_111 = Mem75[ss:fp + 0x0A:word16];
			Mem113[ss:fp - 0x0A + 0x00:word16] = ax_111;
			word16 sp_114 = sp_147 - 0x02;
			Mem115[ss:sp_114 + 0x00:word16] = Mem113[ss:fp + 0x04:word16];
			Mem117[ss:sp_114 - 0x02 + 0x00:word16] = Mem115[ss:fp + 0x02:word16];
			Mem119[ss:sp_114 - 0x04 + 0x00:word16] = Mem117[ss:fp - 0x08 + 0x00:word16];
			Mem121[ss:sp_114 - 0x06 + 0x00:word16] = ax_111;
			Mem123[ss:sp_114 - 0x08 + 0x00:word16] = Mem121[ss:fp - 0x04 + 0x00:word16];
			Mem125[ss:sp_114 - 0x0A + 0x00:word16] = Mem123[ss:fp - 0x06 + 0x00:word16];
			word16 di_129;
			selector ds_130;
			fn0800_4110(ds_146, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A, out di_129, out ds_130);
			Mem135[ss:sp_114 + 0x00:word16] = Mem125[ss:fp + 0x08:word16];
			Mem137[ss:sp_114 - 0x02 + 0x00:word16] = Mem135[ss:fp + 0x06:word16];
			Mem139[ss:sp_114 - 0x04 + 0x00:word16] = Mem137[ss:fp - 0x08 + 0x00:word16];
			Mem141[ss:sp_114 - 0x06 + 0x00:word16] = Mem139[ss:fp - 0x0A + 0x00:word16];
			Mem143[ss:sp_114 - 0x08 + 0x00:word16] = Mem141[ss:fp - 0x04 + 0x00:word16];
			Mem145[ss:sp_114 - 0x0A + 0x00:word16] = Mem143[ss:fp - 0x06 + 0x00:word16];
			ds_146 = fn0800_4152(ds_130, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A);
			Mem152[ss:fp + 0x0A:word16] = Mem145[ss:fp + 0x0A:word16] - Mem145[ss:(fp - 0x0A) + 0x00:word16];
			Mem156[ss:fp + 0x0C:word16] = v14;
			sp_147 = sp_114 + 0x02;
		}
		word16 sp_92 = sp_147 - 0x02;
		Mem93[ss:sp_92 + 0x00:word16] = Mem75[ss:fp - 0x04 + 0x00:word16];
		Mem95[ss:sp_92 - 0x02 + 0x00:word16] = Mem93[ss:fp - 0x06 + 0x00:word16];
		fn0800_4346(ds_146, wArg00, wArg02, out ds);
	}
	return ds;
}

selector fn0800_3BC3(word16 bp, selector ds)
{
	word16 di_19;
	word16 si_20 = fn0800_37BE(ds, 0x43AD, ds, 2644, ds, out di_19);
	word16 di_33;
	selector ds_34;
	fn0800_4234(si_20, di_19, ds, 0x43AD, ds, 0x0A61, ds, out di_33, out ds_34);
	Mem39[ds_34:10709:word16] = dx;
	Mem40[ds_34:10707:word16] = 0x43AD;
	Mem43[ss:fp - 0x08 + 0x00:word16] = Mem40[ss:fp + 0x04:word16];
	Mem45[ss:fp - 0x0A + 0x00:word16] = Mem43[ss:fp + 0x02:word16];
	word16 si_48;
	selector ds_49;
	ui32 dx_ax_55 = SEQ(dx, fn0800_4194(fp - 0x02, ds_34, wArg00, wArg02, out si_48, out ds_49) - Mem45[ss:fp + 0x06:word16]) - Mem45[ss:fp + 0x06:ui32];
	Mem58[ss:fp - 0x04 + 0x00:word16] = SLICE(dx_ax_55, word16, 16);
	Mem59[ss:fp - 0x06 + 0x00:word16] = (word16) dx_ax_55;
	Mem64[ss:fp - 0x08 + 0x00:word16] = 0x00;
	Mem66[ss:fp - 0x0A + 0x00:word16] = Mem64[ss:fp + 0x08:word16];
	Mem68[ss:fp - 0x0C + 0x00:word16] = Mem66[ss:fp + 0x06:word16];
	Mem70[ss:fp - 0x0E + 0x00:word16] = Mem68[ss:fp + 0x04:word16];
	Mem72[ss:fp - 0x10 + 0x00:word16] = Mem70[ss:fp + 0x02:word16];
	selector ds_75;
	fn0800_ACB3(fp - 0x02, ds_49, ptrArg00, wArg02, wArg08, out ds_75);
	Mem80[ss:fp - 0x08 + 0x00:word16] = Mem72[ss:fp - 0x04 + 0x00:word16];
	Mem82[ss:fp - 0x0A + 0x00:word16] = Mem80[ss:fp - 0x06 + 0x00:word16];
	Mem84[ss:fp - 0x0C + 0x00:word16] = Mem82[ds_75:10709:word16];
	Mem86[ss:fp - 0x0E + 0x00:word16] = Mem84[ds_75:10707:word16];
	Mem88[ss:fp - 0x10 + 0x00:word16] = Mem86[ss:fp + 0x04:word16];
	Mem90[ss:fp - 0x12 + 0x00:word16] = Mem88[ss:fp + 0x02:word16];
	selector ds_92 = fn0800_3B0A(fp - 0x02, ds_75, wArg08, wArg0A);
	Mem96[ss:fp - 0x08 + 0x00:word16] = Mem90[ds_92:10709:word16];
	Mem98[ss:fp - 0x0A + 0x00:word16] = Mem96[ds_92:10707:word16];
	selector ds_99 = fn0800_BA67(ds_92, wArg00, wArg02);
	Mem103[ss:fp - 0x08 + 0x00:word16] = 0x00;
	word16 ax_104 = Mem103[ss:fp + 0x08:word16];
	word16 dx_106 = Mem103[ss:fp + 0x06:word16] + Mem103[ss:fp + 0x0A:word16];
	Mem114[ss:fp - 0x0A + 0x00:word16] = ax_104 + Mem103[ss:fp + 0x0C:word16] + (SEQ(dx_106, ax_104) <u 0x00);
	Mem116[ss:fp - 0x0C + 0x00:word16] = dx_106;
	Mem118[ss:fp - 0x0E + 0x00:word16] = Mem116[ss:fp + 0x04:word16];
	Mem120[ss:fp - 0x10 + 0x00:word16] = Mem118[ss:fp + 0x02:word16];
	selector ds_121;
	fn0800_ACB3(fp - 0x02, ds_99, ptrArg00, wArg02, wArg08, out ds_121);
	Mem126[ss:fp - 0x08 + 0x00:word16] = Mem120[ss:fp - 0x04 + 0x00:word16];
	Mem128[ss:fp - 0x0A + 0x00:word16] = Mem126[ss:fp - 0x06 + 0x00:word16];
	Mem130[ss:fp - 0x0C + 0x00:word16] = Mem128[ss:fp + 0x04:word16];
	Mem132[ss:fp - 0x0E + 0x00:word16] = Mem130[ss:fp + 0x02:word16];
	Mem134[ss:fp - 0x10 + 0x00:word16] = Mem132[ds_121:10709:word16];
	Mem136[ss:fp - 0x12 + 0x00:word16] = Mem134[ds_121:10707:word16];
	selector ds_137 = fn0800_3B0A(fp - 0x02, ds_121, wArg08, wArg0A);
	Mem141[ss:fp - 0x08 + 0x00:word16] = Mem136[ds_137:10709:word16];
	Mem143[ss:fp - 0x0A + 0x00:word16] = Mem141[ds_137:10707:word16];
	byte dl_144;
	word16 di_145;
	selector ds_146;
	fn0800_A614(fp - 0x02, ds_137, ptrArg00, wArg02, out dl_144, out di_145, out ds_146);
	Mem151[ss:fp - 0x08 + 0x00:word16] = ds_146;
	Mem155[ss:fp - 0x0A + 0x00:word16] = 0x43AD;
	fn0800_8F7F(~0x52, ds_146, ptrArg00);
	return ds_146;
}

selector fn0800_3C99(word16 bp, selector ds)
{
	fn0800_3509(ds, 0x4348, ds);
	Mem29[ss:fp - 114 + 0x00:word16] = ss;
	selector es_30 = Mem29[ss:fp - 114 + 0x00:selector];
	word16 di_282 = fp - 0x6C;
	word16 si_33 = 2644;
	word16 cx_283 = ~0x00;
	if (cx_283 != 0x00)
	{
		di_282 = di_282 + 0x01;
		cx_283 = cx_283 - 0x01;
		if (0x00 != Mem29[es_30:di_282 + 0x00:byte])
			goto l0800_3CBE;
	}
	word16 di_53 = di_282 - 0x01;
	word16 cx_55 = 0x0D;
	while (cx_55 != 0x00)
	{
		Mem62[es_30:di_53 + 0x00:byte] = Mem29[ds:si_33 + 0x00:byte];
		si_33 = si_33 + 0x01;
		di_53 = di_53 + 0x01;
		cx_55 = cx_55 - 0x01;
	}
	Mem68[ss:fp - 114 + 0x00:word16] = 0x0A61;
	Mem70[ss:fp - 116 + 0x00:word16] = ss;
	Mem73[ss:fp - 118 + 0x00:word16] = fp - 0x6C;
	word16 di_78;
	selector ds_79;
	fn0800_4234(si_33, di_53, ds, wArg00, wArg02, wArg04, wArg06, out di_78, out ds_79);
	Mem82[ss:fp - 0x04 + 0x00:word16] = dx;
	Mem83[ss:fp - 0x06 + 0x00:word16] = fp - 0x6C;
	Mem88[ss:fp - 0x70 + 0x00:word16] = 0x00;
	Mem90[ss:fp - 114 + 0x00:word16] = 0x00;
	Mem92[ss:fp - 116 + 0x00:word16] = 0x00;
	Mem94[ss:fp - 118 + 0x00:word16] = Mem92[ss:fp + 0x04:word16];
	Mem96[ss:fp - 0x78 + 0x00:word16] = Mem94[ss:fp + 0x02:word16];
	selector ds_99;
	fn0800_ACB3(fp - 0x02, ds_79, ptrArg00, wArg02, wArg08, out ds_99);
	Mem104[ss:fp - 0x70 + 0x00:word16] = Mem96[ss:fp + 0x08:word16];
	Mem106[ss:fp - 114 + 0x00:word16] = Mem104[ss:fp + 0x06:word16];
	Mem108[ss:fp - 116 + 0x00:word16] = Mem106[ss:fp - 0x04 + 0x00:word16];
	Mem110[ss:fp - 118 + 0x00:word16] = Mem108[ss:fp - 0x06 + 0x00:word16];
	Mem112[ss:fp - 0x78 + 0x00:word16] = Mem110[ss:fp + 0x04:word16];
	Mem114[ss:fp - 122 + 0x00:word16] = Mem112[ss:fp + 0x02:word16];
	selector ds_116 = fn0800_3B0A(fp - 0x02, ds_99, wArg08, wArg0A);
	Mem120[ss:fp - 0x70 + 0x00:word16] = 0x00;
	ui32 ax_dx_126 = SEQ(Mem120[ss:fp + 0x08:word16], Mem120[ss:fp + 0x06:word16] + Mem120[ss:fp + 0x0A:word16]) + Mem120[ss:fp + 0x0A:ui32];
	Mem131[ss:fp - 114 + 0x00:word16] = SLICE(ax_dx_126, word16, 16);
	word16 dx_128 = (word16) ax_dx_126;
	Mem133[ss:fp - 116 + 0x00:word16] = dx_128;
	Mem135[ss:fp - 118 + 0x00:word16] = Mem133[ss:fp + 0x04:word16];
	Mem137[ss:fp - 0x78 + 0x00:word16] = Mem135[ss:fp + 0x02:word16];
	selector ds_138;
	fn0800_ACB3(fp - 0x02, ds_116, ptrArg00, wArg02, wArg08, out ds_138);
	Mem143[ss:fp - 0x70 + 0x00:word16] = Mem137[ss:fp + 0x04:word16];
	Mem145[ss:fp - 114 + 0x00:word16] = Mem143[ss:fp + 0x02:word16];
	selector ds_147;
	word16 si_146;
	word16 ax_148 = fn0800_4194(fp - 0x02, ds_138, wArg00, wArg02, out si_146, out ds_147);
	ui32 bx_cx_155 = SEQ(Mem145[ss:fp + 0x08:word16], Mem145[ss:fp + 0x06:word16] + Mem145[ss:fp + 0x0A:word16]) + Mem145[ss:fp + 0x0A:ui32];
	ui32 dx_ax_160 = SEQ(dx_128, ax_148 - (word16) bx_cx_155) - bx_cx_155;
	word16 dx_162 = SLICE(dx_ax_160, word16, 16);
	Mem165[ss:fp + 0x0C:word16] = dx_162;
	word16 ax_161 = (word16) dx_ax_160;
	Mem166[ss:fp + 0x0A:word16] = ax_161;
	Mem168[ss:fp - 0x70 + 0x00:word16] = Mem166[ss:fp + 0x0C:word16];
	Mem170[ss:fp - 114 + 0x00:word16] = ax_161;
	Mem172[ss:fp - 116 + 0x00:word16] = Mem170[ss:fp - 0x04 + 0x00:word16];
	Mem174[ss:fp - 118 + 0x00:word16] = Mem172[ss:fp - 0x06 + 0x00:word16];
	Mem176[ss:fp - 0x78 + 0x00:word16] = Mem174[ss:fp + 0x04:word16];
	Mem178[ss:fp - 122 + 0x00:word16] = Mem176[ss:fp + 0x02:word16];
	selector ds_179 = fn0800_3B0A(fp - 0x02, ds_147, wArg08, wArg0A);
	Mem183[ss:fp - 0x70 + 0x00:word16] = Mem178[ss:fp - 0x04 + 0x00:word16];
	Mem185[ss:fp - 114 + 0x00:word16] = Mem183[ss:fp - 0x06 + 0x00:word16];
	byte dl_186;
	word16 di_187;
	selector ds_188;
	fn0800_A614(fp - 0x02, ds_179, ptrArg00, wArg02, out dl_186, out di_187, out ds_188);
	Mem193[ss:fp - 0x70 + 0x00:word16] = Mem185[ds_188:10705:word16];
	Mem195[ss:fp - 114 + 0x00:word16] = Mem193[ds_188:10703:word16];
	byte dl_196;
	selector ds_198;
	word16 di_197;
	fn0800_A614(fp - 0x02, ds_188, ptrArg00, wArg02, out dl_196, out di_197, out ds_198);
	Mem204[ss:fp - 0x70 + 0x00:word16] = 0x0180;
	Mem206[ss:fp - 114 + 0x00:word16] = ds_198;
	Mem209[ss:fp - 116 + 0x00:word16] = 0x4348;
	selector ds_210 = fn0800_A4F6(fp - 0x02, ds_198, wArg00, wArg02, wArg04);
	Mem214[ss:fp - 0x70 + 0x00:word16] = ds_210;
	Mem218[ss:fp - 114 + 0x00:word16] = 0x4348;
	fn0800_8F7F(0x48, ds_210, ptrArg00);
	Mem223[ss:fp - 0x70 + 0x00:word16] = ds_210;
	Mem226[ss:fp - 114 + 0x00:word16] = 0x4348;
	Mem228[ss:fp - 116 + 0x00:word16] = ss;
	Mem232[ss:fp - 118 + 0x00:word16] = fp - 0x6C;
	word16 sp_235 = fp - 110;
	if (fn0800_BA4A((byte) (fp - 0x6C), ds_210, ptrArg00, ptrArg04) == ~0x00)
	{
		Mem267[ss:fp - 0x70 + 0x00:word16] = ss;
		Mem270[ss:fp - 114 + 0x00:word16] = fp - 0x6C;
		Mem273[ss:fp - 116 + 0x00:word16] = 0x0A;
		fn0800_0D24(fp - 0x02, ds_210, out si_146, out di_197, out ds_210);
		sp_235 = fp - 110;
	}
	word16 sp_243 = sp_235 - 0x02;
	Mem244[ss:sp_243 + 0x00:word16] = ds_210;
	Mem247[ss:sp_243 - 0x02 + 0x00:word16] = 2661;
	Mem249[ss:sp_243 - 0x04 + 0x00:word16] = ds_210;
	Mem252[ss:sp_243 - 0x06 + 0x00:word16] = 0x4348;
	word16 di_253;
	selector ds_254;
	fn0800_4234(si_146, di_197, ds_210, wArg00, wArg02, wArg04, wArg06, out di_253, out ds_254);
	Mem258[ds_254:10705:word16] = dx_162;
	Mem259[ds_254:10703:word16] = 0x4348;
	return ds_254;
}

word16 fn0800_3DCF(selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & diOut, ptr16 & dsOut)
{
	*diOut = di;
	*dsOut = ds;
	word16 ax_29;
	word16 bx_14 = (word16) ptrArg02;
	selector es_15 = SLICE(ptrArg02, selector, 16);
	word16 v10_17 = Mem0[es_15:bx_14 + 0x00:word16] - 0x01;
	Mem18[es_15:bx_14 + 0x00:word16] = v10_17;
	if (v10_17 >= 0x00)
	{
		word16 ax_78 = Mem18[es_15:bx_14 + 0x0E:word16];
		Mem81[es_15:bx_14 + 0x0C:word16] = Mem18[es_15:bx_14 + 0x0C:word16] + 0x01;
		ax_29 = DPB(ax_78, 0x00, 8);
	}
	else
		ax_29 = fn0800_AEC2(ds, DPB(ptrLoc0A, wArg02, 0), wArg04, out ds);
	if (ax_29 == ~0x00)
	{
		fn0800_4271(ds, wArg02, wArg04);
		word16 si_72;
		word16 di_73;
		selector ds_74;
		fn0800_0D24(fp - 0x02, ds, out si_72, out di_73, out ds_74);
		ax_29 = 0x08;
	}
	return DPB(ax_29, Mem18[ss:fp - 0x04 + 0x00:byte], 0);
}

word16 fn0800_3E27(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & siOut, ptr16 & diOut, ptr16 & dsOut)
{
	*siOut = si;
	word16 di_18;
	selector ds_19;
	Mem25[ss:fp - 0x04 + 0x00:word16] = DPB(fn0800_3DCF(ds, DPB(ptrLoc0A, wArg02, 0), wArg04, out di_18, out ds_19), 0x00, 8);
	Mem28[ss:fp - 0x08 + 0x00:word16] = Mem25[ss:fp + 0x04:word16];
	Mem30[ss:fp - 0x0A + 0x00:word16] = Mem28[ss:fp + 0x02:word16];
	word16 di_32;
	selector ds_33;
	Mem38[ss:fp - 0x06 + 0x00:word16] = DPB(fn0800_3DCF(ds_19, ptrArg00, wArg02, out di_32, out ds_33), 0x00, 8);
	return (Mem38[ss:fp - 0x04 + 0x00:word16] << 0x08) + Mem38[ss:(fp - 0x06) + 0x00:word16];
}

word16 fn0800_3E5D(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & dsOut)
{
	word16 si_16;
	word16 di_17;
	selector ds_18;
	word16 ax_19 = fn0800_3E27(fp - 0x02, ds, wArg02, wArg04, out si_16, out di_17, out ds_18);
	Mem22[ss:fp - 0x04 + 0x00:word16] = 0x00;
	Mem24[ss:fp - 0x06 + 0x00:word16] = ax_19;
	Mem26[ss:fp - 0x0C + 0x00:word16] = Mem24[ss:fp + 0x04:word16];
	Mem28[ss:fp - 0x0E + 0x00:word16] = Mem26[ss:fp + 0x02:word16];
	word16 si_30;
	word16 di_31;
	selector ds_32;
	word16 ax_33 = fn0800_3E27(fp - 0x02, ds_18, wArg00, wArg02, out si_30, out di_31, out ds_32);
	Mem35[ss:fp - 0x08 + 0x00:word16] = 0x00;
	Mem36[ss:fp - 0x0A + 0x00:word16] = ax_33;
	return Mem36[ss:fp - 0x06 + 0x00:word16] + (Mem36[ss:(fp - 0x0A) + 0x00:word16] <u 0x00);
}

word16 fn0800_3E9A(word16 bp, selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dsOut)
{
	word16 ax_103;
	word16 bx_14 = (word16) ptrArg02;
	selector es_15 = SLICE(ptrArg02, selector, 16);
	word16 v10_17 = Mem0[es_15:bx_14 + 0x00:word16] - 0x01;
	Mem18[es_15:bx_14 + 0x00:word16] = v10_17;
	word16 sp_117 = fp - 0x06;
	if (v10_17 >= 0x00)
	{
		word16 ax_95 = Mem18[es_15:bx_14 + 0x0E:word16];
		Mem98[es_15:bx_14 + 0x0C:word16] = Mem18[es_15:bx_14 + 0x0C:word16] + 0x01;
		ax_103 = DPB(ax_95, 0x00, 8);
	}
	else
	{
		ax_103 = fn0800_AEC2(ds, DPB(ptrLoc0A, wArg02, 0), wArg04, out ds);
		sp_117 = fp - 0x06;
	}
	if (ax_103 == ~0x00)
	{
		fn0800_4271(ds, wArg02, wArg04);
		word16 si_89;
		word16 di_90;
		fn0800_0D24(fp - 0x02, ds, out si_89, out di_90, out ds);
		sp_117 = fp - 0x06;
	}
	word16 sp_46 = sp_117 - 0x02;
	Mem47[ss:sp_46 + 0x00:word16] = 0x01;
	Mem52[ss:sp_46 - 0x02 + 0x00:word16] = ~0x00;
	Mem54[ss:sp_46 - 0x04 + 0x00:word16] = ~0x00;
	Mem56[ss:sp_46 - 0x06 + 0x00:word16] = Mem54[ss:fp + 0x04:word16];
	Mem58[ss:sp_46 - 0x08 + 0x00:word16] = Mem56[ss:fp + 0x02:word16];
	selector ds_62;
	return DPB(fn0800_ACB3(fp - 0x02, ds, ptrArg00, wArg02, wArg08, out ds_62), Mem58[ss:fp - 0x04 + 0x00:byte], 0);
}

word16 fn0800_3F0A(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & dsOut)
{
	word16 di_18;
	selector ds_19;
	Mem25[ss:fp - 0x04 + 0x00:word16] = DPB(fn0800_3DCF(ds, DPB(ptrLoc0A, wArg02, 0), wArg04, out di_18, out ds_19), 0x00, 8);
	Mem28[ss:fp - 0x08 + 0x00:word16] = Mem25[ss:fp + 0x04:word16];
	Mem30[ss:fp - 0x0A + 0x00:word16] = Mem28[ss:fp + 0x02:word16];
	word16 di_32;
	selector ds_33;
	Mem39[ss:fp - 0x06 + 0x00:word16] = DPB(fn0800_3DCF(ds_19, ptrArg00, wArg02, out di_32, out ds_33), 0x00, 8);
	Mem42[ss:fp - 0x08 + 0x00:word16] = 0x01;
	Mem46[ss:fp - 0x0A + 0x00:word16] = ~0x00;
	Mem48[ss:fp - 0x0C + 0x00:word16] = ~0x01;
	Mem50[ss:fp - 0x0E + 0x00:word16] = Mem48[ss:fp + 0x04:word16];
	Mem52[ss:fp - 0x10 + 0x00:word16] = Mem50[ss:fp + 0x02:word16];
	selector ds_54;
	fn0800_ACB3(fp - 0x02, ds_33, ptrArg00, wArg02, wArg08, out ds_54);
	return (Mem52[ss:fp - 0x04 + 0x00:word16] << 0x08) + Mem52[ss:(fp - 0x06) + 0x00:word16];
}

word16 fn0800_3F58(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & diOut, ptr16 & dsOut)
{
	word16 si_16;
	word16 di_17;
	selector ds_18;
	word16 ax_19 = fn0800_3E27(fp - 0x02, ds, wArg02, wArg04, out si_16, out di_17, out ds_18);
	Mem22[ss:fp - 0x04 + 0x00:word16] = 0x00;
	Mem24[ss:fp - 0x06 + 0x00:word16] = ax_19;
	Mem26[ss:fp - 0x0C + 0x00:word16] = Mem24[ss:fp + 0x04:word16];
	Mem28[ss:fp - 0x0E + 0x00:word16] = Mem26[ss:fp + 0x02:word16];
	word16 si_30;
	word16 di_31;
	selector ds_32;
	word16 ax_33 = fn0800_3E27(fp - 0x02, ds_18, wArg00, wArg02, out si_30, out di_31, out ds_32);
	Mem36[ss:fp - 0x08 + 0x00:word16] = 0x00;
	Mem37[ss:fp - 0x0A + 0x00:word16] = ax_33;
	Mem40[ss:fp - 0x0C + 0x00:word16] = 0x01;
	Mem44[ss:fp - 0x0E + 0x00:word16] = ~0x00;
	Mem46[ss:fp - 0x10 + 0x00:word16] = ~0x03;
	Mem48[ss:fp - 0x12 + 0x00:word16] = Mem46[ss:fp + 0x04:word16];
	Mem50[ss:fp - 0x14 + 0x00:word16] = Mem48[ss:fp + 0x02:word16];
	selector ds_53;
	fn0800_ACB3(fp - 0x02, ds_32, ptrArg00, wArg02, wArg08, out ds_53);
	return Mem50[ss:fp - 0x06 + 0x00:word16] + Mem50[ss:(fp - 0x08) + 0x00:word16] + (Mem50[ss:(fp - 0x0A) + 0x00:word16] <u 0x00);
}

word16 fn0800_3FAD(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & diOut, ptr16 & dsOut)
{
	word16 di_18;
	selector ds_19;
	Mem25[ss:fp - 0x04 + 0x00:word16] = DPB(fn0800_3DCF(ds, DPB(ptrLoc0A, wArg02, 0), wArg04, out di_18, out ds_19), 0x00, 8);
	Mem28[ss:fp - 0x08 + 0x00:word16] = Mem25[ss:fp + 0x04:word16];
	Mem30[ss:fp - 0x0A + 0x00:word16] = Mem28[ss:fp + 0x02:word16];
	word16 di_32;
	selector ds_33;
	word16 ax_37 = DPB(fn0800_3DCF(ds_19, ptrArg00, wArg02, out di_32, out ds_33), 0x00, 8);
	Mem38[ss:fp - 0x06 + 0x00:word16] = ax_37;
	return (ax_37 << 0x08) + Mem38[ss:(fp - 0x04) + 0x00:word16];
}

selector fn0800_401E(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06)
{
	selector ds_24;
	fn0800_4047(ds, (byte) (wArg02 >>u 0x08), DPB(ptrLoc06, wArg04, 0), wArg06, out ds_24);
	Mem31[ss:fp - 0x04 + 0x00:word16] = Mem0[ss:fp + 0x06:word16];
	Mem33[ss:fp - 0x06 + 0x00:word16] = Mem31[ss:fp + 0x04:word16];
	Mem37[ss:fp - 0x08 + 0x00:word16] = DPB(wArg02 >>u 0x08, Mem33[ss:fp + 0x02:byte], 0);
	selector ds_40;
	fn0800_4047(ds_24, bArg00, ptrArg02, wArg04, out ds_40);
	return ds_40;
}

word16 fn0800_4047(selector ds, byte bArg02, segptr32 ptrArg04, word16 wArg06, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_103;
	word16 bx_16 = (word16) ptrArg04;
	selector es_17 = SLICE(ptrArg04, selector, 16);
	word16 v10_19 = Mem0[es_17:bx_16 + 0x00:word16] + 0x01;
	Mem20[es_17:bx_16 + 0x00:word16] = v10_19;
	if (v10_19 < 0x00)
	{
		word16 ax_77 = Mem20[es_17:bx_16 + 0x0E:word16];
		word16 si_78 = Mem20[es_17:bx_16 + 0x0C:word16];
		Mem80[es_17:bx_16 + 0x0C:word16] = Mem20[es_17:bx_16 + 0x0C:word16] + 0x01;
		Mem84[ax_77:si_78 + 0x00:byte] = bArg02;
		ax_103 = DPB(ax_77, 0x00, 8);
	}
	else
		ax_103 = fn0800_B30A(ds, bArg02, DPB(ptrLoc08, wArg04, 0), wArg06, out ds);
	if (ax_103 == ~0x00)
	{
		fn0800_4271(ds, wArg04, wArg06);
		word16 si_71;
		selector ds_73;
		fn0800_0D24(fp - 0x02, ds, out si_71, out di, out ds_73);
	}
	return di;
}

selector fn0800_409C(word16 bp, selector ds, word16 wArg04, word16 wArg06, word16 wArg08)
{
	selector ds_17 = fn0800_401E(fp - 0x02, ds, wArg04, wArg06, wArg08);
	Mem23[ss:fp - 0x04 + 0x00:word16] = Mem0[ss:fp + 0x08:word16];
	Mem25[ss:fp - 0x06 + 0x00:word16] = Mem23[ss:fp + 0x06:word16];
	Mem27[ss:fp - 0x08 + 0x00:word16] = Mem25[ss:fp + 0x02:word16];
	return fn0800_401E(fp - 0x02, ds_17, wArg00, wArg02, wArg04);
}

word16 fn0800_40BF(word16 bp, selector ds, byte bArg02, word16 wArg04, word16 wArg06, ptr16 & dsOut)
{
	selector ds_26;
	fn0800_4047(ds, bArg02 & ~0x00, DPB(ptrLoc06, wArg04, 0), wArg06, out ds_26);
	Mem32[ss:fp - 0x04 + 0x00:word16] = Mem0[ss:fp + 0x06:word16];
	Mem34[ss:fp - 0x06 + 0x00:word16] = Mem32[ss:fp + 0x04:word16];
	word16 ax_35 = Mem34[ss:fp + 0x02:word16];
	Mem44[ss:fp - 0x08 + 0x00:word16] = DPB(ax_35 >>u 0x08, (byte) (ax_35 >>u 0x08) & ~0x00, 0);
	selector ds_47;
	return fn0800_4047(ds_26, bArg00, ptrArg02, wArg04, out ds_47);
}

word16 fn0800_4110(selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, word16 wArg0C, ptr16 & diOut, ptr16 & dsOut)
{
	*diOut = di;
	selector ds_26;
	word16 ax_27 = fn0800_ABA3(fp - 0x02, ds, wArg02, wArg04, 0x01, wArg06, wArg0A, wArg0C, out ds_26);
	if (0x00 != wArg08 || ax_27 != wArg06)
	{
		fn0800_4271(ds_26, wArg0A, wArg0C);
		word16 di_65;
		selector ds_66;
		fn0800_0D24(fp - 0x02, ds_26, out si, out di_65, out ds_66);
	}
	return si;
}

selector fn0800_4152(selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, word16 wArg0C)
{
	selector ds_26;
	word16 ax_27 = fn0800_AD85(fp - 0x02, ds, wArg02, wArg04, 0x01, wArg06, wArg0A, wArg0C, out ds_26);
	if (0x00 != wArg08 || ax_27 != wArg06)
	{
		fn0800_4271(ds_26, wArg0A, wArg0C);
		word16 si_62;
		word16 di_63;
		fn0800_0D24(fp - 0x02, ds_26, out si_62, out di_63, out ds_26);
	}
	return ds_26;
}

word16 fn0800_4194(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & siOut, ptr16 & dsOut)
{
	word16 si_18;
	word16 ax_19 = fn0800_AD2F(ds, DPB(ptrLoc0E, wArg02, 0), wArg04, out si_18);
	Mem22[ss:fp - 0x04 + 0x00:word16] = dx;
	Mem24[ss:fp - 0x06 + 0x00:word16] = ax_19;
	Mem27[ss:fp - 0x0C + 0x00:word16] = 0x02;
	Mem32[ss:fp - 0x0E + 0x00:word16] = 0x00;
	Mem34[ss:fp - 0x10 + 0x00:word16] = 0x00;
	Mem36[ss:fp - 0x12 + 0x00:word16] = Mem34[ss:fp + 0x04:word16];
	Mem38[ss:fp - 0x14 + 0x00:word16] = Mem36[ss:fp + 0x02:word16];
	selector ds_41;
	fn0800_ACB3(fp - 0x02, ds, ptrArg00, wArg02, wArg08, out ds_41);
	Mem46[ss:fp - 0x0C + 0x00:word16] = Mem38[ss:fp + 0x04:word16];
	Mem48[ss:fp - 0x0E + 0x00:word16] = Mem46[ss:fp + 0x02:word16];
	word16 si_49;
	word16 ax_50 = fn0800_AD2F(ds_41, ptrArg00, wArg02, out si_49);
	Mem52[ss:fp - 0x08 + 0x00:word16] = dx;
	Mem53[ss:fp - 0x0A + 0x00:word16] = ax_50;
	Mem58[ss:fp - 0x0C + 0x00:word16] = 0x00;
	Mem60[ss:fp - 0x0E + 0x00:word16] = Mem58[ss:fp - 0x04 + 0x00:word16];
	Mem62[ss:fp - 0x10 + 0x00:word16] = Mem60[ss:fp - 0x06 + 0x00:word16];
	Mem64[ss:fp - 0x12 + 0x00:word16] = Mem62[ss:fp + 0x04:word16];
	Mem66[ss:fp - 0x14 + 0x00:word16] = Mem64[ss:fp + 0x02:word16];
	selector ds_67;
	fn0800_ACB3(fp - 0x02, ds_41, ptrArg00, wArg02, wArg08, out ds_67);
	return Mem66[ss:fp - 0x0A + 0x00:word16];
}

word16 fn0800_4234(word16 si, word16 di, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, ptr16 & diOut, ptr16 & dsOut)
{
	word16 dx_24;
	word16 di_26;
	selector ds_27;
	word16 si_25;
	word16 ax_28 = fn0800_AA7E(si, di, ds, wArg02, wArg04, wArg06, wArg08, out dx_24, out si_25, out di_26, out ds_27);
	Mem30[ss:fp - 0x04 + 0x00:word16] = dx_24;
	Mem32[ss:fp - 0x06 + 0x00:word16] = ax_28;
	if ((ax_28 | Mem32[ss:(fp - 0x04) + 0x00:word16]) == 0x00)
	{
		Mem51[ss:fp - 0x08 + 0x00:word16] = Mem32[ss:fp + 0x04:word16];
		Mem53[ss:fp - 0x0A + 0x00:word16] = Mem51[ss:fp + 0x02:word16];
		Mem56[ss:fp - 0x0C + 0x00:word16] = 0x07;
		word16 di_58;
		selector ds_59;
		fn0800_0D24(fp - 0x02, ds_27, out si_25, out di_58, out ds_59);
	}
	return si_25;
}

void fn0800_4271(selector ds, word16 wArg02, word16 wArg04)
{
	if (wArg04 != Mem0[ds:0x29E5:word16] || wArg02 != Mem0[ds:0x29E3:word16])
		if (wArg04 != Mem0[ds:10721:word16] || wArg02 != Mem0[ds:10719:word16])
			if (wArg04 != Mem0[ds:10705:word16] || wArg02 != Mem0[ds:10703:word16])
				if (wArg04 != Mem0[ds:10717:word16] || wArg02 != Mem0[ds:10715:word16])
					if (wArg04 != Mem0[ds:0x29D9:word16] || wArg02 != Mem0[ds:10711:word16])
						if (wArg04 != Mem0[ds:10709:word16] || wArg02 != Mem0[ds:10707:word16])
							return;
						else
							return;
					else
						return;
				else
					return;
			else
				return;
		else
			return;
	else
		return;
}

selector fn0800_4311(selector ds, word16 wArg02, word16 wArg04)
{
	word16 dx_16;
	word16 bp_17;
	selector ds_18;
	word16 ax_19 = fn0800_9F89(fp - 0x02, ds, wArg02, wArg04, out dx_16, out bp_17, out ds_18);
	Mem21[ss:bp_17 - 0x02 + 0x00:word16] = dx_16;
	Mem23[ss:bp_17 - 0x04 + 0x00:word16] = ax_19;
	if ((ax_19 | dx_16) == 0x00)
	{
		Mem42[ss:fp - 0x08 + 0x00:word16] = ds_18;
		Mem45[ss:fp - 0x0A + 0x00:word16] = 2668;
		Mem48[ss:fp - 0x0C + 0x00:word16] = 0x06;
		word16 si_49;
		word16 di_50;
		fn0800_0D24(bp_17, ds_18, out si_49, out di_50, out ds_18);
	}
	return ds_18;
}

byte fn0800_4346(selector ds, word16 wArg02, word16 wArg04, ptr16 & dsOut)
{
	selector ds_14;
	return fn0800_9E75(ds, wArg04, out ds_14);
}

word16 fn0800_4357(word16 wArg00, segptr32 ptrArg02, segptr32 ptrArg06)
{
	if (Mem0[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x00:byte] == 0x00)
	{
		word16 ax_46;
		if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte] == 0x00)
			ax_46 = 0x01;
		else
			ax_46 = 0x00;
		return ax_46;
	}
	byte al_60 = Mem0[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x00:byte];
	word16 ax_62 = (int16) al_60;
	if (ax_62 != 0x2A)
	{
		if (ax_62 != 0x2E)
			if (ax_62 == 0x3F)
			{
				word16 bx_103 = (word16) ptrArg02;
				selector es_104 = SLICE(ptrArg02, selector, 16);
				goto l0800_43B6;
			}
		else if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte] == 0x00)
			goto l0800_43B6;
		if (al_60 != Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte])
		{
			return 0x00;
			return 0x00;
		}
	}
	else
		do
		{
			word16 bx_120 = (word16) ptrArg02;
			selector es_121 = SLICE(ptrArg02, selector, 16);
			if (Mem0[es_121:bx_120 + 0x00:byte] == 0x2E)
				goto l0800_43B6;
		} while (Mem0[es_121:bx_120 + 0x00:byte] != 0x00);
l0800_43B6:
	goto l0800_43B9;
}

void fn0800_43D4(word16 wArg02, selector psegArg04, word16 wArg06)
{
	word16 cx_11 = wArg06;
	word16 si_18 = wArg02 + (word16) (wArg06 *s 0x0C);
	while (true)
	{
		si_18 = si_18 - 0x0C;
		cx_11 = cx_11 - 0x01;
		if (cx_11 == 0x00)
			break;
		Mem37[psegArg04:si_18 + 0x02:word16] = 0x00;
		Mem38[psegArg04:si_18 + 0x00:word16] = 0x00;
		Mem39[psegArg04:si_18 + 0x04:word16] = ~0x00;
		Mem40[psegArg04:si_18 + 0x08:word16] = 0x00;
		Mem41[psegArg04:si_18 + 0x06:word16] = 0x00;
		Mem42[psegArg04:si_18 + 0x0A:word16] = 0x00;
	}
	return;
}

void fn0800_441C(word16 bp, selector ds, segptr32 ptrArg02, selector psegArg04, word16 wArg06)
{
	word16 bp_113 = fp - 0x02;
	word16 sp_11 = fp - 0x08;
	word16 di_14 = 0x00;
	word16 cx_15 = 0x00;
	word16 si_21 = wArg02;
	if (0x00 <u wArg06)
		do
		{
			if ((Mem0[psegArg04:si_21 + 0x00:word16] | Mem0[psegArg04:si_21 + 0x02:word16]) != 0x00)
			{
				di_14 = di_14 + 0x01;
				wLoc04 = cx_15;
			}
			si_21 = si_21 + 0x0C;
			cx_15 = cx_15 + 0x01;
		} while (cx_15 <u wArg06);
	if (di_14 != 0x00)
	{
		if (di_14 == 0x01)
		{
			selector es_236 = SLICE(ptrArg02, selector, 16);
			word16 bx_238 = (word16) ptrArg02 + (word16) (wLoc04 *s 0x0C);
			Mem241[es_236:bx_238 + 0x0A:word16] = Mem0[es_236:bx_238 + 0x0A:word16] + 0x01;
			return;
		}
		while (true)
		{
			word16 sp_91 = sp_11 - 0x02;
			Mem92[ss:sp_91 + 0x00:word16] = Mem0[ss:bp_113 + 0x08:word16];
			Mem94[ss:sp_91 - 0x02 + 0x00:word16] = Mem92[ss:bp_113 + 0x06:word16];
			Mem96[ss:sp_91 - 0x04 + 0x00:word16] = Mem94[ss:bp_113 + 0x04:word16];
			word16 bp_100;
			Mem108[ss:sp_91 + 0x00:word16] = Mem96[ss:bp_100 + 0x08:word16];
			Mem110[ss:sp_91 - 0x02 + 0x00:word16] = Mem108[ss:bp_100 + 0x06:word16];
			Mem112[ss:sp_91 - 0x04 + 0x00:word16] = Mem110[ss:bp_100 + 0x04:word16];
			if (fn0800_463B(bp_100, ds, bp, wArg00, wArg02, psegArg04, out bp_113) == 0x00)
				break;
			ptr32 es_bx_125 = Mem112[ss:bp_113 + 0x04:segptr32];
			word16 ax_123 = (word16) (Mem112[ds:18008:word16] *s 0x0C);
			selector es_126 = SLICE(es_bx_125, selector, 16);
			word16 bx_128 = (word16) es_bx_125 + ax_123;
			word16 dx_130 = Mem112[es_126:bx_128 + 0x00:word16];
			Mem132[ss:sp_91 + 0x00:word16] = Mem112[es_126:bx_128 + 0x02:word16];
			word16 ax_133 = Mem132[ds:18010:word16];
			Mem136[ss:sp_91 - 0x02 + 0x00:word16] = dx_130;
			word16 ax_138 = (word16) (ax_133 *s 0x0C);
			word16 bx_141 = Mem136[ss:bp_113 + 0x04:word16] + ax_138;
			word16 v20_144 = Mem136[es_126:bx_141 + 0x00:word16] + Mem136[ss:(sp_91 - 0x02) + 0x00:word16];
			Mem145[es_126:bx_141 + 0x00:word16] = v20_144;
			Mem152[es_126:bx_141 + 0x02:word16] = Mem145[es_126:bx_141 + 0x02:word16] + Mem145[ss:sp_91 + 0x00:word16] + (v20_144 <u 0x00);
			word16 bx_154 = Mem152[ss:bp_113 + 0x04:word16] + ax_123;
			Mem155[es_126:bx_154 + 0x02:word16] = 0x00;
			Mem156[es_126:bx_154 + 0x00:word16] = 0x00;
			word16 bx_158 = Mem156[ss:bp_113 + 0x04:word16] + ax_138;
			Mem161[es_126:bx_158 + 0x0A:word16] = Mem156[es_126:bx_158 + 0x0A:word16] + 0x01;
			word16 cx_124 = ax_123;
			word16 dx_139 = ax_138;
			sp_11 = sp_91 + 0x02;
			while (true)
			{
				ptr32 es_bx_167 = Mem161[ss:bp_113 + 0x04:segptr32];
				selector es_168 = SLICE(es_bx_167, selector, 16);
				word16 bx_170 = (word16) es_bx_167 + dx_139;
				if (Mem161[es_168:bx_170 + 0x04:word16] == ~0x00)
					break;
				selector es_208 = Mem161[ss:bp_113 + 0x06:selector];
				word16 ax_209 = Mem161[es_208:bx_170 + 0x04:word16];
				Mem210[ds:18010:word16] = ax_209;
				word16 ax_213 = (word16) (ax_209 *s 0x0C);
				word16 bx_217 = Mem210[ss:bp_113 + 0x04:word16] + ax_213;
				Mem220[es_208:bx_217 + 0x0A:word16] = Mem210[es_208:bx_217 + 0x0A:word16] + 0x01;
				dx_139 = ax_213;
			}
			Mem176[es_168:bx_170 + 0x04:word16] = Mem161[ds:18008:word16];
			word16 bx_178 = Mem176[ss:bp_113 + 0x04:word16] + ax_123;
			Mem181[es_168:bx_178 + 0x0A:word16] = Mem176[es_168:bx_178 + 0x0A:word16] + 0x01;
			while (true)
			{
				ptr32 es_bx_188 = Mem181[ss:bp_113 + 0x04:segptr32];
				word16 bx_191 = (word16) es_bx_188 + cx_124;
				if (Mem181[SLICE(es_bx_188, selector, 16):bx_191 + 0x04:word16] == ~0x00)
					break;
				selector es_195 = Mem181[ss:bp_113 + 0x06:selector];
				word16 ax_196 = Mem181[es_195:bx_191 + 0x04:word16];
				Mem197[ds:18008:word16] = ax_196;
				word16 ax_200 = (word16) (ax_196 *s 0x0C);
				word16 bx_203 = Mem197[ss:bp_113 + 0x04:word16] + ax_200;
				Mem206[es_195:bx_203 + 0x0A:word16] = Mem197[es_195:bx_203 + 0x0A:word16] + 0x01;
				cx_124 = ax_200;
			}
		}
		Mem223[ss:sp_91 + 0x00:word16] = Mem112[ss:bp_113 + 0x08:word16];
		Mem225[ss:sp_91 - 0x02 + 0x00:word16] = Mem223[ss:bp_113 + 0x06:word16];
		Mem227[ss:sp_91 - 0x04 + 0x00:word16] = Mem225[ss:bp_113 + 0x04:word16];
		fn0800_4550(bp_113);
	}
	return;
}

void fn0800_4550(word16 bp)
{
	word16 bp_109 = fp - 0x02;
	word16 sp_12 = fp - 0x10;
	while (Mem0[ss:bp_109 - 0x0A + 0x00:word16] <=u 0x10)
	{
		word16 di_111 = 0x00;
		word16 si_110 = Mem0[ss:bp_109 + 0x04:word16];
		if (0x00 <u Mem0[ss:bp_109 + 0x08:word16])
			do
			{
				if (Mem0[Mem0[ss:bp_109 + 0x06:selector]:si_110 + 0x0A:word16] == Mem0[ss:(bp_109 - 0x0A) + 0x00:word16])
				{
					word16 sp_98 = sp_12 - 0x02;
					Mem99[ss:sp_98 + 0x00:word16] = Mem0[ss:bp_109 - 0x0A + 0x00:word16];
					Mem101[ss:sp_98 - 0x02 + 0x00:word16] = Mem99[ss:bp_109 - 0x06 + 0x00:word16];
					Mem103[ss:sp_98 - 0x04 + 0x00:word16] = Mem101[ss:bp_109 - 0x08 + 0x00:word16];
					Mem105[ss:sp_98 - 0x06 + 0x00:word16] = Mem103[ss:bp_109 - 0x02 + 0x00:word16];
					Mem107[ss:sp_98 - 0x08 + 0x00:word16] = Mem105[ss:bp_109 - 0x04 + 0x00:word16];
					word16 dx_108;
					word16 ax_112 = fn0800_8BC2(bp_109, si_110, di_111, bp, out dx_108, out bp_109, out si_110, out di_111);
					Mem115[ss:sp_98 - 0x02 + 0x00:word16] = dx_108;
					Mem117[ss:sp_98 - 0x04 + 0x00:word16] = ax_112;
					word16 dx_121;
					word16 ax_122 = fn0800_45E2(wArg00, wArg02, wArg04, out dx_121);
					selector es_124 = Mem117[ss:bp_109 + 0x06:selector];
					Mem125[es_124:si_110 + 0x08:word16] = dx_121;
					Mem126[es_124:si_110 + 0x06:word16] = ax_122;
					word16 ax_127 = Mem126[ss:bp_109 - 0x06 + 0x00:word16];
					word16 v15_129 = Mem126[ss:bp_109 - 0x04 + 0x00:word16] + Mem126[ss:(bp_109 - 0x08) + 0x00:word16];
					Mem130[ss:bp_109 - 0x04 + 0x00:word16] = v15_129;
					Mem134[ss:bp_109 - 0x02 + 0x00:word16] = Mem130[ss:bp_109 - 0x02 + 0x00:word16] + ax_127 + (v15_129 <u 0x00);
					sp_12 = sp_98 + 0x02;
				}
				si_110 = si_110 + 0x0C;
				di_111 = di_111 + 0x01;
			} while (di_111 <u Mem0[ss:bp_109 + 0x08:word16]);
		Mem55[ss:bp_109 - 0x0A + 0x00:word16] = Mem0[ss:bp_109 - 0x0A + 0x00:word16] + 0x01;
		word16 ax_56 = Mem55[ss:bp_109 - 0x06 + 0x00:word16];
		word16 dx_62 = __rcr(Mem55[ss:bp_109 - 0x08 + 0x00:word16], 0x01, cond(ax_56 >>u 0x01));
		Mem63[ss:bp_109 - 0x06 + 0x00:word16] = ax_56 >>u 0x01;
		Mem64[ss:bp_109 - 0x08 + 0x00:word16] = dx_62;
		Mem66[ss:bp_109 - 0x0A + 0x00:word16] = Mem64[ss:bp_109 - 0x0A + 0x00:word16] + 0x01;
		word16 ax_67 = Mem66[ss:bp_109 - 0x06 + 0x00:word16];
		word16 dx_73 = __rcr(Mem66[ss:bp_109 - 0x08 + 0x00:word16], 0x01, cond(ax_67 >>u 0x01));
		Mem75[ss:bp_109 - 0x06 + 0x00:word16] = ax_67 >>u 0x01;
		Mem76[ss:bp_109 - 0x08 + 0x00:word16] = dx_73;
	}
	return;
}

word16 fn0800_45E2(word16 wArg02, word16 wArg04, word16 wArg06, ptr16 & dxOut)
{
	word16 bx_10 = wArg06;
	word16 wLoc04_11 = 0x00;
	word16 wLoc06_12 = 0x00;
	while (true)
	{
		bx_10 = bx_10 - 0x01;
		if (bx_10 == 0x00)
			break;
		word16 dx_37 = wLoc06_12 << 0x01;
		word16 ax_41 = __rcl(wLoc04_11, 0x01, cond(dx_37));
		wLoc04_11 = ax_41;
		wLoc06_12 = dx_37;
		if ((wArg02 & 0x01) != 0x00)
		{
			wLoc06_12 = dx_37 | 0x01;
			wLoc04_11 = ax_41;
		}
		word16 ax_55 = wArg04 >>u 0x01;
		wArg04 = ax_55;
		wArg02 = __rcr(wArg02, 0x01, cond(ax_55));
	}
	*dxOut = wLoc04_11;
	return wLoc06_12;
}

word16 fn0800_463B(word16 bp, selector ds, word16 wArg00, word16 wArg02, selector psegArg04, word16 wArg06, ptr16 & bpOut)
{
	*bpOut = bp;
	word16 wLoc0C_103 = ~0x00;
	word16 wLoc0E_104 = ~0x00;
	word16 wLoc08_105 = ~0x00;
	word16 wLoc0A_106 = ~0x00;
	word16 cx_107 = 0x00;
	word16 si_109 = wArg02 + 0x02;
	if (0x00 <u wArg06)
		do
		{
			word16 ax_112 = Mem0[psegArg04:si_109 + 0x00:word16];
			word16 dx_113 = Mem0[psegArg04:si_109 + 0x00:word16];
			if ((dx_113 | ax_112) != 0x00)
				if (ax_112 <=u wLoc08_105 && (ax_112 <u wLoc08_105 || dx_113 <u wLoc0A_106))
				{
					Mem164[ds:18008:word16] = Mem0[ds:18010:word16];
					Mem169[ds:18010:word16] = cx_107;
					wLoc0C_103 = wLoc08_105;
					wLoc0E_104 = wLoc0A_106;
					wLoc08_105 = ax_112;
					wLoc0A_106 = dx_113;
				}
				else if (ax_112 <=u wLoc0C_103 && (ax_112 <u wLoc0C_103 || dx_113 <u wLoc0E_104))
				{
					Mem153[ds:18008:word16] = cx_107;
					wLoc0C_103 = ax_112;
					wLoc0E_104 = dx_113;
				}
			si_109 = si_109 + 0x0C;
			cx_107 = cx_107 + 0x01;
		} while (cx_107 <u wArg06);
	if (wLoc08_105 == ~0x00)
		if (wLoc0A_106 == ~0x00)
			return 0x00;
	if (wLoc0C_103 == ~0x00)
		if (wLoc0E_104 == ~0x00)
		{
			return 0x00;
			*bpOut = Mem0[ss:bp + 0x00:word16];
			return 0x00;
		}
	*bpOut = bp;
	return 0x01;
}

selector fn0800_46FE(word16 bp, selector ds)
{
	if (Mem0[ds:0x2A05:word16] >u 0x00 || Mem0[ds:0x2A05:word16] >=u 0x00 && Mem0[ds:0x2A03:word16] >=u 0x2A)
	{
		selector ds_61;
		fn0800_ACB3(fp - 0x02, ds, DPB(ptrLoc30, Mem0[ds:0x29E3:word16], 0), Mem0[ds:0x29E5:word16], 0x00, out ds_61);
		Mem66[ss:fp - 0x28 + 0x00:word16] = Mem0[ds_61:0x29E5:word16];
		Mem69[ss:fp - 0x2A + 0x00:word16] = Mem66[ds_61:0x29E3:word16];
		word16 di_72;
		selector ds_73;
		word16 ax_74 = fn0800_3FAD(fp - 0x02, ds_61, wArg00, wArg02, out di_72, out ds_73);
		if (0x00 <u Mem69[ds_73:0x2A05:word16] || 0x00 <=u Mem69[ds_73:0x2A05:word16] && ax_74 + 0x24 <=u Mem69[ds_73:0x2A03:word16])
		{
			Mem91[ss:fp - 0x28 + 0x00:word16] = 0x00;
			Mem98[ss:fp - 0x2A + 0x00:word16] = 0x00;
			Mem100[ss:fp - 44 + 0x00:word16] = ax_74 + 0x20;
			Mem102[ss:fp - 0x2E + 0x00:word16] = Mem100[ds_73:0x29E5:word16];
			Mem104[ss:fp - 0x30 + 0x00:word16] = Mem102[ds_73:0x29E3:word16];
			selector ds_107;
			word16 ax_108 = fn0800_ACB3(fp - 0x02, ds_73, ptrArg00, wArg02, wArg08, out ds_107);
			Mem112[ss:fp - 0x28 + 0x00:word16] = Mem104[ds_107:0x29E5:word16];
			Mem114[ss:fp - 0x2A + 0x00:word16] = Mem112[ds_107:0x29E3:word16];
			word16 di_115;
			selector ds_116;
			word16 dx_121;
			word16 ax_122 = fn0800_8CAA(ax_108, 0x08, fn0800_3F58(fp - 0x02, ds_107, wArg00, wArg02, out di_115, out ds_116), bp, out dx_121);
			if (dx_121 != 0x52 || ax_122 != 0x4E43)
				return ds_116;
			else
			{
				Mem140[ss:fp - 0x28 + 0x00:word16] = Mem114[ds_116:0x29E5:word16];
				Mem142[ss:fp - 0x2A + 0x00:word16] = Mem140[ds_116:0x29E3:word16];
				word16 si_143;
				word16 ax_144 = fn0800_AD2F(ds_116, ptrArg00, wArg02, out si_143);
				Mem146[ss:fp - 0x08 + 0x00:word16] = dx_121;
				Mem147[ss:fp - 0x0A + 0x00:word16] = ax_144;
				Mem152[ss:fp - 0x28 + 0x00:word16] = 0x00;
				Mem155[ss:fp - 0x2A + 0x00:word16] = 0x00;
				Mem157[ss:fp - 44 + 0x00:word16] = 0x02;
				Mem159[ss:fp - 0x2E + 0x00:word16] = Mem157[ds_116:0x29E5:word16];
				Mem161[ss:fp - 0x30 + 0x00:word16] = Mem159[ds_116:0x29E3:word16];
				selector ds_162;
				fn0800_ACB3(fp - 0x02, ds_116, ptrArg00, wArg02, wArg08, out ds_162);
				Mem167[ss:fp - 0x28 + 0x00:word16] = Mem161[ds_162:0x29E5:word16];
				Mem169[ss:fp - 0x2A + 0x00:word16] = Mem167[ds_162:0x29E3:word16];
				word16 di_170;
				selector ds_171;
				fn0800_3FAD(fp - 0x02, ds_162, wArg00, wArg02, out di_170, out ds_171);
				Mem177[ss:fp - 0x28 + 0x00:word16] = Mem169[ds_171:0x29E5:word16];
				Mem179[ss:fp - 0x2A + 0x00:word16] = Mem177[ds_171:0x29E3:word16];
				word16 di_180;
				selector ds_181;
				Mem184[ss:fp - 0x0C + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_171, wArg00, wArg02, out di_180, out ds_181);
				if (di_180 != 0x00)
					Mem813[ss:fp - 0x0C + 0x00:word16] = Mem184[ss:fp - 0x0C + 0x00:word16] - 0x01;
				word16 dx_194;
				word16 ax_196 = fn0800_8C69(Mem184[ss:fp - 0x0C + 0x00:word16], 0x09, 0x00, bp, out dx_194) + di_180;
				Mem200[ss:fp - 0x04 + 0x00:word16] = dx_194 + (ax_196 <u 0x00);
				Mem201[ss:fp - 0x06 + 0x00:word16] = ax_196;
				Mem206[ss:fp - 0x28 + 0x00:word16] = 0x00;
				Mem209[ss:fp - 0x2A + 0x00:word16] = 0x00;
				Mem211[ss:fp - 44 + 0x00:word16] = 22;
				Mem213[ss:fp - 0x2E + 0x00:word16] = Mem211[ds_181:0x29E5:word16];
				Mem215[ss:fp - 0x30 + 0x00:word16] = Mem213[ds_181:0x29E3:word16];
				selector ds_216;
				fn0800_ACB3(fp - 0x02, ds_181, ptrArg00, wArg02, wArg08, out ds_216);
				Mem221[ss:fp - 0x28 + 0x00:word16] = Mem215[ds_216:0x29E5:word16];
				Mem223[ss:fp - 0x2A + 0x00:word16] = Mem221[ds_216:0x29E3:word16];
				word16 di_224;
				selector ds_225;
				fn0800_3FAD(fp - 0x02, ds_216, wArg00, wArg02, out di_224, out ds_225);
				Mem230[ss:fp - 0x28 + 0x00:word16] = Mem223[ds_225:0x29E5:word16];
				Mem232[ss:fp - 0x2A + 0x00:word16] = Mem230[ds_225:0x29E3:word16];
				word16 di_233;
				selector ds_234;
				Mem238[ss:fp - 0x1E + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_225, wArg00, wArg02, out di_233, out ds_234);
				Mem240[ss:fp - 0x28 + 0x00:word16] = Mem238[ds_234:0x29E5:word16];
				Mem242[ss:fp - 0x2A + 0x00:word16] = Mem240[ds_234:0x29E3:word16];
				word16 di_243;
				selector ds_244;
				Mem248[ss:fp - 0x20 + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_234, wArg00, wArg02, out di_243, out ds_244);
				Mem250[ss:fp - 0x28 + 0x00:word16] = Mem248[ds_244:0x29E5:word16];
				Mem252[ss:fp - 0x2A + 0x00:word16] = Mem250[ds_244:0x29E3:word16];
				word16 di_253;
				selector ds_254;
				Mem258[ss:fp - 0x12 + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_244, wArg00, wArg02, out di_253, out ds_254);
				Mem260[ss:fp - 0x28 + 0x00:word16] = Mem258[ds_254:0x29E5:word16];
				Mem262[ss:fp - 0x2A + 0x00:word16] = Mem260[ds_254:0x29E3:word16];
				word16 di_263;
				selector ds_264;
				Mem268[ss:fp - 0x14 + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_254, wArg00, wArg02, out di_263, out ds_264);
				Mem270[ss:fp - 0x28 + 0x00:word16] = Mem268[ds_264:0x29E5:word16];
				Mem272[ss:fp - 0x2A + 0x00:word16] = Mem270[ds_264:0x29E3:word16];
				word16 di_273;
				selector ds_274;
				Mem278[ss:fp - 0x1A + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_264, wArg00, wArg02, out di_273, out ds_274);
				Mem280[ss:fp - 0x28 + 0x00:word16] = Mem278[ds_274:0x29E5:word16];
				Mem282[ss:fp - 0x2A + 0x00:word16] = Mem280[ds_274:0x29E3:word16];
				word16 di_283;
				selector ds_284;
				Mem288[ss:fp - 0x1C + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_274, wArg00, wArg02, out di_283, out ds_284);
				Mem290[ss:fp - 0x28 + 0x00:word16] = Mem288[ds_284:0x29E5:word16];
				Mem292[ss:fp - 0x2A + 0x00:word16] = Mem290[ds_284:0x29E3:word16];
				word16 di_293;
				selector ds_294;
				Mem298[ss:fp - 0x18 + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_284, wArg00, wArg02, out di_293, out ds_294);
				Mem300[ss:fp - 0x28 + 0x00:word16] = Mem298[ds_294:0x29E5:word16];
				Mem302[ss:fp - 0x2A + 0x00:word16] = Mem300[ds_294:0x29E3:word16];
				word16 di_303;
				selector ds_304;
				Mem308[ss:fp - 22 + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_294, wArg00, wArg02, out di_303, out ds_304);
				Mem310[ss:fp - 0x28 + 0x00:word16] = Mem308[ds_304:10721:word16];
				Mem312[ss:fp - 0x2A + 0x00:word16] = Mem310[ds_304:10719:word16];
				Mem315[ss:fp - 44 + 0x00:word16] = 0x4D5A;
				selector ds_317 = fn0800_401E(fp - 0x02, ds_304, wArg00, wArg02, wArg04);
				Mem320[ss:fp - 0x28 + 0x00:word16] = Mem315[ds_317:10721:word16];
				Mem322[ss:fp - 0x2A + 0x00:word16] = Mem320[ds_317:10719:word16];
				Mem327[ss:fp - 44 + 0x00:word16] = 0x00;
				Mem329[ss:fp - 0x2E + 0x00:word16] = 0x00;
				selector ds_331 = fn0800_409C(fp - 0x02, ds_317, wArg02, wArg04, wArg06);
				Mem334[ss:fp - 0x28 + 0x00:word16] = Mem329[ds_331:10721:word16];
				Mem336[ss:fp - 0x2A + 0x00:word16] = Mem334[ds_331:10719:word16];
				Mem341[ss:fp - 44 + 0x00:word16] = 0x00;
				Mem343[ss:fp - 0x2E + 0x00:word16] = 0x00;
				selector ds_344 = fn0800_409C(fp - 0x02, ds_331, wArg02, wArg04, wArg06);
				Mem348[ss:fp - 0x28 + 0x00:word16] = Mem343[ds_344:10721:word16];
				Mem350[ss:fp - 0x2A + 0x00:word16] = Mem348[ds_344:10719:word16];
				Mem352[ss:fp - 44 + 0x00:word16] = Mem350[ss:fp - 0x12 + 0x00:word16];
				selector ds_354;
				fn0800_40BF(fp - 0x02, ds_344, bArg00, wArg02, wArg04, out ds_354);
				Mem359[ss:fp - 0x28 + 0x00:word16] = Mem352[ds_354:10721:word16];
				Mem361[ss:fp - 0x2A + 0x00:word16] = Mem359[ds_354:10719:word16];
				Mem363[ss:fp - 44 + 0x00:word16] = Mem361[ss:fp - 0x14 + 0x00:word16];
				selector ds_364;
				fn0800_40BF(fp - 0x02, ds_354, bArg00, wArg02, wArg04, out ds_364);
				Mem369[ss:fp - 0x28 + 0x00:word16] = Mem363[ds_364:10721:word16];
				Mem371[ss:fp - 0x2A + 0x00:word16] = Mem369[ds_364:10719:word16];
				Mem373[ss:fp - 44 + 0x00:word16] = Mem371[ss:fp - 22 + 0x00:word16];
				selector ds_374;
				fn0800_40BF(fp - 0x02, ds_364, bArg00, wArg02, wArg04, out ds_374);
				Mem379[ss:fp - 0x28 + 0x00:word16] = Mem373[ds_374:10721:word16];
				Mem381[ss:fp - 0x2A + 0x00:word16] = Mem379[ds_374:10719:word16];
				Mem383[ss:fp - 44 + 0x00:word16] = Mem381[ss:fp - 0x18 + 0x00:word16];
				selector ds_384;
				fn0800_40BF(fp - 0x02, ds_374, bArg00, wArg02, wArg04, out ds_384);
				Mem388[ss:fp - 0x28 + 0x00:word16] = Mem383[ds_384:10721:word16];
				Mem390[ss:fp - 0x2A + 0x00:word16] = Mem388[ds_384:10719:word16];
				Mem395[ss:fp - 44 + 0x00:word16] = 0x00;
				selector ds_396 = fn0800_401E(fp - 0x02, ds_384, wArg00, wArg02, wArg04);
				Mem400[ss:fp - 0x28 + 0x00:word16] = Mem395[ds_396:10721:word16];
				Mem402[ss:fp - 0x2A + 0x00:word16] = Mem400[ds_396:10719:word16];
				Mem404[ss:fp - 44 + 0x00:word16] = Mem402[ss:fp - 0x1A + 0x00:word16];
				selector ds_405;
				fn0800_40BF(fp - 0x02, ds_396, bArg00, wArg02, wArg04, out ds_405);
				Mem410[ss:fp - 0x28 + 0x00:word16] = Mem404[ds_405:10721:word16];
				Mem412[ss:fp - 0x2A + 0x00:word16] = Mem410[ds_405:10719:word16];
				Mem414[ss:fp - 44 + 0x00:word16] = Mem412[ss:fp - 0x1C + 0x00:word16];
				selector ds_415;
				fn0800_40BF(fp - 0x02, ds_405, bArg00, wArg02, wArg04, out ds_415);
				Mem420[ss:fp - 0x28 + 0x00:word16] = Mem414[ds_415:10721:word16];
				Mem422[ss:fp - 0x2A + 0x00:word16] = Mem420[ds_415:10719:word16];
				Mem425[ss:fp - 44 + 0x00:word16] = 0x1E;
				selector ds_426;
				fn0800_40BF(fp - 0x02, ds_415, bArg00, wArg02, wArg04, out ds_426);
				Mem431[ss:fp - 0x28 + 0x00:word16] = Mem425[ds_426:10721:word16];
				Mem433[ss:fp - 0x2A + 0x00:word16] = Mem431[ds_426:10719:word16];
				Mem435[ss:fp - 44 + 0x00:word16] = Mem433[ss:fp - 0x20 + 0x00:word16];
				selector ds_436;
				fn0800_40BF(fp - 0x02, ds_426, bArg00, wArg02, wArg04, out ds_436);
				Mem440[ss:fp - 0x28 + 0x00:word16] = Mem435[ds_436:10721:word16];
				Mem442[ss:fp - 0x2A + 0x00:word16] = Mem440[ds_436:10719:word16];
				Mem447[ss:fp - 44 + 0x00:word16] = 0x00;
				selector ds_448 = fn0800_401E(fp - 0x02, ds_436, wArg00, wArg02, wArg04);
				Mem452[ss:fp - 0x28 + 0x00:word16] = 0x00;
				word16 ax_453 = Mem452[ss:fp - 0x1E + 0x00:word16];
				Mem459[ss:fp - 0x2A + 0x00:word16] = 0x00;
				Mem461[ss:fp - 44 + 0x00:word16] = ax_453 + 0x20;
				Mem463[ss:fp - 0x2E + 0x00:word16] = Mem461[ds_448:0x29E5:word16];
				Mem465[ss:fp - 0x30 + 0x00:word16] = Mem463[ds_448:0x29E3:word16];
				selector ds_466;
				fn0800_ACB3(fp - 0x02, ds_448, ptrArg00, wArg02, wArg08, out ds_466);
				Mem470[ss:fp - 0x0E + 0x00:word16] = 0x00;
				word16 sp_468 = fp - 0x26;
				do
				{
					word16 sp_475 = sp_468 - 0x02;
					Mem476[ss:sp_475 + 0x00:word16] = Mem470[ds_466:0x29E5:word16];
					Mem478[ss:sp_475 - 0x02 + 0x00:word16] = Mem476[ds_466:0x29E3:word16];
					word16 di_479;
					word16 ax_484 = DPB(fn0800_3DCF(ds_466, ptrArg00, wArg02, out di_479, out ds_466), 0x00, 8);
					sp_468 = sp_475 + 0x02;
					word16 di_486 = ax_484;
					if (ax_484 != 0x00)
					{
						Mem752[ss:sp_475 + 0x00:word16] = Mem478[ds_466:0x29E5:word16];
						Mem754[ss:sp_475 - 0x02 + 0x00:word16] = Mem752[ds_466:0x29E3:word16];
						Mem759[ss:fp - 0x22 + 0x00:word16] = fn0800_3FAD(fp - 0x02, ds_466, wArg00, wArg02, out di_486, out ds_466);
						Mem763[ss:fp - 0x0C + 0x00:word16] = di_486;
						sp_468 = sp_475 + 0x02;
						word16 si_760 = 0x00;
						while (true)
						{
							word16 ax_770 = Mem763[ss:fp - 0x0C + 0x00:word16];
							Mem772[ss:fp - 0x0C + 0x00:word16] = Mem763[ss:fp - 0x0C + 0x00:word16] - 0x01;
							if (ax_770 == 0x00)
								break;
							word16 sp_780 = sp_468 - 0x02;
							Mem781[ss:sp_780 + 0x00:word16] = Mem772[ds_466:0x29E5:word16];
							Mem783[ss:sp_780 - 0x02 + 0x00:word16] = Mem781[ds_466:0x29E3:word16];
							word16 di_784;
							selector ds_785;
							si_760 = si_760 + DPB(fn0800_3DCF(ds_466, ptrArg00, wArg02, out di_784, out ds_785), 0x00, 8);
							Mem793[ss:sp_780 + 0x00:word16] = Mem783[ds_785:10721:word16];
							Mem795[ss:sp_780 - 0x02 + 0x00:word16] = Mem793[ds_785:10719:word16];
							Mem797[ss:sp_780 - 0x04 + 0x00:word16] = si_760;
							selector ds_798;
							fn0800_40BF(fp - 0x02, ds_785, bArg00, wArg02, wArg04, out ds_798);
							Mem803[ss:sp_780 + 0x00:word16] = Mem797[ds_798:10721:word16];
							Mem805[ss:sp_780 - 0x02 + 0x00:word16] = Mem803[ds_798:10719:word16];
							Mem807[ss:sp_780 - 0x04 + 0x00:word16] = Mem805[ss:fp - 0x22 + 0x00:word16];
							di_486 = fn0800_40BF(fp - 0x02, ds_798, bArg00, wArg02, wArg04, out ds_466);
							sp_468 = sp_780 + 0x02;
						}
						Mem778[ss:fp - 0x0E + 0x00:word16] = Mem772[ss:fp - 0x0E + 0x00:word16] + di_486;
					}
				} while (di_486 != 0x00);
				word16 sp_524;
				word16 di_522;
				word16 dx_519;
				word16 sp_501 = sp_468 - 0x02;
				Mem502[ss:sp_501 + 0x00:word16] = Mem478[ds_466:10721:word16];
				Mem504[ss:sp_501 - 0x02 + 0x00:word16] = Mem502[ds_466:10719:word16];
				word16 si_505;
				word16 ax_506 = fn0800_AD2F(ds_466, ptrArg00, wArg02, out si_505);
				if (true && (false || ax_506 <u 0x0200))
				{
					Mem739[ss:sp_501 + 0x00:word16] = Mem504[ds_466:10721:word16];
					Mem741[ss:sp_501 - 0x02 + 0x00:word16] = Mem739[ds_466:10719:word16];
					word16 si_742;
					dx_519 = 0x0200 - fn0800_AD2F(ds_466, ptrArg00, wArg02, out si_742);
					sp_524 = sp_501 + 0x02;
					di_522 = dx_519;
				}
				else
				{
					Mem725[ss:sp_501 + 0x00:word16] = Mem504[ds_466:10721:word16];
					Mem727[ss:sp_501 - 0x02 + 0x00:word16] = Mem725[ds_466:10719:word16];
					word16 si_728;
					word16 dx_732 = 0x10 - fn0800_AD2F(ds_466, ptrArg00, wArg02, out si_728);
					sp_524 = sp_501 + 0x02;
					dx_519 = dx_732 & 0x0F;
					di_522 = dx_732 & 0x0F;
				}
				while (di_522 != 0x00)
				{
					word16 sp_710 = sp_524 - 0x02;
					Mem711[ss:sp_710 + 0x00:word16] = Mem504[ds_466:10721:word16];
					Mem713[ss:sp_710 - 0x02 + 0x00:word16] = Mem711[ds_466:10719:word16];
					Mem717[ss:sp_710 - 0x04 + 0x00:word16] = DPB(di_522, 0x00, 0);
					di_522 = fn0800_4047(ds_466, bArg00, ptrArg02, wArg04, out ds_466);
					sp_524 = sp_710 + 0x02;
				}
				word16 sp_531 = sp_524 - 0x02;
				Mem532[ss:sp_531 + 0x00:word16] = Mem504[ds_466:10721:word16];
				Mem534[ss:sp_531 - 0x02 + 0x00:word16] = Mem532[ds_466:10719:word16];
				word16 si_535;
				word16 dx_540;
				Mem542[ss:fp - 0x10 + 0x00:word16] = fn0800_8C8A(fn0800_AD2F(ds_466, ptrArg00, wArg02, out si_535), 0x04, dx_519, bp, out dx_540);
				Mem547[ss:sp_531 + 0x00:word16] = 0x00;
				Mem549[ss:sp_531 - 0x02 + 0x00:word16] = Mem547[ss:fp - 0x08 + 0x00:word16];
				Mem551[ss:sp_531 - 0x04 + 0x00:word16] = Mem549[ss:fp - 0x0A + 0x00:word16];
				Mem553[ss:sp_531 - 0x06 + 0x00:word16] = Mem551[ds_466:0x29E5:word16];
				Mem555[ss:sp_531 - 0x08 + 0x00:word16] = Mem553[ds_466:0x29E3:word16];
				selector ds_556;
				fn0800_ACB3(fp - 0x02, ds_466, ptrArg00, wArg02, wArg08, out ds_556);
				selector ds_560;
				word16 ax_561 = fn0800_5374(fp - 0x02, ds_556, out ds_560);
				if (ax_561 == 0x00)
				{
					Mem574[ss:sp_531 + 0x00:word16] = Mem555[ds_560:10721:word16];
					Mem576[ss:sp_531 - 0x02 + 0x00:word16] = Mem574[ds_560:10719:word16];
					word16 si_577;
					word16 ax_578 = fn0800_AD2F(ds_560, ptrArg00, wArg02, out si_577);
					Mem580[ss:fp - 0x08 + 0x00:word16] = ax_561;
					Mem581[ss:fp - 0x0A + 0x00:word16] = ax_578;
					Mem586[ss:sp_531 + 0x00:word16] = 0x00;
					Mem588[ss:sp_531 - 0x02 + 0x00:word16] = Mem586[ss:fp - 0x04 + 0x00:word16];
					Mem590[ss:sp_531 - 0x04 + 0x00:word16] = Mem588[ss:fp - 0x06 + 0x00:word16];
					Mem592[ss:sp_531 - 0x06 + 0x00:word16] = Mem590[ds_560:0x29E5:word16];
					Mem594[ss:sp_531 - 0x08 + 0x00:word16] = Mem592[ds_560:0x29E3:word16];
					selector ds_595;
					fn0800_ACB3(fp - 0x02, ds_560, ptrArg00, wArg02, wArg08, out ds_595);
					Mem600[ss:sp_531 + 0x00:word16] = Mem594[ds_595:0x29E5:word16];
					Mem602[ss:sp_531 - 0x02 + 0x00:word16] = Mem600[ds_595:0x29E3:word16];
					word16 si_603;
					selector ds_604;
					word16 ax_607 = fn0800_4194(fp - 0x02, ds_595, wArg00, wArg02, out si_603, out ds_604) - Mem602[ss:(fp - 0x06) + 0x00:word16];
					Mem613[ss:sp_531 + 0x00:word16] = ax_561 - Mem602[ss:(fp - 0x04) + 0x00:word16] - (ax_607 <u 0x00);
					Mem615[ss:sp_531 - 0x02 + 0x00:word16] = ax_607;
					Mem617[ss:sp_531 - 0x04 + 0x00:word16] = Mem615[ds_604:10721:word16];
					Mem619[ss:sp_531 - 0x06 + 0x00:word16] = Mem617[ds_604:10719:word16];
					Mem621[ss:sp_531 - 0x08 + 0x00:word16] = Mem619[ds_604:0x29E5:word16];
					Mem623[ss:sp_531 - 0x0A + 0x00:word16] = Mem621[ds_604:0x29E3:word16];
					selector ds_625 = fn0800_3B0A(fp - 0x02, ds_604, wArg08, wArg0A);
					word16 di_627 = Mem623[ss:fp - 0x0A + 0x00:word16];
					word16 dx_634;
					Mem636[ss:fp - 0x0C + 0x00:word16] = fn0800_8CAA(Mem623[ss:fp - 0x0A + 0x00:word16], 0x09, Mem623[ss:fp - 0x08 + 0x00:word16], bp, out dx_634);
					if ((di_627 & 0x01FF) != 0x00)
						Mem708[ss:fp - 0x0C + 0x00:word16] = Mem636[ss:fp - 0x0C + 0x00:word16] + 0x01;
					Mem645[ss:sp_531 + 0x00:word16] = 0x00;
					Mem648[ss:sp_531 - 0x02 + 0x00:word16] = 0x00;
					Mem650[ss:sp_531 - 0x04 + 0x00:word16] = 0x02;
					Mem652[ss:sp_531 - 0x06 + 0x00:word16] = Mem650[ds_625:10721:word16];
					Mem654[ss:sp_531 - 0x08 + 0x00:word16] = Mem652[ds_625:10719:word16];
					selector ds_655;
					fn0800_ACB3(fp - 0x02, ds_625, ptrArg00, wArg02, wArg08, out ds_655);
					Mem660[ss:sp_531 + 0x00:word16] = Mem654[ds_655:10721:word16];
					Mem662[ss:sp_531 - 0x02 + 0x00:word16] = Mem660[ds_655:10719:word16];
					Mem664[ss:sp_531 - 0x04 + 0x00:word16] = di_627 & 0x01FF;
					selector ds_665;
					fn0800_40BF(fp - 0x02, ds_655, bArg00, wArg02, wArg04, out ds_665);
					Mem670[ss:sp_531 + 0x00:word16] = Mem664[ds_665:10721:word16];
					Mem672[ss:sp_531 - 0x02 + 0x00:word16] = Mem670[ds_665:10719:word16];
					Mem674[ss:sp_531 - 0x04 + 0x00:word16] = Mem672[ss:fp - 0x0C + 0x00:word16];
					selector ds_675;
					fn0800_40BF(fp - 0x02, ds_665, bArg00, wArg02, wArg04, out ds_675);
					Mem680[ss:sp_531 + 0x00:word16] = Mem674[ds_675:10721:word16];
					Mem682[ss:sp_531 - 0x02 + 0x00:word16] = Mem680[ds_675:10719:word16];
					Mem684[ss:sp_531 - 0x04 + 0x00:word16] = Mem682[ss:fp - 0x0E + 0x00:word16];
					selector ds_685;
					fn0800_40BF(fp - 0x02, ds_675, bArg00, wArg02, wArg04, out ds_685);
					Mem690[ss:sp_531 + 0x00:word16] = Mem684[ds_685:10721:word16];
					Mem692[ss:sp_531 - 0x02 + 0x00:word16] = Mem690[ds_685:10719:word16];
					Mem694[ss:sp_531 - 0x04 + 0x00:word16] = Mem692[ss:fp - 0x10 + 0x00:word16];
					selector ds_695;
					fn0800_40BF(fp - 0x02, ds_685, bArg00, wArg02, wArg04, out ds_695);
					return ds_695;
				}
				else
					return ds_560;
			}
		}
		else
			return ds_73;
	}
	else
		return ds;
}

word16 fn0800_4B97(word16 bp, selector ds, ptr16 & dsOut)
{
	selector ds_10;
	if (fn0800_5DCE(bp, ds, Mem0[ds:0x29E3:word16], Mem0[ds:0x29E5:word16], out ds_10) != 0x00)
	{
		selector ds_21;
		fn0800_5374(bp, ds_10, out ds_21);
		return bp;
	}
	else
		return bp;
}

word16 fn0800_4BB1(word16 bp, selector ds, ptr16 & dsOut)
{
	selector ds_10;
	if (fn0800_5DCE(bp, ds, Mem0[ds:0x29E3:word16], Mem0[ds:0x29E5:word16], out ds_10) != 0x00)
	{
		Mem34[ss:fp - 0x02 + 0x00:word16] = 0x01;
		Mem39[ss:fp - 0x04 + 0x00:word16] = ~0x00;
		Mem41[ss:fp - 0x06 + 0x00:word16] = ~0x11;
		Mem43[ss:fp - 0x08 + 0x00:word16] = Mem41[ds_10:0x29E5:word16];
		Mem45[ss:fp - 0x0A + 0x00:word16] = Mem43[ds_10:0x29E3:word16];
		selector ds_49;
		fn0800_ACB3(bp, ds_10, ptrArg00, wArg02, wArg08, out ds_49);
		Mem54[ss:fp - 0x02 + 0x00:word16] = Mem45[ds_49:10721:word16];
		Mem56[ss:fp - 0x04 + 0x00:word16] = Mem54[ds_49:10719:word16];
		Mem59[ss:fp - 0x06 + 0x00:word16] = 0x601A;
		selector ds_62 = fn0800_401E(bp, ds_49, wArg00, wArg02, wArg04);
		Mem69[ss:fp - 0x02 + 0x00:word16] = 0x00;
		Mem71[ss:fp - 0x04 + 0x00:word16] = 0x10;
		Mem73[ss:fp - 0x06 + 0x00:word16] = Mem71[ds_62:10721:word16];
		Mem75[ss:fp - 0x08 + 0x00:word16] = Mem73[ds_62:10719:word16];
		Mem77[ss:fp - 0x0A + 0x00:word16] = Mem75[ds_62:0x29E5:word16];
		Mem79[ss:fp - 0x0C + 0x00:word16] = Mem77[ds_62:0x29E3:word16];
		selector ds_81 = fn0800_3B0A(bp, ds_62, wArg08, wArg0A);
		Mem84[ss:fp - 0x02 + 0x00:word16] = Mem79[ds_81:10721:word16];
		Mem86[ss:fp - 0x04 + 0x00:word16] = Mem84[ds_81:10719:word16];
		Mem91[ss:fp - 0x06 + 0x00:word16] = 0x00;
		Mem93[ss:fp - 0x08 + 0x00:word16] = 0x00;
		selector ds_95 = fn0800_409C(bp, ds_81, wArg02, wArg04, wArg06);
		Mem98[ss:fp - 0x02 + 0x00:word16] = Mem93[ds_95:10721:word16];
		Mem100[ss:fp - 0x04 + 0x00:word16] = Mem98[ds_95:10719:word16];
		Mem105[ss:fp - 0x06 + 0x00:word16] = 0x00;
		Mem107[ss:fp - 0x08 + 0x00:word16] = 0x00;
		selector ds_108 = fn0800_409C(bp, ds_95, wArg02, wArg04, wArg06);
		Mem112[ss:fp - 0x02 + 0x00:word16] = Mem107[ds_108:10721:word16];
		Mem114[ss:fp - 0x04 + 0x00:word16] = Mem112[ds_108:10719:word16];
		Mem116[ss:fp - 0x06 + 0x00:word16] = Mem114[ds_108:0x29E5:word16];
		Mem118[ss:fp - 0x08 + 0x00:word16] = Mem116[ds_108:0x29E3:word16];
		word16 si_119;
		word16 di_120;
		selector ds_121;
		Mem126[ss:fp - 0x06 + 0x00:word16] = fn0800_3E27(bp, ds_108, wArg00, wArg02, out si_119, out di_120, out ds_121);
		selector ds_130;
		fn0800_5374(bp, fn0800_401E(bp, ds_121, wArg00, wArg02, wArg04), out ds_130);
		return bp;
	}
	else
		return bp;
}

selector fn0800_4C55(word16 bp, selector ds)
{
	word16 wLoc1C_12 = Mem0[ds:0x29E5:word16];
	word16 wLoc1E_14 = Mem0[ds:0x29E3:word16];
	selector ds_15;
	if (fn0800_3E5D(fp - 0x02, ds, wLoc1E_14, wLoc1C_12, out ds_15) != 0x00 || ax != 1011)
		return ds_15;
	else
	{
		Mem55[ss:fp - 0x1C + 0x00:word16] = Mem0[ds_15:10721:word16];
		Mem57[ss:fp - 0x1E + 0x00:word16] = Mem55[ds_15:10719:word16];
		Mem63[ss:fp - 0x20 + 0x00:word16] = 0x00;
		Mem65[ss:fp - 0x22 + 0x00:word16] = 1011;
		word16 ax_117 = 0x00;
		selector ds_102 = fn0800_409C(fp - 0x02, ds_15, wArg02, wArg04, wArg06);
		word16 sp_100 = fp - 0x1A;
		do
		{
			word16 sp_78 = sp_100 - 0x02;
			Mem79[ss:sp_78 + 0x00:word16] = Mem65[ds_102:0x29E5:word16];
			Mem81[ss:sp_78 - 0x02 + 0x00:word16] = Mem79[ds_102:0x29E3:word16];
			selector ds_83;
			word16 dx_84 = fn0800_3E5D(fp - 0x02, ds_102, wArg00, wArg02, out ds_83);
			Mem87[ss:fp - 0x08 + 0x00:word16] = dx_84;
			Mem88[ss:fp - 0x0A + 0x00:word16] = ax_117;
			Mem89[ss:fp - 0x04 + 0x00:word16] = dx_84;
			Mem90[ss:fp - 0x06 + 0x00:word16] = ax_117;
			Mem92[ss:sp_78 + 0x00:word16] = Mem90[ds_83:10721:word16];
			Mem94[ss:sp_78 - 0x02 + 0x00:word16] = Mem92[ds_83:10719:word16];
			Mem96[ss:sp_78 - 0x04 + 0x00:word16] = Mem94[ss:fp - 0x04 + 0x00:word16];
			Mem98[ss:sp_78 - 0x06 + 0x00:word16] = ax_117;
			ds_102 = fn0800_409C(fp - 0x02, ds_83, wArg02, wArg04, wArg06);
			sp_100 = sp_78 + 0x02;
			while (true)
			{
				word16 ax_104 = Mem98[ss:fp - 0x0A + 0x00:word16];
				word16 dx_105 = Mem98[ss:fp - 0x08 + 0x00:word16];
				word16 v12_106 = Mem98[ss:fp - 0x0A + 0x00:word16] - 0x01;
				Mem107[ss:fp - 0x0A + 0x00:word16] = v12_106;
				Mem111[ss:fp - 0x08 + 0x00:word16] = Mem107[ss:fp - 0x08 + 0x00:word16] - (v12_106 <u 0x00);
				word16 ax_112 = ax_104 | dx_105;
				if (ax_112 == 0x00)
					break;
				word16 sp_426 = sp_100 - 0x02;
				Mem427[ss:sp_426 + 0x00:word16] = Mem111[ds_102:10721:word16];
				Mem429[ss:sp_426 - 0x02 + 0x00:word16] = Mem427[ds_102:10719:word16];
				Mem431[ss:sp_426 - 0x04 + 0x00:word16] = Mem429[ds_102:0x29E5:word16];
				Mem433[ss:sp_426 - 0x06 + 0x00:word16] = Mem431[ds_102:0x29E3:word16];
				selector ds_434;
				Mem439[ss:sp_426 - 0x04 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_102, wArg00, wArg02, out ds_434);
				Mem441[ss:sp_426 - 0x06 + 0x00:word16] = ax_112;
				ds_102 = fn0800_409C(fp - 0x02, ds_434, wArg02, wArg04, wArg06);
				sp_100 = sp_426 + 0x02;
			}
			ax_117 = Mem111[ss:fp - 0x06 + 0x00:word16] | Mem111[ss:(fp - 0x04) + 0x00:word16];
		} while (ax_117 != 0x00);
		word16 sp_121 = sp_100 - 0x02;
		Mem122[ss:sp_121 + 0x00:word16] = Mem111[ds_102:10719:word16];
		Mem124[ss:sp_121 - 0x02 + 0x00:word16] = Mem122[ds_102:0x29E5:word16];
		Mem126[ss:sp_121 - 0x04 + 0x00:word16] = Mem124[ds_102:0x29E3:word16];
		selector ds_127;
		ui32 dx_ax_131 = SEQ(fn0800_3E5D(fp - 0x02, ds_102, wArg00, wArg02, out ds_127), ax_117 - 0x01);
		Mem138[ss:sp_121 - 0x02 + 0x00:word16] = SLICE(dx_ax_131 - 0x01, word16, 16);
		word16 ax_135 = (word16) (dx_ax_131 - 0x01);
		Mem140[ss:sp_121 - 0x04 + 0x00:word16] = ax_135;
		selector ds_141 = fn0800_409C(fp - 0x02, ds_127, wArg02, wArg04, wArg06);
		Mem145[ss:sp_121 + 0x02:word16] = Mem140[ds_141:0x29E5:word16];
		Mem147[ss:sp_121 + 0x00:word16] = Mem145[ds_141:0x29E3:word16];
		selector ds_148;
		Mem152[ss:fp - 0x0C + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_141, wArg00, wArg02, out ds_148);
		Mem153[ss:fp - 0x0E + 0x00:word16] = ax_135;
		Mem155[ss:sp_121 + 0x02:word16] = Mem153[ds_148:0x29E5:word16];
		Mem157[ss:sp_121 + 0x00:word16] = Mem155[ds_148:0x29E3:word16];
		selector ds_158;
		Mem161[ss:fp - 0x10 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_148, wArg00, wArg02, out ds_158);
		Mem162[ss:fp - 0x12 + 0x00:word16] = ax_135;
		word16 dx_165 = Mem162[ss:fp - 0x12 + 0x00:word16] - Mem162[ss:(fp - 0x0E) + 0x00:word16];
		Mem170[ss:fp - 0x14 + 0x00:word16] = Mem162[ss:fp - 0x10 + 0x00:word16] - Mem162[ss:(fp - 0x0C) + 0x00:word16] - (dx_165 <u 0x00);
		Mem171[ss:fp - 22 + 0x00:word16] = dx_165;
		Mem173[ss:sp_121 + 0x02:word16] = Mem171[ds_158:10721:word16];
		Mem175[ss:sp_121 + 0x00:word16] = Mem173[ds_158:10719:word16];
		Mem177[ss:sp_121 - 0x02 + 0x00:word16] = Mem175[ss:fp - 0x0C + 0x00:word16];
		Mem179[ss:sp_121 - 0x04 + 0x00:word16] = Mem177[ss:fp - 0x0E + 0x00:word16];
		selector ds_180 = fn0800_409C(fp - 0x02, ds_158, wArg02, wArg04, wArg06);
		Mem183[ss:sp_121 + 0x02:word16] = Mem179[ds_180:10721:word16];
		Mem185[ss:sp_121 + 0x00:word16] = Mem183[ds_180:10719:word16];
		ui32 ax_dx_189 = SEQ(Mem185[ss:fp - 0x10 + 0x00:word16], Mem185[ss:fp - 0x12 + 0x00:word16] - 0x01);
		Mem196[ss:sp_121 - 0x02 + 0x00:word16] = SLICE(ax_dx_189 - 0x01, word16, 16);
		word16 dx_193 = (word16) (ax_dx_189 - 0x01);
		Mem198[ss:sp_121 - 0x04 + 0x00:word16] = dx_193;
		selector ds_199 = fn0800_409C(fp - 0x02, ds_180, wArg02, wArg04, wArg06);
		Mem203[ss:sp_121 + 0x02:word16] = Mem198[ds_199:10721:word16];
		Mem205[ss:sp_121 + 0x00:word16] = Mem203[ds_199:10719:word16];
		word16 si_207;
		word16 ax_208 = fn0800_AD2F(ds_199, ptrArg00, wArg02, out si_207);
		Mem210[ds_199:20110:word16] = dx_193;
		Mem211[ds_199:20108:word16] = ax_208;
		Mem214[ss:sp_121 + 0x02:word16] = 0x01;
		Mem220[ss:sp_121 + 0x00:word16] = 0x00;
		Mem222[ss:sp_121 - 0x02 + 0x00:word16] = 0x04;
		Mem224[ss:sp_121 - 0x04 + 0x00:word16] = Mem222[ds_199:0x29E5:word16];
		Mem226[ss:sp_121 - 0x06 + 0x00:word16] = Mem224[ds_199:0x29E3:word16];
		selector ds_228;
		fn0800_ACB3(fp - 0x02, ds_199, ptrArg00, wArg02, wArg08, out ds_228);
		word16 dx_233 = Mem226[ss:fp - 22 + 0x00:word16];
		Mem234[ss:fp - 0x04 + 0x00:word16] = Mem226[ss:fp - 0x14 + 0x00:word16];
		Mem235[ss:fp - 0x06 + 0x00:word16] = dx_233;
		word16 sp_230 = sp_121 + 0x04;
		while (true)
		{
			word16 ax_241 = Mem235[ss:fp - 0x06 + 0x00:word16] | Mem235[ss:(fp - 0x04) + 0x00:word16];
			if (ax_241 == 0x00)
				break;
			word16 sp_401 = sp_230 - 0x02;
			Mem402[ss:sp_401 + 0x00:word16] = Mem235[ds_228:10721:word16];
			Mem404[ss:sp_401 - 0x02 + 0x00:word16] = Mem402[ds_228:10719:word16];
			Mem406[ss:sp_401 - 0x04 + 0x00:word16] = Mem404[ds_228:0x29E5:word16];
			Mem408[ss:sp_401 - 0x06 + 0x00:word16] = Mem406[ds_228:0x29E3:word16];
			selector ds_409;
			Mem414[ss:sp_401 - 0x04 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_228, wArg00, wArg02, out ds_409);
			Mem416[ss:sp_401 - 0x06 + 0x00:word16] = ax_241;
			ds_228 = fn0800_409C(fp - 0x02, ds_409, wArg02, wArg04, wArg06);
			word16 v15_419 = Mem416[ss:fp - 0x06 + 0x00:word16] - 0x01;
			Mem420[ss:fp - 0x06 + 0x00:word16] = v15_419;
			Mem424[ss:fp - 0x04 + 0x00:word16] = Mem420[ss:fp - 0x04 + 0x00:word16] - (v15_419 <u 0x00);
			sp_230 = sp_401 + 0x02;
		}
		word16 sp_245 = sp_230 - 0x02;
		Mem246[ss:sp_245 + 0x00:word16] = 0x01;
		Mem252[ss:sp_245 - 0x02 + 0x00:word16] = 0x00;
		Mem254[ss:sp_245 - 0x04 + 0x00:word16] = 0x04;
		Mem256[ss:sp_245 - 0x06 + 0x00:word16] = Mem254[ds_228:0x29E5:word16];
		Mem258[ss:sp_245 - 0x08 + 0x00:word16] = Mem256[ds_228:0x29E3:word16];
		selector ds_259;
		word16 ax_260 = fn0800_ACB3(fp - 0x02, ds_228, ptrArg00, wArg02, wArg08, out ds_259);
		Mem264[ss:sp_245 + 0x00:word16] = Mem258[ds_259:0x29E5:word16];
		Mem266[ss:sp_245 - 0x02 + 0x00:word16] = Mem264[ds_259:0x29E3:word16];
		selector ds_267;
		ui32 dx_ax_271 = SEQ(fn0800_3E5D(fp - 0x02, ds_259, wArg00, wArg02, out ds_267), ax_260 + 0x01);
		Mem277[ss:fp - 0x04 + 0x00:word16] = SLICE(dx_ax_271 + 0x01, word16, 16);
		Mem278[ss:fp - 0x06 + 0x00:word16] = (word16) (dx_ax_271 + 0x01);
		Mem281[ss:sp_245 + 0x00:word16] = 0x01;
		word16 dx_285;
		word16 ax_286 = fn0800_8C69(Mem281[ss:fp - 0x06 + 0x00:word16], 0x02, Mem281[ss:fp - 0x04 + 0x00:word16], bp, out dx_285);
		Mem288[ss:sp_245 - 0x02 + 0x00:word16] = dx_285;
		Mem290[ss:sp_245 - 0x04 + 0x00:word16] = ax_286;
		Mem292[ss:sp_245 - 0x06 + 0x00:word16] = Mem290[ds_267:0x29E5:word16];
		Mem294[ss:sp_245 - 0x08 + 0x00:word16] = Mem292[ds_267:0x29E3:word16];
		selector ds_295;
		fn0800_ACB3(fp - 0x02, ds_267, ptrArg00, wArg02, wArg08, out ds_295);
		Mem300[ss:sp_245 + 0x00:word16] = Mem294[ds_295:0x29E5:word16];
		Mem302[ss:sp_245 - 0x02 + 0x00:word16] = Mem300[ds_295:0x29E3:word16];
		word16 si_303;
		Mem308[ss:sp_245 + 0x00:word16] = fn0800_AD2F(ds_295, ptrArg00, wArg02, out si_303);
		Mem310[ss:sp_245 - 0x02 + 0x00:word16] = dx_285;
		Mem312[ss:sp_245 - 0x04 + 0x00:word16] = Mem310[ds_295:0x29E5:word16];
		Mem314[ss:sp_245 - 0x06 + 0x00:word16] = Mem312[ds_295:0x29E3:word16];
		word16 si_315;
		selector ds_316;
		word16 ax_317 = fn0800_4194(fp - 0x02, ds_295, wArg00, wArg02, out si_315, out ds_316);
		word16 bx_319 = Mem314[ss:sp_245 - 0x02 + 0x00:word16];
		word16 dx_325 = Mem314[ss:sp_245 + 0x00:word16];
		if (bx_319 >=u dx_285)
			if (bx_319 != dx_285 || dx_325 >=u ax_317)
				return ds_316;
		Mem330[ss:sp_245 + 0x00:word16] = Mem314[ds_316:0x29E5:word16];
		Mem332[ss:sp_245 - 0x02 + 0x00:word16] = Mem330[ds_316:0x29E3:word16];
		selector ds_333;
		Mem337[ss:fp - 0x08 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_316, wArg00, wArg02, out ds_333);
		Mem338[ss:fp - 0x0A + 0x00:word16] = ax_317;
		Mem340[ss:sp_245 + 0x00:word16] = Mem338[ds_333:10721:word16];
		Mem342[ss:sp_245 - 0x02 + 0x00:word16] = Mem340[ds_333:10719:word16];
		Mem344[ss:sp_245 - 0x04 + 0x00:word16] = Mem342[ss:fp - 0x08 + 0x00:word16];
		Mem346[ss:sp_245 - 0x06 + 0x00:word16] = ax_317;
		selector ds_347 = fn0800_409C(fp - 0x02, ds_333, wArg02, wArg04, wArg06);
		word16 ax_349 = Mem346[ss:fp - 0x08 + 0x00:word16];
		word16 dx_350 = Mem346[ss:fp - 0x0A + 0x00:word16];
		Mem354[ss:fp - 0x1A + 0x00:word16] = dx_350;
		Mem355[ss:fp - 0x18 + 0x00:word16] = ax_349 & 0x3FFF;
		byte SZO_352 = cond(ax_349 & 0x3FFF);
		word16 cx_356 = 0x04;
		byte cl_357 = 0x04;
		word16 bx_358 = 20244;
		if (Mem355[0x0800:bx_358 + 0x00:word16] == Mem355[ss:(fp - 0x0A) + 0x00:word16])
		{
			word16 ax_375 = Mem355[0x0800:bx_358 + 0x08:word16];
			byte SCZO_376 = cond(ax_375 - Mem355[ss:(fp - 0x18) + 0x00:word16]);
			if (ax_375 == Mem355[ss:(fp - 0x18) + 0x00:word16])
			{
				selector ds_382;
				Mem355[0x0800:bx_358 + 0x10:word16]();
				return ds_382;
			}
		}
		cx_356 = cx_356 - 0x01;
		bx_358 = bx_358 + 0x02;
		cl_357 = (byte) cx_356;
		if (cx_356 != 0x00)
			goto l0800_4E7C;
		return ds_347;
	}
}

word16 fn0800_518F(word16 bp, selector ds, ptr16 & dsOut)
{
	selector ds_10;
	if (fn0800_5DCE(bp, ds, Mem0[ds:0x29E3:word16], Mem0[ds:0x29E5:word16], out ds_10) != 0x00)
	{
		selector ds_21;
		fn0800_5374(bp, ds_10, out ds_21);
		return bp;
	}
	else
		return bp;
}

selector fn0800_51A9(word16 bp, selector ds)
{
fn0800_51A9_entry:
	word16 sp_123 = fp - 0x08
	goto l0800_533D
l0800_51A9:
l0800_51B3:
	Mem76[ss:sp_25 + 0x00:word16] = Mem44[ds_47:0x29E5:word16]
	Mem78[ss:sp_25 - 0x02 + 0x00:word16] = Mem76[ds_47:0x29E3:word16]
	word16 ax_80 = fn0800_3E9A(fp - 0x02, ds_47, ptrArg00, wArg02, out ds)
	sp_123 = sp_25 + 0x02
	branch ax_80 == 0x00 l0800_51D5
l0800_51C5:
	branch ax_80 == 0x01 l0800_51F5
l0800_51CA:
	branch ax_80 != 0x03 l0800_51D2
l0800_51CF:
	word16 si_125 = 0x00
	goto l0800_52FA
l0800_51D2:
	Mem127[ss:sp_25 + 0x02:word16] = Mem78[ds:0x29E5:word16]
	Mem129[ss:sp_25 + 0x00:word16] = Mem127[ds:0x29E3:word16]
	word16 si_130
	selector ds_131
	Mem136[ss:sp_25 + 0x02:word16] = fn0800_4194(fp - 0x02, ds, wArg00, wArg02, out si_130, out ds_131)
	Mem138[ss:sp_25 + 0x00:word16] = dx
	Mem140[ss:sp_25 - 0x02 + 0x00:word16] = Mem138[ds_131:0x29E5:word16]
	Mem142[ss:sp_25 - 0x04 + 0x00:word16] = Mem140[ds_131:0x29E3:word16]
	word16 si_143
	word16 ax_144 = fn0800_AD2F(ds_131, ptrArg00, wArg02, out si_143)
	ui32 bx_cx_154 = SEQ(Mem142[ss:sp_25 + 0x00:word16], Mem142[ss:sp_25 + 0x02:word16] - ax_144) - SEQ(dx, ax_144)
	Mem159[ss:sp_25 + 0x02:word16] = SLICE(bx_cx_154, word16, 16)
	Mem161[ss:sp_25 + 0x00:word16] = (word16) bx_cx_154
	Mem163[ss:sp_25 - 0x02 + 0x00:word16] = Mem161[ds_131:10721:word16]
	Mem165[ss:sp_25 - 0x04 + 0x00:word16] = Mem163[ds_131:10719:word16]
	Mem167[ss:sp_25 - 0x06 + 0x00:word16] = Mem165[ds_131:0x29E5:word16]
	Mem169[ss:sp_25 - 0x08 + 0x00:word16] = Mem167[ds_131:0x29E3:word16]
	ds = fn0800_3B0A(fp - 0x02, ds_131, wArg08, wArg0A)
	sp_123 = sp_25 + 0x04
	goto l0800_533D
l0800_51D5:
	Mem315[ss:sp_25 + 0x00:word16] = Mem78[ds:10721:word16]
	Mem317[ss:sp_25 - 0x02 + 0x00:word16] = Mem315[ds:10719:word16]
	Mem319[ss:sp_25 - 0x04 + 0x00:word16] = Mem317[ds:0x29E5:word16]
	Mem321[ss:sp_25 - 0x06 + 0x00:word16] = Mem319[ds:0x29E3:word16]
	word16 di_322
	selector ds_323
	Mem328[ss:sp_25 - 0x04 + 0x00:word16] = fn0800_3DCF(ds, ptrArg00, wArg02, out di_322, out ds_323)
	fn0800_4047(ds_323, bArg00, ptrArg02, wArg04, out ds)
	sp_123 = sp_25 + 0x02
	goto l0800_533D
l0800_51F5:
	Mem176[ss:sp_25 + 0x00:word16] = Mem78[ds:10721:word16]
	Mem178[ss:sp_25 - 0x02 + 0x00:word16] = Mem176[ds:10719:word16]
	Mem180[ss:sp_25 - 0x04 + 0x00:word16] = Mem178[ds:0x29E5:word16]
	Mem182[ss:sp_25 - 0x06 + 0x00:word16] = Mem180[ds:0x29E3:word16]
	selector ds_183
	Mem188[ss:sp_25 - 0x04 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds, wArg00, wArg02, out ds_183)
	Mem190[ss:sp_25 - 0x06 + 0x00:word16] = ax_80
	selector ds_192 = fn0800_409C(fp - 0x02, ds_183, wArg02, wArg04, wArg06)
	Mem196[ss:sp_25 + 0x00:word16] = Mem190[ds_192:0x29E5:word16]
	Mem198[ss:sp_25 - 0x02 + 0x00:word16] = Mem196[ds_192:0x29E3:word16]
	word16 di_199
	selector ds_200
	word16 ax_201 = fn0800_3FAD(fp - 0x02, ds_192, wArg00, wArg02, out di_199, out ds_200)
	Mem204[ss:fp - 0x04 + 0x00:word16] = 0x00
	Mem205[ss:fp - 0x06 + 0x00:word16] = ax_201
	Mem207[ss:sp_25 + 0x00:word16] = Mem205[ds_200:10721:word16]
	Mem209[ss:sp_25 - 0x02 + 0x00:word16] = Mem207[ds_200:10719:word16]
	Mem211[ss:sp_25 - 0x04 + 0x00:word16] = ax_201
	selector ds_212
	fn0800_40BF(fp - 0x02, ds_200, bArg00, wArg02, wArg04, out ds_212)
	Mem217[ss:sp_25 + 0x00:word16] = Mem211[ds_212:0x29E5:word16]
	Mem219[ss:sp_25 - 0x02 + 0x00:word16] = Mem217[ds_212:0x29E3:word16]
	word16 di_220
	selector ds_221
	word16 ax_227 = fn0800_8CAA(ax_201, 0x08, fn0800_3F58(fp - 0x02, ds_212, wArg00, wArg02, out di_220, out ds_221), bp, out dx)
	branch dx != 0x52 || ax_227 != 0x4E43 l0800_52BA
	goto l0800_5255
l0800_5250:
l0800_5255:
	selector ds_250
	branch fn0800_5374(fp - 0x02, ds_221, out ds_250) == 0x00 l0800_5263
l0800_525E:
	return ds_250
l0800_5263:
	Mem262[ss:sp_25 + 0x00:word16] = 0x01
	ui32 ax_dx_266 = SEQ(Mem262[ds_250:0x2A09:word16], Mem262[ds_250:0x2A07:word16] + 0x02)
	dx = -(word16) (ax_dx_266 + 0x02)
	Mem278[ss:sp_25 - 0x02 + 0x00:word16] = -SLICE(ax_dx_266 + 0x02, word16, 16) - (dx == 0x00)
	Mem280[ss:sp_25 - 0x04 + 0x00:word16] = dx
	Mem282[ss:sp_25 - 0x06 + 0x00:word16] = Mem280[ds_250:10721:word16]
	Mem284[ss:sp_25 - 0x08 + 0x00:word16] = Mem282[ds_250:10719:word16]
	selector ds_285
	fn0800_ACB3(fp - 0x02, ds_250, ptrArg00, wArg02, wArg08, out ds_285)
	Mem290[ss:sp_25 + 0x00:word16] = Mem284[ds_285:10721:word16]
	Mem292[ss:sp_25 - 0x02 + 0x00:word16] = Mem290[ds_285:10719:word16]
	Mem294[ss:sp_25 - 0x04 + 0x00:word16] = Mem292[ds_285:0x2A07:word16]
	selector ds_295
	fn0800_40BF(fp - 0x02, ds_285, bArg00, wArg02, wArg04, out ds_295)
	Mem301[ss:sp_25 + 0x00:word16] = 0x01
	Mem303[ss:sp_25 - 0x02 + 0x00:word16] = Mem301[ds_295:0x2A09:word16]
	Mem305[ss:sp_25 - 0x04 + 0x00:word16] = Mem303[ds_295:0x2A07:word16]
	Mem307[ss:sp_25 - 0x06 + 0x00:word16] = Mem305[ds_295:10721:word16]
	Mem309[ss:sp_25 - 0x08 + 0x00:word16] = Mem307[ds_295:10719:word16]
	fn0800_ACB3(fp - 0x02, ds_295, ptrArg00, wArg02, wArg08, out ds)
	sp_123 = sp_25 + 0x02
	goto l0800_533D
l0800_52BA:
	Mem234[ss:sp_25 + 0x00:word16] = Mem219[ss:fp - 0x04 + 0x00:word16]
	Mem236[ss:sp_25 - 0x02 + 0x00:word16] = Mem234[ss:fp - 0x06 + 0x00:word16]
	Mem238[ss:sp_25 - 0x04 + 0x00:word16] = Mem236[ds_221:10721:word16]
	Mem240[ss:sp_25 - 0x06 + 0x00:word16] = Mem238[ds_221:10719:word16]
	Mem242[ss:sp_25 - 0x08 + 0x00:word16] = Mem240[ds_221:0x29E5:word16]
	Mem244[ss:sp_25 - 0x0A + 0x00:word16] = Mem242[ds_221:0x29E3:word16]
	ds = fn0800_3B0A(fp - 0x02, ds_221, wArg08, wArg0A)
	sp_123 = sp_25 + 0x02
	goto l0800_533D
l0800_52D8:
l0800_52DC:
	word16 sp_103 = sp_123 - 0x02
	Mem104[ss:sp_103 + 0x00:word16] = Mem78[ds:10721:word16]
	Mem106[ss:sp_103 - 0x02 + 0x00:word16] = Mem104[ds:10719:word16]
	Mem108[ss:sp_103 - 0x04 + 0x00:word16] = Mem106[ds:0x29E5:word16]
	Mem110[ss:sp_103 - 0x06 + 0x00:word16] = Mem108[ds:0x29E3:word16]
	word16 di_111
	selector ds_112
	Mem117[ss:sp_103 - 0x04 + 0x00:word16] = fn0800_3DCF(ds, ptrArg00, wArg02, out di_111, out ds_112)
	fn0800_4047(ds_112, bArg00, ptrArg02, wArg04, out ds)
	sp_123 = sp_103 + 0x02
	si_125 = si_125 + 0x01
l0800_52FA:
	branch si_125 != 0x03 l0800_52DC
	goto l0800_533D
l0800_5301:
l0800_533D:
	word16 sp_25 = sp_123 - 0x02
	Mem27[ss:sp_25 + 0x00:word16] = Mem0[ds:0x29E5:word16]
	Mem30[ss:sp_25 - 0x02 + 0x00:word16] = Mem27[ds:0x29E3:word16]
	word16 si_33
	Mem38[ss:sp_25 + 0x00:word16] = fn0800_AD2F(ds, ptrArg00, wArg02, out si_33)
	Mem40[ss:sp_25 - 0x02 + 0x00:word16] = dx
	Mem42[ss:sp_25 - 0x04 + 0x00:word16] = Mem40[ds:0x29E5:word16]
	Mem44[ss:sp_25 - 0x06 + 0x00:word16] = Mem42[ds:0x29E3:word16]
	word16 si_46
	selector ds_47
	word16 ax_48 = fn0800_4194(fp - 0x02, ds, wArg00, wArg02, out si_46, out ds_47)
	word16 bx_50 = Mem44[ss:sp_25 - 0x02 + 0x00:word16]
	dx = Mem44[ss:sp_25 + 0x00:word16]
	branch bx_50 >=u dx l0800_5364
	goto l0800_51B3
l0800_5364:
	branch bx_50 != dx || dx >=u ax_48 l0800_536D
	goto l0800_51B3
l0800_5366:
l0800_536D:
	return ds_47
fn0800_51A9_exit:
}

word16 fn0800_5374(word16 bp, selector ds, ptr16 & dsOut)
{
	word16 si_20;
	word16 ax_21 = fn0800_AD2F(ds, DPB(ptrLoc16, Mem0[ds:0x29E3:word16], 0), Mem0[ds:0x29E5:word16], out si_20);
	Mem25[ss:fp - 0x0C + 0x00:word16] = dx;
	Mem27[ss:fp - 0x0E + 0x00:word16] = ax_21;
	Mem29[ss:fp - 0x14 + 0x00:word16] = Mem27[ds:0x29E5:word16];
	Mem31[ss:fp - 22 + 0x00:word16] = Mem29[ds:0x29E3:word16];
	selector ds_34;
	fn0800_3E5D(fp - 0x02, ds, wArg00, wArg02, out ds_34);
	Mem40[ds_34:0x2A21:word16] = ax_21 & 0x03;
	Mem42[ss:fp - 0x14 + 0x00:word16] = Mem40[ds_34:0x29E5:word16];
	Mem44[ss:fp - 22 + 0x00:word16] = Mem42[ds_34:0x29E3:word16];
	selector ds_45;
	word16 dx_46 = fn0800_3E5D(fp - 0x02, ds_34, wArg00, wArg02, out ds_45);
	Mem49[ds_45:0x2A09:word16] = dx_46;
	Mem50[ds_45:0x2A07:word16] = ax_21 & 0x03;
	word16 bp_239 = fp - 0x02;
	if (Mem50[ds_45:0x2A21:word16] != 0x00)
	{
		Mem98[ss:fp - 0x14 + 0x00:word16] = Mem50[ds_45:0x29E5:word16];
		Mem100[ss:fp - 22 + 0x00:word16] = Mem98[ds_45:0x29E3:word16];
		selector ds_101;
		word16 dx_102 = fn0800_3E5D(fp - 0x02, ds_45, wArg00, wArg02, out ds_101);
		Mem105[ds_101:0x2A05:word16] = dx_102;
		Mem106[ds_101:0x2A03:word16] = ax_21 & 0x03;
		Mem108[ss:fp - 0x14 + 0x00:word16] = Mem106[ds_101:0x29E5:word16];
		Mem110[ss:fp - 22 + 0x00:word16] = Mem108[ds_101:0x29E3:word16];
		word16 si_111;
		word16 di_112;
		selector ds_113;
		word16 ax_114 = fn0800_3E27(fp - 0x02, ds_101, wArg00, wArg02, out si_111, out di_112, out ds_113);
		Mem117[ds_113:11851:word16] = ax_114;
		Mem119[ss:fp - 0x14 + 0x00:word16] = Mem117[ds_113:0x29E5:word16];
		Mem121[ss:fp - 22 + 0x00:word16] = Mem119[ds_113:0x29E3:word16];
		word16 si_122;
		word16 di_123;
		selector ds_124;
		word16 ax_125 = fn0800_3E27(fp - 0x02, ds_113, wArg00, wArg02, out si_122, out di_123, out ds_124);
		Mem128[ds_124:11849:word16] = ax_125;
		Mem130[ss:fp - 0x14 + 0x00:word16] = Mem128[ds_124:0x29E5:word16];
		Mem132[ss:fp - 22 + 0x00:word16] = Mem130[ds_124:0x29E3:word16];
		word16 si_133;
		word16 di_134;
		selector ds_135;
		fn0800_3E27(fp - 0x02, ds_124, wArg00, wArg02, out si_133, out di_134, out ds_135);
		Mem140[ss:fp - 0x14 + 0x00:word16] = Mem132[ds_135:0x2A05:word16];
		Mem142[ss:fp - 22 + 0x00:word16] = Mem140[ds_135:0x2A03:word16];
		Mem144[ss:fp - 0x18 + 0x00:word16] = Mem142[ds_135:0x29E5:word16];
		Mem146[ss:fp - 0x1A + 0x00:word16] = Mem144[ds_135:0x29E3:word16];
		selector ds_147;
		word16 ax_148 = fn0800_2D0A(fp - 0x02, ds_135, out ds_147);
		if (ax_148 == Mem146[ds_147:11849:word16])
		{
			Mem161[ss:fp - 0x14 + 0x00:word16] = 0x01;
			Mem163[ss:fp - 22 + 0x00:word16] = 0x0F;
			selector ds_164 = fn0800_4311(ds_147, wArg00, wArg02);
			Mem167[ss:fp - 0x08 + 0x00:word16] = 0x0F;
			Mem168[ss:fp - 0x0A + 0x00:word16] = 0x01;
			Mem171[ds_164:11891:word16] = 0x10;
			Mem172[ds_164:11889:word16] = 0x00;
			Mem176[ss:fp - 0x14 + 0x00:word16] = 0x01;
			Mem178[ss:fp - 22 + 0x00:word16] = 0x0F;
			selector ds_179 = fn0800_4311(ds_164, wArg00, wArg02);
			Mem181[ss:fp - 0x04 + 0x00:word16] = 0x0F;
			Mem182[ss:fp - 0x06 + 0x00:word16] = 0x01;
			Mem184[ds_179:11867:word16] = 0x10;
			Mem185[ds_179:11865:word16] = 0x00;
			word16 dx_187 = Mem185[ds_179:11889:word16];
			Mem189[ds_179:11887:word16] = Mem185[ds_179:11891:word16];
			Mem190[ds_179:11885:word16] = dx_187 + ~0x02;
			word16 dx_193 = Mem190[ds_179:11865:word16] + Mem190[ds_179:11825:word16];
			Mem194[ds_179:11863:word16] = Mem190[ds_179:11867:word16];
			Mem195[ds_179:11861:word16] = dx_193;
			Mem196[ds_179:11853:word16] = 0x00;
			Mem200[ds_179:11845:word16] = 0x00;
			Mem201[ds_179:0x29FD:word16] = 0x00;
			Mem202[ds_179:10747:word16] = 0x00;
			Mem203[ds_179:0x2A01:word16] = 0x00;
			Mem204[ds_179:0x29FF:word16] = 0x00;
			Mem206[ss:fp - 0x10 + 0x00:word16] = Mem204[ds_179:11855:word16];
			Mem209[ss:fp - 0x14 + 0x00:word16] = 0x01;
			word16 sp_213 = fp - 0x12;
			word16 si_210;
			selector ds_211;
			if (fn0800_5C1A(ds_179, wArg00, out si_210, out ds_211) != 0x00 && (Mem209[ds_211:0x2A25:word16] != 0x02 && Mem209[ds_211:0x2A25:word16] != 0x07))
				si_210 = 0x0A;
			word16 si_220 = si_210;
			if (si_210 == 0x00)
			{
				Mem325[ss:fp - 0x14 + 0x00:word16] = 0x01;
				sp_213 = fp - 0x12;
				if (fn0800_5C1A(ds_211, wArg00, out si_220, out ds_211) != 0x00)
				{
					if (Mem325[ds_211:0x2A23:word16] != 0x01)
					{
						Mem348[ss:fp - 0x14 + 0x00:word16] = 0x10;
						word16 ax_351 = fn0800_5C1A(ds_211, wArg00, out si_220, out ds_211);
						sp_213 = fp - 0x12;
						if (Mem348[ds_211:0x2A25:word16] == 0x02 && Mem348[ds_211:11855:word16] == 0x00)
							Mem365[ds_211:11855:word16] = ax_351;
						if (Mem348[ds_211:11855:word16] != ax_351 && Mem348[ds_211:11855:word16] != 0x00)
							si_220 = 0x0C;
					}
					if (Mem325[ds_211:11855:word16] == 0x00)
						si_220 = 11;
				}
				else
					Mem366[ds_211:11855:word16] = 0x00;
			}
			word16 si_232 = si_220;
			if (si_220 == 0x00)
			{
				word16 ax_312 = Mem209[ds_211:0x2A21:word16];
				if (ax_312 != 0x01)
					if (ax_312 == 0x02)
					{
						bp_239 = fn0800_579B(ds_211, out ds_211);
						si_232 = ax_312;
					}
				else
				{
					ds_211 = fn0800_55E8(fp - 0x02, ds_211);
					si_232 = ax_312;
				}
			}
			Mem241[ds_211:11855:word16] = Mem209[ss:bp_239 - 0x0E + 0x00:word16];
			word16 sp_242 = sp_213 - 0x02;
			Mem243[ss:sp_242 + 0x00:word16] = Mem241[ss:bp_239 - 0x06 + 0x00:word16];
			Mem245[ss:sp_242 - 0x02 + 0x00:word16] = Mem243[ss:bp_239 - 0x08 + 0x00:word16];
			selector ds_246;
			fn0800_4346(ds_211, wArg00, wArg02, out ds_246);
			Mem251[ss:sp_242 + 0x00:word16] = Mem245[ss:bp_239 - 0x02 + 0x00:word16];
			Mem253[ss:sp_242 - 0x02 + 0x00:word16] = Mem251[ss:bp_239 - 0x04 + 0x00:word16];
			selector ds_254;
			fn0800_4346(ds_246, wArg00, wArg02, out ds_254);
			word16 v13_257 = Mem253[ds_254:0x2A03:word16] + 0x12;
			Mem258[ds_254:0x2A03:word16] = v13_257;
			Mem262[ds_254:0x2A05:word16] = Mem258[ds_254:0x2A05:word16] + (v13_257 <u 0x00);
			Mem265[ss:sp_242 + 0x00:word16] = 0x00;
			word16 dx_268 = Mem265[ss:bp_239 - 0x0C + 0x00:word16] + Mem265[ds_254:0x2A03:word16];
			Mem274[ss:sp_242 - 0x02 + 0x00:word16] = Mem265[ss:bp_239 - 0x0A + 0x00:word16] + Mem265[ds_254:0x2A05:word16] + (dx_268 <u 0x00);
			Mem276[ss:sp_242 - 0x04 + 0x00:word16] = dx_268;
			Mem278[ss:sp_242 - 0x06 + 0x00:word16] = Mem276[ds_254:0x29E5:word16];
			Mem280[ss:sp_242 - 0x08 + 0x00:word16] = Mem278[ds_254:0x29E3:word16];
			selector ds_282;
			fn0800_ACB3(bp_239, ds_254, ptrArg00, wArg02, wArg08, out ds_282);
			if (si_232 == 0x00)
				if (Mem280[ds_282:11853:word16] == Mem280[ds_282:11851:word16])
					return 0x00;
				else
					return 0x06;
			else
				return si_232;
		}
		else
			return 0x05;
	}
	else
	{
		Mem68[ss:fp - 0x14 + 0x00:word16] = Mem50[ds_45:0x2A09:word16];
		Mem70[ss:fp - 22 + 0x00:word16] = ax_21 & 0x03;
		Mem72[ss:fp - 0x18 + 0x00:word16] = Mem70[ds_45:10721:word16];
		Mem74[ss:fp - 0x1A + 0x00:word16] = Mem72[ds_45:10719:word16];
		Mem76[ss:fp - 0x1C + 0x00:word16] = Mem74[ds_45:0x29E5:word16];
		Mem78[ss:fp - 0x1E + 0x00:word16] = Mem76[ds_45:0x29E3:word16];
		selector ds_81 = fn0800_3B0A(fp - 0x02, ds_45, wArg08, wArg0A);
		*dsOut = ds_81;
		word16 dx_84 = Mem78[ds_81:0x2A07:word16];
		Mem85[ds_81:0x2A05:word16] = Mem78[ds_81:0x2A09:word16];
		Mem86[ds_81:0x2A03:word16] = dx_84;
		return 0x00;
	}
}

selector fn0800_55E8(word16 bp, selector ds)
{
fn0800_55E8_entry:
	word16 sp_111 = fp - 0x06
	goto l0800_574B
l0800_55E8:
l0800_55F1:
	word16 sp_49 = sp_111 - 0x02
	Mem50[ss:sp_49 + 0x00:word16] = 0x10
	Mem53[ss:sp_49 - 0x02 + 0x00:word16] = ds
	Mem56[ss:sp_49 - 0x04 + 0x00:word16] = 10511
	selector ds_60 = fn0800_5A24(fp - 0x02, ds, wArg00, wArg02, wArg04)
	Mem65[ss:sp_49 + 0x00:word16] = 0x10
	Mem67[ss:sp_49 - 0x02 + 0x00:word16] = ds_60
	Mem70[ss:sp_49 - 0x04 + 0x00:word16] = 10319
	selector ds_71 = fn0800_5A24(fp - 0x02, ds_60, wArg00, wArg02, wArg04)
	Mem76[ss:sp_49 + 0x00:word16] = 0x10
	Mem78[ss:sp_49 - 0x02 + 0x00:word16] = ds_71
	Mem81[ss:sp_49 - 0x04 + 0x00:word16] = 10127
	selector ds_82 = fn0800_5A24(fp - 0x02, ds_71, wArg00, wArg02, wArg04)
	Mem87[ss:sp_49 + 0x00:word16] = 0x10
	word16 ax_89 = fn0800_5C39(fp - 0x02, ds_82, wArg00, out ds)
	Mem92[ss:fp - 0x04 + 0x00:word16] = 0x00
	Mem93[ss:fp - 0x06 + 0x00:word16] = ax_89
	sp_111 = sp_49 + 0x02
	goto l0800_5736
l0800_5633:
l0800_5656:
	word16 si_330
	word16 di_331
	selector ds_332
	byte al_333 = fn0800_5B15(fp - 0x02, ds, out si_330, out di_331, out ds_332)
	word16 sp_338 = sp_111 - 0x02
	Mem339[ss:sp_338 + 0x00:word16] = DPB(ax_236, al_333 ^ Mem238[ds_332:11855:byte], 0)
	ds = fn0800_5D2F(fp - 0x02, ds_332)
	sp_111 = sp_338 + 0x02
l0800_5664:
	word16 ax_236 = Mem149[ds:11847:word16]
	Mem238[ds:11847:word16] = Mem149[ds:11847:word16] - 0x01
	word16 ax_239 = ax_236
	branch ax_236 != 0x00 l0800_5656
l0800_566F:
	branch (Mem238[ds:11855:word16] & 0x01) == 0x00 l0800_5684
l0800_5677:
	ax_239 = Mem238[ds:11855:word16] >>u 0x01 | 0x8000
	Mem326[ds:11855:word16] = ax_239
	goto l0800_5688
l0800_5684:
	Mem328[ds:11855:word16] = Mem238[ds:11855:word16] >>u 0x01
l0800_5688:
	word16 sp_250 = sp_111 - 0x02
	Mem251[ss:sp_250 + 0x00:word16] = DPB(ax_239, 0x00, 8)
	word16 dx_255 = DPB(dx_124, 0x00, 8)
	word16 dx_263 = Mem251[ss:sp_250 + 0x00:word16] + (dx_255 << 0x08 <u 0x00)
	Mem268[ss:sp_250 + 0x00:word16] = dx_255 << 0x08
	Mem271[ss:sp_250 - 0x02 + 0x00:word16] = dx_263
	int32 dx_ax_272 = (int32) DPB(bx, 0x00, 8)
	word16 ax_273 = (word16) dx_ax_272
	int32 dx_ax_285 = SEQ(Mem271[ss:sp_250 - 0x02 + 0x00:word16], Mem271[ss:sp_250 + 0x00:word16] + ax_273) + SEQ(SLICE(dx_ax_272, word16, 16), ax_273)
	word16 dx_290
	Mem293[ss:sp_250 + 0x00:word16] = fn0800_8C69((word16) dx_ax_285, Mem271[ds:11845:byte], SLICE(dx_ax_285, word16, 16), bp, out dx_290)
	word16 ax_296 = 0x01 << Mem293[ds:11845:byte]
	Mem299[ss:sp_250 - 0x02 + 0x00:word16] = dx_290
	int32 dx_ax_300 = (int32) (ax_296 - 0x01)
	word16 cx_305 = Mem299[ds:10747:word16] & (word16) dx_ax_300
	bx = Mem299[ds:0x29FD:word16] & SLICE(dx_ax_300, word16, 16)
	ui32 ax_dx_315 = SEQ(Mem299[ss:sp_250 - 0x02 + 0x00:word16], Mem299[ss:sp_250 + 0x00:word16] + cx_305) + SEQ(bx, cx_305)
	Mem319[ds:0x29FD:word16] = SLICE(ax_dx_315, word16, 16)
	Mem320[ds:10747:word16] = (word16) ax_dx_315
	sp_111 = sp_250 + 0x02
l0800_56E6:
	branch (Mem149[ss:fp - 0x06 + 0x00:word16] | Mem149[ss:(fp - 0x04) + 0x00:word16]) == 0x00 l0800_574B
l0800_56EE:
	word16 sp_175 = sp_111 - 0x02
	Mem176[ss:sp_175 + 0x00:word16] = ds
	Mem179[ss:sp_175 - 0x02 + 0x00:word16] = 10319
	selector ds_180
	word16 ax_181 = fn0800_5A8D(fp - 0x02, ds, wArg00, wArg02, out ds_180)
	Mem186[ds_180:11819:word16] = ax_181 + 0x01
	Mem188[ss:sp_175 + 0x00:word16] = ds_180
	Mem191[ss:sp_175 - 0x02 + 0x00:word16] = 10127
	word16 ax_193 = fn0800_5A8D(fp - 0x02, ds_180, wArg00, wArg02, out ds)
	Mem196[ds:11817:word16] = ax_193 + 0x02
	word16 v16_197 = Mem196[ds:0x29FF:word16] + (ax_193 + 0x02)
	Mem198[ds:0x29FF:word16] = v16_197
	Mem202[ds:0x2A01:word16] = Mem198[ds:0x2A01:word16] + (v16_197 <u 0x00)
	sp_111 = sp_175 + 0x02
	goto l0800_572B
l0800_5719:
	ptr32 es_bx_218 = Mem213[ds:11861:segptr32]
	bx = (word16) es_bx_218 - Mem213[ds:11819:word16]
	word16 sp_225 = sp_111 - 0x02
	Mem226[ss:sp_225 + 0x00:word16] = DPB(ax_211, Mem213[SLICE(es_bx_218, selector, 16):bx + 0x00:byte], 0)
	ds = fn0800_5D2F(fp - 0x02, ds)
	sp_111 = sp_225 + 0x02
l0800_572B:
	word16 ax_211 = Mem202[ds:11817:word16]
	Mem213[ds:11817:word16] = Mem202[ds:11817:word16] - 0x01
	branch ax_211 != 0x00 l0800_5719
l0800_5736:
	word16 ax_112 = Mem93[ss:fp - 0x06 + 0x00:word16]
	word16 dx_113 = Mem93[ss:fp - 0x04 + 0x00:word16]
	word16 v11_114 = Mem93[ss:fp - 0x06 + 0x00:word16] - 0x01
	Mem115[ss:fp - 0x06 + 0x00:word16] = v11_114
	Mem119[ss:fp - 0x04 + 0x00:word16] = Mem115[ss:fp - 0x04 + 0x00:word16] - (v11_114 <u 0x00)
	branch (ax_112 | dx_113) == 0x00 l0800_574B
	word16 ax_123 = Mem119[ss:fp - 0x06 + 0x00:word16]
	word16 dx_124 = Mem119[ss:fp - 0x04 + 0x00:word16]
	word16 v20_125 = Mem119[ss:fp - 0x06 + 0x00:word16] - 0x01
	Mem126[ss:fp - 0x06 + 0x00:word16] = v20_125
	Mem130[ss:fp - 0x04 + 0x00:word16] = Mem126[ss:fp - 0x04 + 0x00:word16] - (v20_125 <u 0x00)
	branch (ax_123 | dx_124) == 0x00 l0800_574B
l0800_5748:
	word16 sp_135 = sp_111 - 0x02
	Mem136[ss:sp_135 + 0x00:word16] = ds
	Mem139[ss:sp_135 - 0x02 + 0x00:word16] = 10511
	word16 ax_141 = fn0800_5A8D(fp - 0x02, ds, wArg00, wArg02, out ds)
	Mem143[ds:11847:word16] = ax_141
	word16 v14_144 = Mem143[ds:0x29FF:word16] + ax_141
	Mem145[ds:0x29FF:word16] = v14_144
	Mem149[ds:0x2A01:word16] = Mem145[ds:0x2A01:word16] + (v14_144 <u 0x00)
	sp_111 = sp_135 + 0x02
	branch Mem149[ds:11847:word16] != 0x00 l0800_5654
	goto l0800_56E6
l0800_574B:
	word16 ax_37 = Mem0[ds:0x2A01:word16]
	word16 dx_38 = Mem0[ds:0x29FF:word16]
	branch ax_37 >=u Mem0[ds:0x2A09:word16] l0800_575B
	goto l0800_55F1
l0800_575B:
	branch ax_37 != Mem0[ds:0x2A09:word16] || dx_38 >=u Mem0[ds:0x2A07:word16] l0800_5766
	goto l0800_55F1
l0800_575D:
l0800_5766:
	word16 sp_343 = sp_111 - 0x02
	Mem344[ss:sp_343 + 0x00:word16] = Mem0[ds:10721:word16]
	Mem346[ss:sp_343 - 0x02 + 0x00:word16] = Mem344[ds:10719:word16]
	word16 ax_349 = Mem346[ds:11861:word16] - Mem346[ds:11865:word16]
	word16 ax_353 = ax_349 - Mem346[ds:11825:word16]
	Mem358[ss:sp_343 - 0x04 + 0x00:word16] = 0x00 - (ax_349 <u 0x00) - (ax_353 <u 0x00)
	Mem360[ss:sp_343 - 0x06 + 0x00:word16] = ax_353
	word16 ax_362 = Mem360[ds:11865:word16] + Mem360[ds:11825:word16]
	Mem365[ss:sp_343 - 0x08 + 0x00:word16] = Mem360[ds:11867:word16]
	Mem367[ss:sp_343 - 0x0A + 0x00:word16] = ax_362
	return fn0800_4152(ds, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A)
fn0800_55E8_exit:
}

word16 fn0800_579B(selector ds, ptr16 & dsOut)
{
fn0800_579B_entry:
	word16 sp_114 = fp
	goto l0800_58F2
l0800_579B:
l0800_579E:
	word16 si_251
	word16 di_252
	selector ds_253
	byte al_254 = fn0800_5B15(bp, ds_46, out si_251, out di_252, out ds_253)
	Mem260[ss:sp_42 + 0x00:word16] = DPB(ax_47, al_254 ^ Mem43[ds_253:11855:byte], 0)
	ds = fn0800_5D2F(bp, ds_253)
	sp_114 = sp_42 + 0x02
	branch (Mem260[ds:11855:word16] & 0x01) == 0x00 l0800_57C1
l0800_57B4:
	Mem280[ds:11855:word16] = Mem260[ds:11855:word16] >>u 0x01 | 0x8000
	goto l0800_57C5
l0800_57C1:
	Mem282[ds:11855:word16] = Mem260[ds:11855:word16] >>u 0x01
l0800_57C5:
	word16 v16_268 = Mem260[ds:0x29FF:word16] + 0x01
	Mem269[ds:0x29FF:word16] = v16_268
	Mem273[ds:0x2A01:word16] = Mem269[ds:0x2A01:word16] + (v16_268 <u 0x00)
l0800_57CF:
	word16 sp_42 = sp_114 - 0x02
	Mem43[ss:sp_42 + 0x00:word16] = 0x01
	selector ds_46
	word16 ax_47 = fn0800_5CD9(ds, wArg00, out ds_46)
	branch ax_47 == 0x00 l0800_579E
l0800_57DD:
	Mem55[ss:sp_42 + 0x00:word16] = 0x01
	sp_114 = sp_42 + 0x02
	selector ds_56
	branch fn0800_5CD9(ds_46, wArg00, out ds_56) == 0x00 l0800_5866
l0800_57EB:
	Mem65[ss:sp_42 + 0x00:word16] = 0x01
	selector ds_66
	word16 ax_67 = fn0800_5CD9(ds_56, wArg00, out ds_66)
	sp_114 = sp_42 + 0x02
	branch ax_67 != 0x00 l0800_580A
l0800_57F9:
	Mem116[ds_66:11817:word16] = 0x02
	word16 si_117
	word16 di_118
	fn0800_5B15(bp, ds_66, out si_117, out di_118, out ds)
	Mem125[ds:11819:word16] = DPB(ax_67, 0x00, 8) + 0x01
	goto l0800_5838
l0800_580A:
	Mem128[ss:sp_42 + 0x00:word16] = 0x01
	selector ds_129
	word16 ax_130 = fn0800_5CD9(ds_66, wArg00, out ds_129)
	sp_114 = sp_42 + 0x02
	branch ax_130 != 0x00 l0800_5820
l0800_5818:
	Mem146[ds_129:11817:word16] = 0x03
	goto l0800_5835
l0800_5820:
	word16 si_147
	word16 di_148
	fn0800_5B15(bp, ds_129, out si_147, out di_148, out ds_129)
	Mem154[ds_129:11817:word16] = DPB(ax_130, 0x00, 8) + 0x08
	branch Mem154[ds_129:11817:word16] != 0x08 l0800_5835
l0800_5832:
	Mem159[ss:sp_42 + 0x00:word16] = 0x01
	fn0800_5CD9(ds_129, wArg00, out ds)
	sp_114 = sp_42 + 0x02
	goto l0800_58F2
l0800_5835:
	bp = fn0800_5975(ds_129, out ds)
l0800_5838:
	word16 v13_83 = Mem65[ds:0x29FF:word16] + Mem65[ds:11817:word16]
	Mem84[ds:0x29FF:word16] = v13_83
	Mem88[ds:0x2A01:word16] = Mem84[ds:0x2A01:word16] + (v13_83 <u 0x00)
	goto l0800_5858
l0800_5846:
	ptr32 es_bx_104 = Mem99[ds:11861:segptr32]
	word16 sp_111 = sp_114 - 0x02
	Mem112[ss:sp_111 + 0x00:word16] = DPB(ax_97, Mem99[SLICE(es_bx_104, selector, 16):(word16) es_bx_104 - Mem99[ds:11819:word16] + 0x00:byte], 0)
	ds = fn0800_5D2F(bp, ds)
	sp_114 = sp_111 + 0x02
l0800_5858:
	word16 ax_97 = Mem88[ds:11817:word16]
	Mem99[ds:11817:word16] = Mem88[ds:11817:word16] - 0x01
	branch ax_97 != 0x00 l0800_5846
	goto l0800_57CF
l0800_5866:
	selector ds_164 = fn0800_593F(ds_56)
	branch Mem55[ds_164:11817:word16] != 0x09 l0800_58B7
l0800_5870:
	bp = fn0800_5A0F(ds_164, out ds)
	word16 v22_170 = Mem55[ds:0x29FF:word16] + Mem55[ds:11847:word16]
	Mem171[ds:0x29FF:word16] = v22_170
	Mem175[ds:0x2A01:word16] = Mem171[ds:0x2A01:word16] + (v22_170 <u 0x00)
	goto l0800_588F
l0800_5881:
	word16 si_202
	word16 di_203
	selector ds_204
	byte al_205 = fn0800_5B15(bp, ds, out si_202, out di_203, out ds_204)
	word16 sp_210 = sp_114 - 0x02
	Mem211[ss:sp_210 + 0x00:word16] = DPB(ax_183, al_205 ^ Mem185[ds_204:11855:byte], 0)
	ds = fn0800_5D2F(bp, ds_204)
	sp_114 = sp_210 + 0x02
l0800_588F:
	word16 ax_183 = Mem175[ds:11847:word16]
	Mem185[ds:11847:word16] = Mem175[ds:11847:word16] - 0x01
	branch ax_183 != 0x00 l0800_5881
l0800_589A:
	branch (Mem185[ds:11855:word16] & 0x01) == 0x00 l0800_58B0
l0800_58A2:
	Mem198[ds:11855:word16] = Mem185[ds:11855:word16] >>u 0x01 | 0x8000
	goto l0800_57CF
l0800_58B0:
	Mem200[ds:11855:word16] = Mem185[ds:11855:word16] >>u 0x01
	goto l0800_57CF
l0800_58B7:
	bp = fn0800_5975(ds_164, out ds)
	word16 v25_218 = Mem55[ds:0x29FF:word16] + Mem55[ds:11817:word16]
	Mem219[ds:0x29FF:word16] = v25_218
	Mem223[ds:0x2A01:word16] = Mem219[ds:0x2A01:word16] + (v25_218 <u 0x00)
	goto l0800_58DA
l0800_58C8:
	ptr32 es_bx_239 = Mem234[ds:11861:segptr32]
	word16 sp_246 = sp_114 - 0x02
	Mem247[ss:sp_246 + 0x00:word16] = DPB(ax_232, Mem234[SLICE(es_bx_239, selector, 16):(word16) es_bx_239 - Mem234[ds:11819:word16] + 0x00:byte], 0)
	ds = fn0800_5D2F(bp, ds)
	sp_114 = sp_246 + 0x02
l0800_58DA:
	word16 ax_232 = Mem223[ds:11817:word16]
	Mem234[ds:11817:word16] = Mem223[ds:11817:word16] - 0x01
	branch ax_232 != 0x00 l0800_58C8
	goto l0800_57CF
l0800_58E8:
l0800_58F2:
	word16 ax_23 = Mem0[ds:0x2A01:word16]
	word16 dx_24 = Mem0[ds:0x29FF:word16]
	branch ax_23 >=u Mem0[ds:0x2A09:word16] l0800_5902
	goto l0800_57CF
l0800_5902:
	branch ax_23 != Mem0[ds:0x2A09:word16] || dx_24 >=u Mem0[ds:0x2A07:word16] l0800_590D
	goto l0800_57CF
l0800_5904:
l0800_590D:
	word16 sp_284 = sp_114 - 0x02
	Mem285[ss:sp_284 + 0x00:word16] = Mem0[ds:10721:word16]
	Mem287[ss:sp_284 - 0x02 + 0x00:word16] = Mem285[ds:10719:word16]
	word16 ax_290 = Mem287[ds:11861:word16] - Mem287[ds:11865:word16]
	word16 ax_294 = ax_290 - Mem287[ds:11825:word16]
	Mem299[ss:sp_284 - 0x04 + 0x00:word16] = 0x00 - (ax_290 <u 0x00) - (ax_294 <u 0x00)
	Mem301[ss:sp_284 - 0x06 + 0x00:word16] = ax_294
	word16 ax_303 = Mem301[ds:11865:word16] + Mem301[ds:11825:word16]
	Mem306[ss:sp_284 - 0x08 + 0x00:word16] = Mem301[ds:11867:word16]
	Mem308[ss:sp_284 - 0x0A + 0x00:word16] = ax_303
	*dsOut = fn0800_4152(ds, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A)
	return bp
fn0800_579B_exit:
}

selector fn0800_593F(selector ds)
{
	selector ds_7;
	word16 ax_8 = fn0800_5CD9(ds, 0x01, out ds_7);
	Mem12[ds_7:11817:word16] = ax_8 + 0x04;
	Mem15[ss:fp - 0x02 + 0x00:word16] = 0x01;
	selector ds_18;
	if (fn0800_5CD9(ds_7, wArg00, out ds_18) != 0x00)
	{
		Mem33[ss:fp - 0x02 + 0x00:word16] = 0x01;
		word16 ax_35 = fn0800_5CD9(ds_18, wArg00, out ds_18);
		Mem42[ds_18:11817:word16] = (Mem33[ds_18:11817:word16] - 0x01 << 0x01) + ax_35;
	}
	return ds_18;
}

word16 fn0800_5975(selector ds, ptr16 & dsOut)
{
	Mem3[ds:11819:word16] = 0x00;
	selector ds_18;
	word16 ax_9 = fn0800_5CD9(ds, 0x01, out ds_18);
	word16 ax_11 = ax_9;
	if (ax_9 != 0x00)
	{
		Mem38[ss:fp - 0x02 + 0x00:word16] = 0x01;
		selector ds_41;
		word16 ax_42 = fn0800_5CD9(ds_18, wArg00, out ds_41);
		Mem45[ds_41:11819:word16] = ax_42;
		Mem48[ss:fp - 0x02 + 0x00:word16] = 0x01;
		word16 ax_50 = fn0800_5CD9(ds_41, wArg00, out ds_18);
		ax_11 = ax_50;
		if (ax_50 != 0x00)
		{
			Mem58[ss:fp - 0x02 + 0x00:word16] = 0x01;
			selector ds_59;
			word16 ax_60 = fn0800_5CD9(ds_18, wArg00, out ds_59);
			Mem68[ds_59:11819:word16] = (Mem58[ds_59:11819:word16] << 0x01) + ax_60 | 0x04;
			Mem71[ss:fp - 0x02 + 0x00:word16] = 0x01;
			word16 ax_73 = fn0800_5CD9(ds_59, wArg00, out ds_18);
			ax_11 = ax_73;
			if (ax_73 == 0x00)
			{
				Mem81[ss:fp - 0x02 + 0x00:word16] = 0x01;
				ax_11 = fn0800_5CD9(ds_18, wArg00, out ds_18);
				Mem89[ds_18:11819:word16] = (Mem81[ds_18:11819:word16] << 0x01) + ax_11;
			}
		}
		else if (Mem48[ds_18:11819:word16] == 0x00)
		{
			Mem94[ss:fp - 0x02 + 0x00:word16] = 0x01;
			word16 ax_96 = fn0800_5CD9(ds_18, wArg00, out ds_18);
			Mem100[ds_18:11819:word16] = ax_96 + 0x02;
			ax_11 = ax_96 + 0x02;
		}
	}
	word16 si_21;
	word16 di_22;
	selector ds_23;
	fn0800_5B15(bp, ds_18, out si_21, out di_22, out ds_23);
	Mem34[ds_23:11819:word16] = (Mem3[ds_23:11819:word16] << 0x08) + DPB(ax_11, 0x00, 8) + 0x01;
	return bp;
}

word16 fn0800_5A0F(selector ds, ptr16 & dsOut)
{
	selector ds_7;
	word16 ax_12 = (fn0800_5CD9(ds, 0x04, out ds_7) << 0x02) + 0x0C;
	Mem14[ds_7:11847:word16] = ax_12;
	return bp;
}

selector fn0800_5A24(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06)
{
	fn0800_43D4(wArg02, wArg04, wArg06);
	selector ds_28;
	word16 ax_29 = fn0800_5C39(fp - 0x02, ds, 0x05, out ds_28);
	Mem31[ss:fp + 0x06:word16] = ax_29;
	word16 sp_30 = fp - 0x06;
	if (ax_29 != 0x00)
	{
		if (Mem31[ss:fp + 0x06:word16] >u 0x10)
			Mem91[ss:fp + 0x06:word16] = 0x10;
		word16 di_54 = 0x00;
		word16 si_56 = Mem31[ss:fp + 0x02:word16] + 0x0A;
		if (0x00 <u Mem31[ss:fp + 0x06:word16])
			do
			{
				word16 sp_79 = sp_30 - 0x02;
				Mem80[ss:sp_79 + 0x00:word16] = 0x04;
				Mem86[Mem80[ss:fp + 0x04:selector]:si_56 + 0x00:word16] = fn0800_5C39(fp - 0x02, ds_28, wArg00, out ds_28);
				sp_30 = sp_79 + 0x02;
				si_56 = si_56 + 0x0C;
				di_54 = di_54 + 0x01;
			} while (di_54 <u Mem86[ss:fp + 0x06:word16]);
		word16 sp_66 = sp_30 - 0x02;
		Mem67[ss:sp_66 + 0x00:word16] = Mem31[ss:fp + 0x06:word16];
		Mem69[ss:sp_66 - 0x02 + 0x00:word16] = Mem67[ss:fp + 0x04:word16];
		Mem71[ss:sp_66 - 0x04 + 0x00:word16] = Mem69[ss:fp + 0x02:word16];
		fn0800_4550(fp - 0x02);
	}
	return ds_28;
}

word16 fn0800_5A8D(word16 bp, selector ds, word16 wArg02, selector psegArg04, ptr16 & dsOut)
{
fn0800_5A8D_entry:
	word16 wLoc04_15 = 0x00
	word16 di_17 = wArg02
	goto l0800_5AA5
l0800_5A8D:
l0800_5A9F:
	di_17 = di_17 + 0x0C
	wLoc04_15 = wLoc04_15 + 0x01
l0800_5AA5:
	branch Mem0[psegArg04:di_17 + 0x0A:word16] == 0x00 l0800_5A9F
l0800_5AAF:
	int32 dx_ax_55 = (int32) ((0x01 << Mem0[psegArg04:di_17 + 0x0A:byte]) - 0x01)
	word16 cx_61 = Mem0[ds:10747:word16] & (word16) dx_ax_55
	branch (Mem0[ds:0x29FD:word16] & SLICE(dx_ax_55, word16, 16)) != Mem0[psegArg04:di_17 + 0x08:word16] || cx_61 != Mem0[psegArg04:di_17 + 0x06:word16] l0800_5A9F
	goto l0800_5AD2
l0800_5ACC:
l0800_5AD2:
	selector ds_77
	fn0800_5C39(fp - 0x02, ds, Mem0[psegArg04:wArg02 + (word16) (wLoc04_15 *s 0x0C) + 0x0A:word16], out ds_77)
	branch Mem0[ss:fp - 0x04 + 0x00:word16] >=u 0x02 l0800_5AF8
l0800_5AEF:
	return Mem0[ss:fp - 0x04 + 0x00:word16]
l0800_5AF8:
	Mem107[ss:fp - 0x0A + 0x00:word16] = Mem0[ss:fp - 0x04 + 0x00:word16] - 0x01
	selector ds_109
	return fn0800_5C39(fp - 0x02, ds_77, wArg00, out ds_109) | 0x01 << Mem107[ss:(fp - 0x04) + 0x00:byte] - 0x01
fn0800_5A8D_exit:
}

byte fn0800_5B15(word16 bp, selector ds, ptr16 & siOut, ptr16 & diOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*diOut = di;
	*siOut = si;
	word16 dx_11 = Mem0[ds:11889:word16];
	if (Mem0[ds:11891:word16] == Mem0[ds:11887:word16])
		if (dx_11 + ~0x02 == Mem0[ds:11885:word16])
		{
			word16 ax_100;
			word16 dx_196;
			word16 si_62;
			selector ds_63;
			Mem68[ss:fp - 0x0C + 0x00:word16] = fn0800_4194(fp - 0x02, ds, Mem0[ds:0x29E3:word16], Mem0[ds:0x29E5:word16], out si_62, out ds_63);
			Mem70[ss:fp - 0x0E + 0x00:word16] = dx_11 + ~0x02;
			Mem72[ss:fp - 0x10 + 0x00:word16] = Mem70[ds_63:0x29E5:word16];
			Mem74[ss:fp - 0x12 + 0x00:word16] = Mem72[ds_63:0x29E3:word16];
			word16 si_77;
			word16 ax_78 = fn0800_AD2F(ds_63, ptrArg00, wArg02, out si_77);
			ui32 bx_cx_88 = SEQ(Mem74[ss:fp - 0x0E + 0x00:word16], Mem74[ss:fp - 0x0C + 0x00:word16] - ax_78) - SEQ(dx_11 + ~0x02, ax_78);
			Mem91[ss:fp - 0x04 + 0x00:word16] = SLICE(bx_cx_88, word16, 16);
			Mem92[ss:fp - 0x06 + 0x00:word16] = (word16) bx_cx_88;
			if (Mem92[ss:fp - 0x04 + 0x00:word16] >=u 0x00 && (Mem92[ss:(fp - 0x04) + 0x00:word16] >u 0x00 || Mem92[ss:(fp - 0x06) + 0x00:word16] >u ~0x02))
			{
				dx_196 = 0x00;
				ax_100 = ~0x02;
			}
			else
			{
				dx_196 = Mem92[ss:fp - 0x04 + 0x00:word16];
				ax_100 = Mem92[ss:fp - 0x06 + 0x00:word16];
			}
			Mem101[ss:fp - 0x08 + 0x00:word16] = dx_196;
			Mem102[ss:fp - 0x0A + 0x00:word16] = ax_100;
			Mem104[ss:fp - 0x0C + 0x00:word16] = Mem102[ds_63:0x29E5:word16];
			Mem106[ss:fp - 0x0E + 0x00:word16] = Mem104[ds_63:0x29E3:word16];
			Mem108[ss:fp - 0x10 + 0x00:word16] = Mem106[ss:fp - 0x08 + 0x00:word16];
			Mem110[ss:fp - 0x12 + 0x00:word16] = ax_100;
			word16 ax_111 = Mem110[ds_63:11891:word16];
			word16 dx_112 = Mem110[ds_63:11889:word16];
			Mem113[ds_63:11887:word16] = ax_111;
			Mem114[ds_63:11885:word16] = dx_112;
			Mem116[ss:fp - 0x14 + 0x00:word16] = ax_111;
			Mem118[ss:fp - 22 + 0x00:word16] = dx_112;
			word16 di_124;
			selector ds_125;
			fn0800_4110(ds_63, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A, out di_124, out ds_125);
			word16 ax_128 = Mem118[ss:fp - 0x08 + 0x00:word16];
			word16 v19_130 = Mem118[ss:fp - 0x06 + 0x00:word16] - Mem118[ss:(fp - 0x0A) + 0x00:word16];
			Mem131[ss:fp - 0x06 + 0x00:word16] = v19_130;
			word16 dx_134 = Mem131[ss:fp - 0x06 + 0x00:word16];
			Mem136[ss:fp - 0x04 + 0x00:word16] = Mem131[ss:fp - 0x04 + 0x00:word16] - ax_128 - (v19_130 <u 0x00);
			if (true && (false || dx_134 >u 0x02))
			{
				Mem190[ss:fp - 0x04 + 0x00:word16] = 0x00;
				Mem191[ss:fp - 0x06 + 0x00:word16] = 0x02;
			}
			Mem148[ss:fp - 0x0C + 0x00:word16] = Mem136[ds_125:0x29E5:word16];
			Mem150[ss:fp - 0x0E + 0x00:word16] = Mem148[ds_125:0x29E3:word16];
			Mem152[ss:fp - 0x10 + 0x00:word16] = Mem150[ss:fp - 0x04 + 0x00:word16];
			Mem154[ss:fp - 0x12 + 0x00:word16] = Mem152[ss:fp - 0x06 + 0x00:word16];
			word16 ax_156 = Mem154[ds_125:11889:word16] + Mem154[ss:(fp - 0x0A) + 0x00:word16];
			Mem159[ss:fp - 0x14 + 0x00:word16] = Mem154[ds_125:11891:word16];
			Mem161[ss:fp - 22 + 0x00:word16] = ax_156;
			word16 di_162;
			selector ds_163;
			*siOut = fn0800_4110(ds_125, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A, out di_162, out ds_163);
			Mem168[ss:fp - 0x0C + 0x00:word16] = 0x01;
			word16 dx_172 = -Mem168[ss:fp - 0x06 + 0x00:word16];
			Mem177[ss:fp - 0x0E + 0x00:word16] = -Mem168[ss:fp - 0x04 + 0x00:word16] - (dx_172 == 0x00);
			Mem179[ss:fp - 0x10 + 0x00:word16] = dx_172;
			Mem181[ss:fp - 0x12 + 0x00:word16] = Mem179[ds_163:0x29E5:word16];
			Mem183[ss:fp - 0x14 + 0x00:word16] = Mem181[ds_163:0x29E3:word16];
			fn0800_ACB3(fp - 0x02, ds_163, ptrArg00, wArg02, wArg08, out ds);
		}
	ptr32 es_bx_32 = Mem0[ds:11885:segptr32];
	Mem36[ds:11885:word16] = Mem0[ds:11885:word16] + 0x01;
	return Mem0[Mem0[es_bx_32 + 0x00:byte] + 0x00:byte];
}

word16 fn0800_5C1A(selector ds, word16 wArg02, ptr16 & siOut, ptr16 & dsOut)
{
	*siOut = si;
	if (Mem0[ds:0x2A21:word16] != 0x02)
	{
		selector ds_33;
		return fn0800_5C39(fp - 0x02, ds, wArg02, out ds_33);
	}
	else
	{
		selector ds_24;
		return fn0800_5CD9(ds, wArg02, out ds_24);
	}
}

word16 fn0800_5C39(word16 bp, selector ds, word16 wArg02, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 si_15 = wArg02;
	word16 di_101 = 0x00;
	while (true)
	{
		word16 si_100 = si_15;
		if (si_15 == 0x00)
			break;
		if (Mem0[ds:11845:word16] == 0x00)
		{
			word16 si_93;
			word16 di_94;
			selector ds_95;
			fn0800_5B15(fp - 0x02, ds, out si_93, out di_94, out ds_95);
			Mem99[ss:fp - 0x04 + 0x00:word16] = DPB(ax, 0x00, 8);
			fn0800_5B15(fp - 0x02, ds_95, out si_100, out di_101, out ds);
			Mem106[ss:fp - 0x06 + 0x00:word16] = DPB(ax, 0x00, 8);
			word16 dx_117;
			word16 ax_118 = fn0800_8C69(DPB(ax, 0x00, 8), 0x18, 0x00, bp, out dx_117);
			word16 ax_132 = ax_118 + (Mem106[ss:(fp - 0x06) + 0x00:word16] << 0x08);
			word16 ax_136 = ax_132 + Mem106[ss:(fp - 0x04) + 0x00:word16];
			Mem141[ds:0x29FD:word16] = dx_117 + DPB((word16) Mem106[ds:11885:segptr32], 0x00, 8) + (ax_118 <u 0x00) + (ax_132 <u 0x00) + (ax_136 <u 0x00);
			Mem142[ds:10747:word16] = ax_136;
			Mem143[ds:11845:word16] = 0x10;
		}
		if ((Mem0[ds:10747:word16] & 0x01) != 0x00)
			di_101 = di_101 | Mem0[ss:(fp - 0x08) + 0x00:word16];
		word16 ax_73 = Mem0[ds:0x29FD:word16];
		word16 dx_79 = __rcr(Mem0[ds:10747:word16], 0x01, cond(ax_73 >>u 0x01));
		Mem80[ds:0x29FD:word16] = ax_73 >>u 0x01;
		Mem81[ds:10747:word16] = dx_79;
		Mem84[ss:fp - 0x08 + 0x00:word16] = Mem81[ss:fp - 0x08 + 0x00:word16] << 0x01;
		Mem87[ds:11845:word16] = Mem84[ds:11845:word16] - 0x01;
		ax = ax_73 >>u 0x01;
		si_15 = si_100 - 0x01;
	}
	return di_101;
}

word16 fn0800_5CD9(selector ds, word16 wArg02, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 di_14 = wArg02;
	word16 si_15 = 0x00;
	while (true)
	{
		word16 di_32 = di_14;
		if (di_14 == 0x00)
			break;
		if (Mem0[ds:11845:word16] == 0x00)
		{
			fn0800_5B15(fp - 0x02, ds, out si_15, out di_32, out ds);
			Mem85[ds:0x29FD:word16] = 0x00;
			Mem86[ds:10747:word16] = DPB(ax, 0x00, 8);
			Mem87[ds:11845:word16] = 0x08;
		}
		si_15 = si_15 << 0x01;
		if ((Mem0[ds:10747:word16] & 0x80) != 0x00)
			si_15 = si_15 + 0x01;
		word16 dx_64 = Mem0[ds:10747:word16];
		ax = __rcl(Mem0[ds:0x29FD:word16], 0x01, cond(dx_64 << 0x01));
		Mem71[ds:0x29FD:word16] = ax;
		Mem72[ds:10747:word16] = dx_64 << 0x01;
		Mem74[ds:11845:word16] = Mem72[ds:11845:word16] - 0x01;
		di_14 = di_32 - 0x01;
	}
	return si_15;
}

selector fn0800_5D2F(word16 bp, selector ds)
{
	word16 ax_101 = Mem0[ds:11867:word16];
	word16 dx_10 = Mem0[ds:11865:word16];
	if (ax_101 == Mem0[ds:11863:word16] && dx_10 - 0x01 == Mem0[ds:11861:word16])
	{
		word16 dx_64 = ~0x00 - Mem0[ds:11825:word16];
		selector ds_79 = fn0800_4152(ds, Mem0[ds:11865:word16] + Mem0[ds:11825:word16], Mem0[ds:11867:word16], dx_64, 0x00 - (dx_64 <u 0x00), Mem0[ds:10719:word16], Mem0[ds:10721:word16]);
		Mem82[ss:fp - 0x04 + 0x00:word16] = Mem0[ds_79:11825:word16];
		word16 ax_84 = Mem82[ds_79:11861:word16] - Mem82[ds_79:11825:word16];
		Mem87[ss:fp - 0x06 + 0x00:word16] = Mem82[ds_79:11863:word16];
		Mem89[ss:fp - 0x08 + 0x00:word16] = ax_84;
		Mem91[ss:fp - 0x0A + 0x00:word16] = Mem89[ds_79:11867:word16];
		Mem93[ss:fp - 0x0C + 0x00:word16] = Mem91[ds_79:11865:word16];
		ds = fn0800_B0F3(wArg00, wArg02, wArg04, wArg06, wArg08);
		ax_101 = Mem93[ds:11867:word16];
		word16 dx_103 = Mem93[ds:11865:word16] + Mem93[ds:11825:word16];
		Mem105[ds:11863:word16] = ax_101;
		Mem106[ds:11861:word16] = dx_103;
	}
	Mem0[Mem0[Mem0[ds:11861:segptr32] + 0x00:byte] + 0x00:byte] = Mem0[ss:fp + 0x02:byte];
	Mem38[ds:11861:word16] = Mem36[ds:11861:word16] + 0x01;
	Mem53[ds:11853:word16] = SEQ(ds, 0x2A29)[(DPB(ax_101, 0x00, 8) & 0xFF) * 0x02] ^ Mem38[ds:11853:word16] >>u 0x08;
	return ds;
}

word16 fn0800_5DCE(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & dsOut)
{
	word16 ax_139;
	word16 si_17;
	selector ds_126;
	word16 ax_19 = fn0800_4194(fp - 0x02, ds, wArg02, wArg04, out si_17, out ds_126);
	word16 sp_128 = fp - 0x04;
	if (true && (dx != 0x00 || ax_19 >=u 0x0400))
		ax_139 = 0x0400;
	else
	{
		Mem132[ss:fp - 0x06 + 0x00:word16] = Mem0[ss:fp + 0x04:word16];
		Mem134[ss:fp - 0x08 + 0x00:word16] = Mem132[ss:fp + 0x02:word16];
		sp_128 = fp - 0x04;
		word16 si_135;
		ax_139 = fn0800_4194(fp - 0x02, ds_126, wArg00, wArg02, out si_135, out ds_126) & ~0x03;
	}
	word16 si_33 = ax_139;
	while (true)
	{
		word16 si_42 = si_33;
		if (si_33 == 0x00)
			break;
		word16 sp_61 = sp_128 - 0x02;
		Mem62[ss:sp_61 + 0x00:word16] = Mem0[ss:fp + 0x04:word16];
		Mem64[ss:sp_61 - 0x02 + 0x00:word16] = Mem62[ss:fp + 0x02:word16];
		sp_128 = sp_61 + 0x02;
		word16 di_67;
		if (fn0800_3E27(fp - 0x02, ds_126, wArg00, wArg02, out si_42, out di_67, out ds_126) == 21070)
		{
			Mem83[ss:sp_61 + 0x00:word16] = Mem64[ss:fp + 0x04:word16];
			Mem85[ss:sp_61 - 0x02 + 0x00:word16] = Mem83[ss:fp + 0x02:word16];
			word16 di_87;
			selector ds_88;
			if ((fn0800_3E27(fp - 0x02, ds_126, wArg00, wArg02, out si_42, out di_87, out ds_88) & 0xFF00) == 0x4300)
			{
				Mem96[ss:sp_61 + 0x00:word16] = 0x01;
				Mem100[ss:sp_61 - 0x02 + 0x00:word16] = ~0x00;
				Mem102[ss:sp_61 - 0x04 + 0x00:word16] = ~0x03;
				Mem104[ss:sp_61 - 0x06 + 0x00:word16] = Mem102[ss:fp + 0x04:word16];
				Mem106[ss:sp_61 - 0x08 + 0x00:word16] = Mem104[ss:fp + 0x02:word16];
				selector ds_109;
				fn0800_ACB3(fp - 0x02, ds_88, ptrArg00, wArg02, wArg08, out ds_109);
				return si_42;
			}
			Mem115[ss:sp_61 + 0x00:word16] = 0x01;
			Mem119[ss:sp_61 - 0x02 + 0x00:word16] = ~0x00;
			Mem121[ss:sp_61 - 0x04 + 0x00:word16] = ~0x01;
			Mem123[ss:sp_61 - 0x06 + 0x00:word16] = Mem121[ss:fp + 0x04:word16];
			Mem125[ss:sp_61 - 0x08 + 0x00:word16] = Mem123[ss:fp + 0x02:word16];
			fn0800_ACB3(fp - 0x02, ds_88, ptrArg00, wArg02, wArg08, out ds_126);
			sp_128 = sp_61 + 0x02;
		}
		si_33 = si_42 - 0x02;
	}
	return si_42;
}

selector fn0800_6AD4(word16 bp, selector ds)
{
	word16 ax_23 = (DPB(ax, 0x00, 8) << 0x08) + DPB(dx, 0x00, 8);
	if (0x00 <u Mem0[ds:0x2A09:word16] || 0x00 == Mem0[ds:0x2A09:word16] && ax_23 <u Mem0[ds:0x2A07:word16])
	{
		word16 wLoc1E_57 = Mem0[ds:0x29E5:word16];
		word16 wLoc20_59 = Mem0[ds:0x29E3:word16];
		selector ds_60;
		if (fn0800_3E5D(fp - 0x02, ds, wLoc20_59, wLoc1E_57, out ds_60) != 0x00 || ax_23 != 1011)
			return ds_60;
		else
		{
			Mem82[ss:fp - 0x1E + 0x00:word16] = Mem0[ds_60:10721:word16];
			Mem84[ss:fp - 0x20 + 0x00:word16] = Mem82[ds_60:10719:word16];
			Mem90[ss:fp - 0x22 + 0x00:word16] = 0x00;
			Mem92[ss:fp - 0x24 + 0x00:word16] = 1011;
			word16 ax_103 = 0x00;
			selector ds_102 = fn0800_409C(fp - 0x02, ds_60, wArg02, wArg04, wArg06);
			word16 sp_104 = fp - 0x1C;
			do
			{
				word16 sp_105 = sp_104 - 0x02;
				Mem106[ss:sp_105 + 0x00:word16] = Mem92[ds_102:0x29E5:word16];
				Mem108[ss:sp_105 - 0x02 + 0x00:word16] = Mem106[ds_102:0x29E3:word16];
				selector ds_110;
				word16 dx_111 = fn0800_3E5D(fp - 0x02, ds_102, wArg00, wArg02, out ds_110);
				Mem114[ss:fp - 0x08 + 0x00:word16] = dx_111;
				Mem115[ss:fp - 0x0A + 0x00:word16] = ax_103;
				Mem116[ss:fp - 0x04 + 0x00:word16] = dx_111;
				Mem117[ss:fp - 0x06 + 0x00:word16] = ax_103;
				Mem119[ss:sp_105 + 0x00:word16] = Mem117[ds_110:10721:word16];
				Mem121[ss:sp_105 - 0x02 + 0x00:word16] = Mem119[ds_110:10719:word16];
				Mem123[ss:sp_105 - 0x04 + 0x00:word16] = Mem121[ss:fp - 0x04 + 0x00:word16];
				Mem125[ss:sp_105 - 0x06 + 0x00:word16] = ax_103;
				ds_102 = fn0800_409C(fp - 0x02, ds_110, wArg02, wArg04, wArg06);
				sp_104 = sp_105 + 0x02;
				while (true)
				{
					word16 ax_131 = Mem125[ss:fp - 0x0A + 0x00:word16];
					word16 dx_132 = Mem125[ss:fp - 0x08 + 0x00:word16];
					word16 v18_133 = Mem125[ss:fp - 0x0A + 0x00:word16] - 0x01;
					Mem134[ss:fp - 0x0A + 0x00:word16] = v18_133;
					Mem138[ss:fp - 0x08 + 0x00:word16] = Mem134[ss:fp - 0x08 + 0x00:word16] - (v18_133 <u 0x00);
					word16 ax_139 = ax_131 | dx_132;
					if (ax_139 == 0x00)
						break;
					word16 sp_425 = sp_104 - 0x02;
					Mem426[ss:sp_425 + 0x00:word16] = Mem138[ds_102:10721:word16];
					Mem428[ss:sp_425 - 0x02 + 0x00:word16] = Mem426[ds_102:10719:word16];
					Mem430[ss:sp_425 - 0x04 + 0x00:word16] = Mem428[ds_102:0x29E5:word16];
					Mem432[ss:sp_425 - 0x06 + 0x00:word16] = Mem430[ds_102:0x29E3:word16];
					selector ds_433;
					Mem438[ss:sp_425 - 0x04 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_102, wArg00, wArg02, out ds_433);
					Mem440[ss:sp_425 - 0x06 + 0x00:word16] = ax_139;
					ds_102 = fn0800_409C(fp - 0x02, ds_433, wArg02, wArg04, wArg06);
					sp_104 = sp_425 + 0x02;
				}
				ax_103 = Mem138[ss:fp - 0x06 + 0x00:word16] | Mem138[ss:(fp - 0x04) + 0x00:word16];
			} while (ax_103 != 0x00);
			Mem148[ss:sp_104 + 0x00:word16] = Mem138[ds_102:10719:word16];
			word16 sp_149 = sp_104 - 0x02;
			Mem150[ss:sp_149 + 0x00:word16] = Mem148[ds_102:0x29E5:word16];
			Mem152[ss:sp_149 - 0x02 + 0x00:word16] = Mem150[ds_102:0x29E3:word16];
			selector ds_153;
			ui32 dx_ax_157 = SEQ(fn0800_3E5D(fp - 0x02, ds_102, wArg00, wArg02, out ds_153), ax_103 + 0x01);
			Mem164[ss:sp_149 + 0x00:word16] = SLICE(dx_ax_157 + 0x01, word16, 16);
			word16 ax_160 = (word16) (dx_ax_157 + 0x01);
			Mem166[ss:sp_149 - 0x02 + 0x00:word16] = ax_160;
			selector ds_167 = fn0800_409C(fp - 0x02, ds_153, wArg02, wArg04, wArg06);
			Mem171[ss:sp_149 + 0x04:word16] = Mem166[ds_167:0x29E5:word16];
			Mem173[ss:sp_149 + 0x02:word16] = Mem171[ds_167:0x29E3:word16];
			selector ds_174;
			Mem178[ss:fp - 0x0C + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_167, wArg00, wArg02, out ds_174);
			Mem179[ss:fp - 0x0E + 0x00:word16] = ax_160;
			Mem181[ss:sp_149 + 0x04:word16] = Mem179[ds_174:0x29E5:word16];
			Mem183[ss:sp_149 + 0x02:word16] = Mem181[ds_174:0x29E3:word16];
			selector ds_184;
			Mem187[ss:fp - 0x10 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_174, wArg00, wArg02, out ds_184);
			Mem188[ss:fp - 0x12 + 0x00:word16] = ax_160;
			word16 dx_191 = Mem188[ss:fp - 0x12 + 0x00:word16] - Mem188[ss:(fp - 0x0E) + 0x00:word16];
			ui32 ax_dx_196 = SEQ(Mem188[ss:fp - 0x10 + 0x00:word16] - Mem188[ss:(fp - 0x0C) + 0x00:word16] - (dx_191 <u 0x00), dx_191 + 0x01);
			Mem202[ss:fp - 0x14 + 0x00:word16] = SLICE(ax_dx_196 + 0x01, word16, 16);
			Mem203[ss:fp - 22 + 0x00:word16] = (word16) (ax_dx_196 + 0x01);
			Mem205[ss:sp_149 + 0x04:word16] = Mem203[ds_184:10721:word16];
			Mem207[ss:sp_149 + 0x02:word16] = Mem205[ds_184:10719:word16];
			Mem209[ss:sp_149 + 0x00:word16] = Mem207[ss:fp - 0x0C + 0x00:word16];
			Mem211[ss:sp_149 - 0x02 + 0x00:word16] = Mem209[ss:fp - 0x0E + 0x00:word16];
			selector ds_212 = fn0800_409C(fp - 0x02, ds_184, wArg02, wArg04, wArg06);
			Mem215[ss:sp_149 + 0x04:word16] = Mem211[ds_212:10721:word16];
			Mem217[ss:sp_149 + 0x02:word16] = Mem215[ds_212:10719:word16];
			ui32 ax_dx_221 = SEQ(Mem217[ss:fp - 0x10 + 0x00:word16], Mem217[ss:fp - 0x12 + 0x00:word16] + 0x01);
			word16 ax_224 = SLICE(ax_dx_221 + 0x01, word16, 16);
			Mem228[ss:sp_149 + 0x00:word16] = ax_224;
			word16 dx_225 = (word16) (ax_dx_221 + 0x01);
			Mem230[ss:sp_149 - 0x02 + 0x00:word16] = dx_225;
			selector ds_231 = fn0800_409C(fp - 0x02, ds_212, wArg02, wArg04, wArg06);
			Mem245[ss:fp - 0x04 + 0x00:word16] = 0x00;
			word16 dx_240 = DPB(dx_225, 0x00, 8);
			Mem246[ss:fp - 0x06 + 0x00:word16] = (DPB(ax_224, 0x00, 8) << 0x08) + dx_240 - 0x0C >>u 0x02;
			Mem248[ss:sp_149 + 0x04:word16] = Mem246[ds_231:10721:word16];
			Mem250[ss:sp_149 + 0x02:word16] = Mem248[ds_231:10719:word16];
			Mem255[ss:sp_149 + 0x00:word16] = 0x00;
			Mem257[ss:sp_149 - 0x02 + 0x00:word16] = Mem255[ss:fp - 0x06 + 0x00:word16];
			selector ds_258 = fn0800_409C(fp - 0x02, ds_231, wArg02, wArg04, wArg06);
			Mem262[ss:sp_149 + 0x04:word16] = Mem257[ds_258:10721:word16];
			Mem264[ss:sp_149 + 0x02:word16] = Mem262[ds_258:10719:word16];
			word16 si_266;
			word16 ax_267 = fn0800_AD2F(ds_258, ptrArg00, wArg02, out si_266);
			Mem270[ds_258:20110:word16] = dx_240;
			Mem271[ds_258:20108:word16] = ax_267;
			word16 dx_273 = Mem271[ss:fp - 22 + 0x00:word16];
			Mem274[ss:fp - 0x04 + 0x00:word16] = Mem271[ss:fp - 0x14 + 0x00:word16];
			Mem275[ss:fp - 0x06 + 0x00:word16] = dx_273;
			word16 sp_268 = sp_149 + 0x06;
			while (true)
			{
				word16 ax_281 = Mem275[ss:fp - 0x06 + 0x00:word16] | Mem275[ss:(fp - 0x04) + 0x00:word16];
				if (ax_281 == 0x00)
					break;
				word16 sp_400 = sp_268 - 0x02;
				Mem401[ss:sp_400 + 0x00:word16] = Mem275[ds_258:10721:word16];
				Mem403[ss:sp_400 - 0x02 + 0x00:word16] = Mem401[ds_258:10719:word16];
				Mem405[ss:sp_400 - 0x04 + 0x00:word16] = Mem403[ds_258:0x29E5:word16];
				Mem407[ss:sp_400 - 0x06 + 0x00:word16] = Mem405[ds_258:0x29E3:word16];
				selector ds_408;
				dx_273 = fn0800_3E5D(fp - 0x02, ds_258, wArg00, wArg02, out ds_408);
				Mem413[ss:sp_400 - 0x04 + 0x00:word16] = dx_273;
				Mem415[ss:sp_400 - 0x06 + 0x00:word16] = ax_281;
				ds_258 = fn0800_409C(fp - 0x02, ds_408, wArg02, wArg04, wArg06);
				word16 v20_418 = Mem415[ss:fp - 0x06 + 0x00:word16] - 0x01;
				Mem419[ss:fp - 0x06 + 0x00:word16] = v20_418;
				Mem423[ss:fp - 0x04 + 0x00:word16] = Mem419[ss:fp - 0x04 + 0x00:word16] - (v20_418 <u 0x00);
				sp_268 = sp_400 + 0x02;
			}
			word16 sp_285 = sp_268 - 0x02;
			Mem286[ss:sp_285 + 0x00:word16] = Mem275[ds_258:10721:word16];
			Mem288[ss:sp_285 - 0x02 + 0x00:word16] = Mem286[ds_258:10719:word16];
			byte dl_294 = Mem288[ds_258:11894:byte];
			Mem302[ss:sp_285 - 0x04 + 0x00:word16] = 0x00;
			Mem304[ss:sp_285 - 0x06 + 0x00:word16] = (DPB(ax_281, 0x00, 8) << 0x08) + DPB(dx_273, 0x00, 8);
			Mem306[ss:sp_285 - 0x08 + 0x00:word16] = ds_258;
			Mem309[ss:sp_285 - 0x0A + 0x00:word16] = 0x2E77;
			selector ds_312 = fn0800_4152(ds_258, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A);
			Mem318[ss:sp_285 + 0x00:word16] = Mem309[ds_312:0x29E5:word16];
			Mem320[ss:sp_285 - 0x02 + 0x00:word16] = Mem318[ds_312:0x29E3:word16];
			word16 si_321;
			word16 ax_322 = fn0800_AD2F(ds_312, ptrArg00, wArg02, out si_321);
			byte al_323 = (byte) ax_322;
			byte ah_324 = SLICE(ax_322, byte, 8);
			if (0x00 >=u Mem320[ds_312:0x2A09:word16])
				if (0x00 != Mem320[ds_312:0x2A09:word16] || ax_322 >=u Mem320[ds_312:0x2A07:word16])
					return ds_312;
			Mem334[ss:sp_285 + 0x00:word16] = Mem320[ds_312:0x29E5:word16];
			Mem336[ss:sp_285 - 0x02 + 0x00:word16] = Mem334[ds_312:0x29E3:word16];
			selector ds_337;
			Mem340[ss:fp - 0x08 + 0x00:word16] = fn0800_3E5D(fp - 0x02, ds_312, wArg00, wArg02, out ds_337);
			Mem341[ss:fp - 0x0A + 0x00:word16] = ax_322;
			word16 ax_342 = Mem341[ss:fp - 0x08 + 0x00:word16];
			word16 dx_343 = Mem341[ss:fp - 0x0A + 0x00:word16];
			Mem347[ss:fp - 0x1A + 0x00:word16] = dx_343;
			Mem348[ss:fp - 0x18 + 0x00:word16] = ax_342 & 0x3FFF;
			byte SZO_345 = cond(ax_342 & 0x3FFF);
			word16 cx_349 = 0x07;
			byte cl_350 = 0x07;
			word16 bx_351 = 28348;
			if (Mem348[0x0800:bx_351 + 0x00:word16] == Mem348[ss:(fp - 0x0A) + 0x00:word16])
			{
				word16 ax_369 = Mem348[0x0800:bx_351 + 0x0E:word16];
				byte SCZO_370 = cond(ax_369 - Mem348[ss:(fp - 0x18) + 0x00:word16]);
				if (ax_369 == Mem348[ss:(fp - 0x18) + 0x00:word16])
				{
					selector ds_378;
					Mem348[0x0800:bx_351 + 0x1C:word16]();
					return ds_378;
				}
			}
			cx_349 = cx_349 - 0x01;
			bx_351 = bx_351 + 0x02;
			cl_350 = (byte) cx_349;
			if (cx_349 != 0x00)
				goto l0800_6D0D;
			return ds_337;
		}
	}
	else
		return ds;
}

selector fn0800_75EA(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08)
{
	Mem14[ds:0x4680:word16] = wArg04;
	Mem16[ds:0x467E:word16] = wArg02;
	Mem17[ds:0x2A05:word16] = wArg04;
	Mem18[ds:0x2A03:word16] = wArg02;
	Mem19[ds:18040:word16] = wArg04;
	Mem20[ds:0x4676:word16] = wArg02;
	ui32 ax_dx_26 = SEQ(wArg08, wArg06 - 0x12);
	Mem31[ds:20102:word16] = SLICE(ax_dx_26 - 0x12, word16, 16);
	Mem32[ds:20100:word16] = (word16) (ax_dx_26 - 0x12);
	if (Mem32[ds:0x4680:word16] <=u 0x00)
	{
		if (Mem32[ds:0x4680:word16] != 0x00)
			return ds;
		if (wArg02 <=u 0x12)
			return ds;
	}
	Mem61[ds:11849:word16] = 0x00;
	Mem62[ds:18012:word16] = 0x00;
	Mem63[ds:0x4668:word16] = 0x00;
	Mem64[ds:0x4666:word16] = 0x00;
	Mem65[ds:0x2A05:word16] = 0x00;
	Mem66[ds:0x2A03:word16] = 0x00;
	Mem67[ds:0x2A01:word16] = 0x00;
	Mem68[ds:0x29FF:word16] = 0x00;
	Mem69[ds:18044:word16] = 0x00;
	Mem70[ds:0x467A:word16] = 0x00;
	Mem71[ds:0x4674:word16] = 0x00;
	Mem72[ds:0x4672:word16] = 0x00;
	Mem73[ds:11843:word16] = 0x00;
	Mem74[ds:11845:word16] = 0x00;
	Mem75[ds:20098:word16] = 0x00;
	Mem76[ds:20106:word16] = 0x00;
	Mem77[ds:0x4E88:word16] = 0x00;
	Mem78[ds:0x29F9:word16] = 0x00;
	Mem79[ds:0x29F7:word16] = 0x00;
	selector ds_86 = fn0800_4311(ds, 0x0F, 0x01);
	Mem89[ss:fp - 22 + 0x00:word16] = 0x0F;
	Mem90[ss:fp - 0x18 + 0x00:word16] = 0x01;
	Mem93[ds_86:11891:word16] = 0x10;
	Mem94[ds_86:11889:word16] = 0x00;
	Mem98[ss:fp - 0x1C + 0x00:word16] = 0x01;
	Mem100[ss:fp - 0x1E + 0x00:word16] = 0x10;
	selector ds_102 = fn0800_4311(ds_86, wArg00, wArg02);
	Mem105[ss:fp - 0x12 + 0x00:word16] = 0x10;
	Mem106[ss:fp - 0x14 + 0x00:word16] = 0x01;
	Mem109[ds_102:11833:word16] = 0x11;
	Mem110[ds_102:11831:word16] = 0x00;
	Mem114[ss:fp - 0x1C + 0x00:word16] = 0x01;
	Mem116[ss:fp - 0x1E + 0x00:word16] = 0x10;
	selector ds_117 = fn0800_4311(ds_102, wArg00, wArg02);
	Mem120[ss:fp - 0x0E + 0x00:word16] = 0x10;
	Mem121[ss:fp - 0x10 + 0x00:word16] = 0x01;
	Mem124[ds_117:11829:word16] = 0x11;
	Mem125[ds_117:0x2E33:word16] = 0x00;
	Mem129[ss:fp - 0x1C + 0x00:word16] = 0x01;
	Mem131[ss:fp - 0x1E + 0x00:word16] = 0x10;
	selector ds_132 = fn0800_4311(ds_117, wArg00, wArg02);
	Mem135[ss:fp - 0x0A + 0x00:word16] = 0x10;
	Mem136[ss:fp - 0x0C + 0x00:word16] = 0x01;
	Mem139[ds_132:11841:word16] = 0x11;
	Mem140[ds_132:11839:word16] = 0x00;
	Mem144[ss:fp - 0x1C + 0x00:word16] = 0x01;
	Mem146[ss:fp - 0x1E + 0x00:word16] = 0x10;
	selector ds_147 = fn0800_4311(ds_132, wArg00, wArg02);
	Mem150[ss:fp - 0x06 + 0x00:word16] = 0x10;
	Mem151[ss:fp - 0x08 + 0x00:word16] = 0x01;
	Mem154[ds_147:11837:word16] = 0x11;
	Mem155[ds_147:11835:word16] = 0x00;
	fn0800_87F8(ds_147);
	Mem157[ss:fp - 0x1C + 0x00:word16] = Mem155[ds_147:0x29E5:word16];
	Mem159[ss:fp - 0x1E + 0x00:word16] = Mem157[ds_147:0x29E3:word16];
	word16 si_161;
	word16 ax_162 = fn0800_AD2F(ds_147, ptrArg00, wArg02, out si_161);
	Mem165[ds_147:0x4664:word16] = 0x11;
	Mem166[ds_147:18018:word16] = ax_162;
	Mem168[ss:fp - 0x1C + 0x00:word16] = Mem166[ds_147:10721:word16];
	Mem170[ss:fp - 0x1E + 0x00:word16] = Mem168[ds_147:10719:word16];
	word16 si_171;
	word16 ax_172 = fn0800_AD2F(ds_147, ptrArg00, wArg02, out si_171);
	Mem174[ds_147:0x4660:word16] = 0x11;
	Mem175[ds_147:18014:word16] = ax_172;
	Mem177[ss:fp - 0x1C + 0x00:word16] = Mem175[ds_147:10721:word16];
	Mem179[ss:fp - 0x1E + 0x00:word16] = Mem177[ds_147:10719:word16];
	int32 dx_ax_184 = SEQ(0x11, (word16) (int32) Mem179[ds_147:0x2A21:word16] + 0x4300);
	Mem191[ss:fp - 0x20 + 0x00:word16] = SLICE(dx_ax_184 + 0x524E4300, word16, 16);
	Mem193[ss:fp - 0x22 + 0x00:word16] = (word16) (dx_ax_184 + 0x524E4300);
	selector ds_194 = fn0800_409C(fp - 0x02, ds_147, wArg02, wArg04, wArg06);
	Mem198[ss:fp - 0x1C + 0x00:word16] = Mem193[ds_194:10721:word16];
	Mem200[ss:fp - 0x1E + 0x00:word16] = Mem198[ds_194:10719:word16];
	Mem202[ss:fp - 0x20 + 0x00:word16] = Mem200[ds_194:0x4680:word16];
	Mem204[ss:fp - 0x22 + 0x00:word16] = Mem202[ds_194:0x467E:word16];
	selector ds_205 = fn0800_409C(fp - 0x02, ds_194, wArg02, wArg04, wArg06);
	Mem208[ss:fp - 0x1C + 0x00:word16] = Mem204[ds_205:10721:word16];
	Mem210[ss:fp - 0x1E + 0x00:word16] = Mem208[ds_205:10719:word16];
	Mem215[ss:fp - 0x20 + 0x00:word16] = 0x00;
	Mem217[ss:fp - 0x22 + 0x00:word16] = 0x00;
	selector ds_218 = fn0800_409C(fp - 0x02, ds_205, wArg02, wArg04, wArg06);
	Mem221[ss:fp - 0x1C + 0x00:word16] = Mem217[ds_218:10721:word16];
	Mem223[ss:fp - 0x1E + 0x00:word16] = Mem221[ds_218:10719:word16];
	Mem228[ss:fp - 0x20 + 0x00:word16] = 0x00;
	selector ds_229 = fn0800_401E(fp - 0x02, ds_218, wArg00, wArg02, wArg04);
	Mem232[ss:fp - 0x1C + 0x00:word16] = Mem228[ds_229:10721:word16];
	Mem234[ss:fp - 0x1E + 0x00:word16] = Mem232[ds_229:10719:word16];
	Mem239[ss:fp - 0x20 + 0x00:word16] = 0x00;
	selector ds_240 = fn0800_401E(fp - 0x02, ds_229, wArg00, wArg02, wArg04);
	Mem243[ss:fp - 0x1C + 0x00:word16] = Mem239[ds_240:10721:word16];
	Mem245[ss:fp - 0x1E + 0x00:word16] = Mem243[ds_240:10719:word16];
	Mem250[ss:fp - 0x20 + 0x00:word16] = 0x00;
	selector ds_251 = fn0800_401E(fp - 0x02, ds_240, wArg00, wArg02, wArg04);
	Mem255[ss:fp - 0x1C + 0x00:word16] = ds_251;
	Mem258[ss:fp - 0x1E + 0x00:word16] = 0x2240;
	word16 di_259;
	fn0800_B2EF(ds_251, wArg00, wArg02, out di_259);
	Mem263[ss:fp - 0x04 + 0x00:word16] = Mem258[ds_251:11855:word16];
	Mem269[ss:fp - 0x1C + 0x00:word16] = 0x01;
	word16 ax_264 = 0x01;
	if (Mem269[ds_251:0x2A1F:word16] == 0x00)
		ax_264 = 0x00;
	Mem276[ss:fp - 0x1E + 0x00:word16] = ax_264;
	selector ds_277 = fn0800_8465(ds_251, wArg00, wArg02);
	Mem284[ss:fp - 0x1C + 0x00:word16] = 0x01;
	word16 ax_279 = 0x01;
	if (Mem284[ds_277:11855:word16] == 0x00)
		ax_279 = 0x00;
	Mem294[ss:fp - 0x1E + 0x00:word16] = ax_279;
	selector ds_295 = fn0800_8465(ds_277, wArg00, wArg02);
	word16 sp_296 = fp - 0x1A;
	if (Mem294[ds_295:0x2A23:word16] != 0x01 && Mem294[ds_295:11855:word16] != 0x00)
	{
		Mem583[ss:fp - 0x1C + 0x00:word16] = 0x10;
		Mem585[ss:fp - 0x1E + 0x00:word16] = Mem583[ds_295:11855:word16];
		ds_295 = fn0800_8465(ds_295, wArg00, wArg02);
		sp_296 = fp - 0x1A;
	}
	word16 ax_301 = Mem294[ds_295:0x2A21:word16];
	if (ax_301 != 0x01)
		if (ax_301 == 0x02)
			ds_295 = fn0800_7C78(fp - 0x02, ds_295);
	else
		ds_295 = fn0800_7A02(fp - 0x02, ds_295);
	word16 si_310 = 0x00;
	while (Mem294[ds_295:20098:word16] != 0x00)
	{
		ax_301 = DPB(ax_301, Mem294[ds_295:si_310 + 18050:byte], 0);
		word16 sp_565 = sp_296 - 0x02;
		Mem566[ss:sp_565 + 0x00:word16] = ax_301;
		word16 di_567;
		si_310 = fn0800_8624(ds_295, bArg00, out di_567, out ds_295);
		Mem573[ds_295:20098:word16] = Mem566[ds_295:20098:word16] - 0x01;
		sp_296 = sp_565 + 0x02;
	}
	Mem325[ds_295:11855:word16] = Mem294[ss:fp - 0x04 + 0x00:word16];
	word16 dx_328 = Mem325[ds_295:0x467E:word16] - Mem325[ds_295:0x2A03:word16];
	word16 ax_332 = Mem325[ds_295:0x4680:word16] - Mem325[ds_295:0x2A05:word16] - (dx_328 <u 0x00);
	if (ax_332 <=u Mem325[ds_295:20106:word16] && (ax_332 <u Mem325[ds_295:20106:word16] || dx_328 <u Mem325[ds_295:0x4E88:word16]))
	{
		dx_328 = Mem325[ds_295:0x467E:word16] - Mem325[ds_295:0x2A03:word16];
		word16 ax_550 = Mem325[ds_295:0x4680:word16] - Mem325[ds_295:0x2A05:word16] - (dx_328 <u 0x00);
		word16 v15_551 = Mem325[ds_295:0x4E88:word16] - dx_328;
		Mem552[ds_295:0x4E88:word16] = v15_551;
		Mem556[ds_295:20106:word16] = Mem552[ds_295:20106:word16] - ax_550 - (v15_551 <u 0x00);
	}
	else
	{
		Mem543[ds_295:20106:word16] = 0x00;
		Mem544[ds_295:0x4E88:word16] = 0x00;
	}
	if (Mem325[ds_295:0x2A21:word16] == 0x02)
	{
		word16 v20_534 = Mem325[ds_295:0x4E88:word16] + 0x02;
		Mem535[ds_295:0x4E88:word16] = v20_534;
		Mem539[ds_295:20106:word16] = Mem535[ds_295:20106:word16] + (v20_534 <u 0x00);
	}
	word16 sp_345 = sp_296 - 0x02;
	Mem346[ss:sp_345 + 0x00:word16] = Mem325[ds_295:10719:word16];
	word16 si_347;
	word16 ax_350 = fn0800_AD2F(ds_295, ptrArg00, wArg02, out si_347) - Mem346[ds_295:18014:word16];
	Mem354[ds_295:0x2A05:word16] = dx_328 - Mem346[ds_295:0x4660:word16] - (ax_350 <u 0x00);
	Mem355[ds_295:0x2A03:word16] = ax_350;
	Mem358[ss:sp_345 + 0x02:word16] = 0x00;
	ui32 ax_dx_362 = SEQ(Mem358[ds_295:0x4660:word16], Mem358[ds_295:18014:word16] + 0x08);
	Mem369[ss:sp_345 + 0x00:word16] = SLICE(ax_dx_362 + 0x08, word16, 16);
	Mem371[ss:sp_345 - 0x02 + 0x00:word16] = (word16) (ax_dx_362 + 0x08);
	Mem373[ss:sp_345 - 0x04 + 0x00:word16] = Mem371[ds_295:10721:word16];
	Mem375[ss:sp_345 - 0x06 + 0x00:word16] = Mem373[ds_295:10719:word16];
	selector ds_376;
	fn0800_ACB3(fp - 0x02, ds_295, ptrArg00, wArg02, wArg08, out ds_376);
	Mem380[ss:sp_345 + 0x02:word16] = Mem375[ds_376:10721:word16];
	Mem382[ss:sp_345 + 0x00:word16] = Mem380[ds_376:10719:word16];
	ui32 ax_dx_386 = SEQ(Mem382[ds_376:0x2A05:word16], Mem382[ds_376:0x2A03:word16] - 0x12);
	word16 ax_389 = SLICE(ax_dx_386 - 0x12, word16, 16);
	Mem393[ss:sp_345 - 0x02 + 0x00:word16] = ax_389;
	Mem395[ss:sp_345 - 0x04 + 0x00:word16] = (word16) (ax_dx_386 - 0x12);
	selector ds_396 = fn0800_409C(fp - 0x02, ds_376, wArg02, wArg04, wArg06);
	Mem400[ss:sp_345 + 0x02:word16] = Mem395[ds_396:10721:word16];
	Mem402[ss:sp_345 + 0x00:word16] = Mem400[ds_396:10719:word16];
	Mem404[ss:sp_345 - 0x02 + 0x00:word16] = Mem402[ds_396:11851:word16];
	selector ds_405 = fn0800_401E(fp - 0x02, ds_396, wArg00, wArg02, wArg04);
	Mem409[ss:sp_345 + 0x02:word16] = Mem404[ds_405:10721:word16];
	Mem411[ss:sp_345 + 0x00:word16] = Mem409[ds_405:10719:word16];
	Mem413[ss:sp_345 - 0x02 + 0x00:word16] = Mem411[ds_405:11849:word16];
	selector ds_414 = fn0800_401E(fp - 0x02, ds_405, wArg00, wArg02, wArg04);
	Mem418[ss:sp_345 + 0x02:word16] = Mem413[ds_414:10721:word16];
	Mem420[ss:sp_345 + 0x00:word16] = Mem418[ds_414:10719:word16];
	Mem424[ss:sp_345 - 0x02 + 0x00:word16] = DPB(ax_389, Mem420[ds_414:0x4E88:byte], 0);
	selector ds_427;
	fn0800_4047(ds_414, bArg00, ptrArg02, wArg04, out ds_427);
	Mem432[ss:sp_345 + 0x02:word16] = Mem424[ds_427:10721:word16];
	Mem434[ss:sp_345 + 0x00:word16] = Mem432[ds_427:10719:word16];
	Mem438[ss:sp_345 - 0x02 + 0x00:word16] = DPB(ax_389, Mem434[ds_427:0x29F7:byte], 0);
	selector ds_439;
	fn0800_4047(ds_427, bArg00, ptrArg02, wArg04, out ds_439);
	Mem444[ss:sp_345 + 0x02:word16] = 0x00;
	word16 dx_447 = Mem444[ds_439:18014:word16] + Mem444[ds_439:0x2A03:word16];
	Mem453[ss:sp_345 + 0x00:word16] = Mem444[ds_439:0x4660:word16] + Mem444[ds_439:0x2A05:word16] + (dx_447 <u 0x00);
	Mem455[ss:sp_345 - 0x02 + 0x00:word16] = dx_447;
	Mem457[ss:sp_345 - 0x04 + 0x00:word16] = Mem455[ds_439:10721:word16];
	Mem459[ss:sp_345 - 0x06 + 0x00:word16] = Mem457[ds_439:10719:word16];
	selector ds_460;
	fn0800_ACB3(fp - 0x02, ds_439, ptrArg00, wArg02, wArg08, out ds_460);
	Mem465[ss:sp_345 + 0x02:word16] = 0x00;
	word16 dx_468 = Mem465[ds_460:18018:word16] + Mem465[ds_460:0x467E:word16];
	Mem474[ss:sp_345 + 0x00:word16] = Mem465[ds_460:0x4664:word16] + Mem465[ds_460:0x4680:word16] + (dx_468 <u 0x00);
	Mem476[ss:sp_345 - 0x02 + 0x00:word16] = dx_468;
	Mem478[ss:sp_345 - 0x04 + 0x00:word16] = Mem476[ds_460:0x29E5:word16];
	Mem480[ss:sp_345 - 0x06 + 0x00:word16] = Mem478[ds_460:0x29E3:word16];
	selector ds_481;
	fn0800_ACB3(fp - 0x02, ds_460, ptrArg00, wArg02, wArg08, out ds_481);
	Mem486[ss:sp_345 + 0x02:word16] = Mem480[ss:fp - 22 + 0x00:word16];
	Mem488[ss:sp_345 + 0x00:word16] = Mem486[ss:fp - 0x18 + 0x00:word16];
	selector ds_489;
	fn0800_4346(ds_481, wArg00, wArg02, out ds_489);
	Mem494[ss:sp_345 + 0x02:word16] = Mem488[ss:fp - 0x12 + 0x00:word16];
	Mem496[ss:sp_345 + 0x00:word16] = Mem494[ss:fp - 0x14 + 0x00:word16];
	selector ds_497;
	fn0800_4346(ds_489, wArg00, wArg02, out ds_497);
	Mem502[ss:sp_345 + 0x02:word16] = Mem496[ss:fp - 0x0E + 0x00:word16];
	Mem504[ss:sp_345 + 0x00:word16] = Mem502[ss:fp - 0x10 + 0x00:word16];
	selector ds_505;
	fn0800_4346(ds_497, wArg00, wArg02, out ds_505);
	Mem510[ss:sp_345 + 0x02:word16] = Mem504[ss:fp - 0x0A + 0x00:word16];
	Mem512[ss:sp_345 + 0x00:word16] = Mem510[ss:fp - 0x0C + 0x00:word16];
	selector ds_513;
	fn0800_4346(ds_505, wArg00, wArg02, out ds_513);
	Mem518[ss:sp_345 + 0x02:word16] = Mem512[ss:fp - 0x06 + 0x00:word16];
	Mem520[ss:sp_345 + 0x00:word16] = Mem518[ss:fp - 0x08 + 0x00:word16];
	fn0800_4346(ds_513, wArg00, wArg02, out ds);
	Mem526[ss:sp_345 + 0x02:word16] = ds;
	Mem529[ss:sp_345 + 0x00:word16] = 0x223C;
	word16 di_530;
	fn0800_B2EF(ds, wArg00, wArg02, out di_530);
	return ds;
}

selector fn0800_7A02(word16 bp, selector ds)
{
fn0800_7A02_entry:
	word16 sp_25 = fp - 0x08
	goto l0800_7C1A
l0800_7A02:
l0800_7A19:
	word16 sp_35 = sp_25 - 0x02
	Mem36[ss:sp_35 + 0x00:word16] = 0x10
	Mem39[ss:sp_35 - 0x02 + 0x00:word16] = ds
	Mem42[ss:sp_35 - 0x04 + 0x00:word16] = 10319
	fn0800_43D4(wArg00, psegArg02, wArg04)
	Mem50[ss:sp_35 + 0x00:word16] = 0x10
	Mem52[ss:sp_35 - 0x02 + 0x00:word16] = ds
	Mem55[ss:sp_35 - 0x04 + 0x00:word16] = 10127
	fn0800_43D4(wArg00, psegArg02, wArg04)
	Mem60[ss:sp_35 + 0x00:word16] = 0x10
	Mem62[ss:sp_35 - 0x02 + 0x00:word16] = ds
	Mem65[ss:sp_35 - 0x04 + 0x00:word16] = 10511
	fn0800_43D4(wArg00, psegArg02, wArg04)
	selector ds_68 = fn0800_7FDC(fp - 0x02, ds)
	Mem73[ss:sp_35 + 0x00:word16] = 0x00
	Mem75[ss:sp_35 - 0x02 + 0x00:word16] = Mem73[ss:fp - 0x04 + 0x00:word16]
	Mem77[ss:sp_35 - 0x04 + 0x00:word16] = Mem75[ss:fp - 0x06 + 0x00:word16]
	Mem79[ss:sp_35 - 0x06 + 0x00:word16] = Mem77[ds_68:0x29E5:word16]
	Mem81[ss:sp_35 - 0x08 + 0x00:word16] = Mem79[ds_68:0x29E3:word16]
	selector ds_84
	fn0800_ACB3(fp - 0x02, ds_68, ptrArg00, psegArg02, wArg08, out ds_84)
	Mem90[ss:sp_35 + 0x00:word16] = 0x10
	Mem92[ss:sp_35 - 0x02 + 0x00:word16] = ds_84
	Mem95[ss:sp_35 - 0x04 + 0x00:word16] = 10511
	fn0800_441C(fp - 0x02, ds_84, ptrArg00, psegArg02, wArg04)
	Mem100[ss:sp_35 + 0x00:word16] = 0x10
	Mem102[ss:sp_35 - 0x02 + 0x00:word16] = ds_84
	Mem105[ss:sp_35 - 0x04 + 0x00:word16] = 10319
	fn0800_441C(fp - 0x02, ds_84, ptrArg00, psegArg02, wArg04)
	Mem110[ss:sp_35 + 0x00:word16] = 0x10
	Mem112[ss:sp_35 - 0x02 + 0x00:word16] = ds_84
	Mem115[ss:sp_35 - 0x04 + 0x00:word16] = 10127
	fn0800_441C(fp - 0x02, ds_84, ptrArg00, psegArg02, wArg04)
	Mem120[ss:sp_35 + 0x00:word16] = 0x10
	Mem122[ss:sp_35 - 0x02 + 0x00:word16] = ds_84
	Mem125[ss:sp_35 - 0x04 + 0x00:word16] = 10511
	selector ds_126 = fn0800_83A1(fp - 0x02, ds_84, ptrArg00, wArg04)
	Mem131[ss:sp_35 + 0x00:word16] = 0x10
	Mem133[ss:sp_35 - 0x02 + 0x00:word16] = ds_126
	Mem136[ss:sp_35 - 0x04 + 0x00:word16] = 10319
	selector ds_137 = fn0800_83A1(fp - 0x02, ds_126, ptrArg00, wArg04)
	Mem142[ss:sp_35 + 0x00:word16] = 0x10
	Mem144[ss:sp_35 - 0x02 + 0x00:word16] = ds_137
	Mem147[ss:sp_35 - 0x04 + 0x00:word16] = 10127
	selector ds_148 = fn0800_83A1(fp - 0x02, ds_137, ptrArg00, wArg04)
	Mem153[ss:sp_35 + 0x00:word16] = 0x10
	Mem155[ss:sp_35 - 0x02 + 0x00:word16] = Mem153[ds_148:0x466A:word16]
	ds = fn0800_8489(fp - 0x02, ds_148, wArg00)
	word16 sp_157 = sp_35 + 0x02
	goto l0800_7BC0
l0800_7ACB:
l0800_7AFB:
	branch Mem211[ds:11845:word16] == 0x00 l0800_7B32
	goto l0800_7B17
l0800_7B04:
	ds = fn0800_8359(ds)
	al = al ^ Mem322[ds:11855:byte]
	Mem331[ds:Mem322[ds:20098:word16] + 18050:byte] = al
	Mem333[ds:20098:word16] = Mem331[ds:20098:word16] + 0x01
l0800_7B17:
	word16 ax_320 = Mem211[ds:11847:word16]
	Mem322[ds:11847:word16] = Mem211[ds:11847:word16] - 0x01
	branch ax_320 != 0x00 l0800_7B04
	goto l0800_7B3D
l0800_7B24:
	selector ds_348 = fn0800_8359(ds)
	al = al ^ Mem343[ds_348:11855:byte]
	word16 sp_353 = sp_157 - 0x02
	Mem354[ss:sp_353 + 0x00:word16] = DPB(ax_341, al, 0)
	word16 di_356
	fn0800_8624(ds_348, bArg00, out di_356, out ds)
	sp_157 = sp_353 + 0x02
l0800_7B32:
	word16 ax_341 = Mem211[ds:11847:word16]
	Mem343[ds:11847:word16] = Mem211[ds:11847:word16] - 0x01
	branch ax_341 != 0x00 l0800_7B24
l0800_7B3D:
	branch (Mem211[ds:11855:word16] & 0x01) == 0x00 l0800_7B52
	branch (Mem211[ds:11855:word16] & 0x01) == 0x00 l0800_7B52
l0800_7B45:
	Mem307[ds:11855:word16] = Mem211[ds:11855:word16] >>u 0x01 | 0x8000
	Mem313[ds:11855:word16] = Mem307[ds:11855:word16] >>u 0x01 | 0x8000
	goto l0800_7B56
l0800_7B52:
	Mem315[ds:11855:word16] = Mem211[ds:11855:word16] >>u 0x01
l0800_7B56:
	branch (Mem211[ds:0x466A:word16] | Mem211[ds:0x466C:word16]) == 0x00 l0800_7BC0
l0800_7B5F:
	word16 sp_229 = sp_157 - 0x02
	Mem230[ss:sp_229 + 0x00:word16] = Mem211[ds:10717:word16]
	Mem232[ss:sp_229 - 0x02 + 0x00:word16] = Mem230[ds:10715:word16]
	word16 si_233
	word16 di_234
	selector ds_235
	word16 ax_236 = fn0800_3E27(fp - 0x02, ds, wArg00, psegArg02, out si_233, out di_234, out ds_235)
	Mem239[ds_235:11817:word16] = ax_236
	Mem241[ss:sp_229 + 0x00:word16] = Mem239[ds_235:10717:word16]
	Mem243[ss:sp_229 - 0x02 + 0x00:word16] = Mem241[ds_235:10715:word16]
	word16 si_244
	word16 di_245
	selector ds_246
	word16 ax_247 = fn0800_3E27(fp - 0x02, ds_235, wArg00, psegArg02, out si_244, out di_245, out ds_246)
	Mem250[ds_246:11819:word16] = ax_247
	Mem252[ss:sp_229 + 0x00:word16] = ds_246
	Mem255[ss:sp_229 - 0x02 + 0x00:word16] = 10319
	Mem257[ss:sp_229 - 0x04 + 0x00:word16] = Mem255[ds_246:11819:word16]
	selector ds_258 = fn0800_8407(fp - 0x02, ds_246, wArg00, ptrArg02)
	Mem262[ss:sp_229 + 0x00:word16] = ds_258
	Mem265[ss:sp_229 - 0x02 + 0x00:word16] = 10127
	Mem267[ss:sp_229 - 0x04 + 0x00:word16] = Mem265[ds_258:11817:word16]
	ds = fn0800_8407(fp - 0x02, ds_258, wArg00, ptrArg02)
	Mem271[ds:11817:word16] = Mem267[ds:11817:word16] + 0x02
	word16 v24_273 = Mem271[ds:0x467A:word16] + Mem271[ds:11817:word16]
	Mem274[ds:0x467A:word16] = v24_273
	Mem278[ds:18044:word16] = Mem274[ds:18044:word16] + (v24_273 <u 0x00)
	sp_157 = sp_229 + 0x02
	goto l0800_7BB5
l0800_7BB2:
	ds = fn0800_8359(ds)
l0800_7BB5:
	word16 ax_281 = Mem278[ds:11817:word16]
	Mem283[ds:11817:word16] = Mem278[ds:11817:word16] - 0x01
	branch ax_281 != 0x00 l0800_7BB2
l0800_7BC0:
	word16 ax_165 = Mem155[ds:0x466A:word16]
	word16 dx_166 = Mem155[ds:0x466C:word16]
	word16 v13_167 = Mem155[ds:0x466A:word16] - 0x01
	Mem168[ds:0x466A:word16] = v13_167
	Mem172[ds:0x466C:word16] = Mem168[ds:0x466C:word16] - (v13_167 <u 0x00)
	branch (ax_165 | dx_166) == 0x00 l0800_7BD8
	word16 ax_176 = Mem172[ds:0x466A:word16]
	word16 dx_177 = Mem172[ds:0x466C:word16]
	word16 v30_178 = Mem172[ds:0x466A:word16] - 0x01
	Mem179[ds:0x466A:word16] = v30_178
	Mem183[ds:0x466C:word16] = Mem179[ds:0x466C:word16] - (v30_178 <u 0x00)
	word16 ax_184 = ax_176 | dx_177
	branch ax_184 == 0x00 l0800_7BD8
l0800_7BD5:
	word16 sp_188 = sp_157 - 0x02
	Mem189[ss:sp_188 + 0x00:word16] = Mem183[ds:10717:word16]
	Mem191[ss:sp_188 - 0x02 + 0x00:word16] = Mem189[ds:10715:word16]
	word16 si_192
	word16 di_193
	selector ds_194
	word16 ax_195 = fn0800_3E27(fp - 0x02, ds, wArg00, psegArg02, out si_192, out di_193, out ds_194)
	Mem197[ds_194:11847:word16] = ax_195
	word16 v18_198 = Mem197[ds_194:0x467A:word16] + ax_195
	Mem199[ds_194:0x467A:word16] = v18_198
	Mem203[ds_194:18044:word16] = Mem199[ds_194:18044:word16] + (v18_198 <u 0x00)
	Mem206[ss:sp_188 + 0x00:word16] = ds_194
	Mem209[ss:sp_188 - 0x02 + 0x00:word16] = 10511
	Mem211[ss:sp_188 - 0x04 + 0x00:word16] = Mem209[ds_194:11847:word16]
	ds = fn0800_8407(fp - 0x02, ds_194, wArg00, ptrArg02)
	sp_157 = sp_188 + 0x02
	branch Mem211[ds:11847:word16] == 0x00 l0800_7B56
	goto l0800_7AFB
l0800_7BD8:
	branch Mem183[ds:11845:word16] != 0x00 l0800_7BFC
l0800_7BDF:
	word16 si_387 = 0x00
	goto l0800_7BF5
l0800_7BE3:
	al = Mem183[ds:si_387 + 18050:byte]
	ax_184 = DPB(ax_184, al, 0) (alias)
	word16 sp_405 = sp_157 - 0x02
	Mem406[ss:sp_405 + 0x00:word16] = ax_184
	word16 di_407
	si_387 = fn0800_8624(ds, bArg00, out di_407, out ds)
	Mem413[ds:20098:word16] = Mem406[ds:20098:word16] - 0x01
	sp_157 = sp_405 + 0x02
l0800_7BF5:
	branch Mem183[ds:20098:word16] != 0x00 l0800_7BE3
l0800_7BFC:
	word16 v21_370 = Mem183[ds:0x29F7:word16] + 0x01
	Mem371[ds:0x29F7:word16] = v21_370
	Mem375[ds:0x29F9:word16] = Mem371[ds:0x29F9:word16] + (v21_370 <u 0x00)
	word16 sp_377 = sp_157 - 0x02
	Mem378[ss:sp_377 + 0x00:word16] = Mem375[ds:0x29E5:word16]
	Mem380[ss:sp_377 - 0x02 + 0x00:word16] = Mem378[ds:0x29E3:word16]
	word16 si_381
	word16 ax_382 = fn0800_AD2F(ds, ptrArg00, psegArg02, out si_381)
	Mem385[ss:fp - 0x04 + 0x00:word16] = dx_177
	Mem386[ss:fp - 0x06 + 0x00:word16] = ax_382
	sp_25 = sp_377 + 0x02
l0800_7C1A:
	word16 ax_27 = Mem0[ds:18044:word16]
	word16 dx_28 = Mem0[ds:0x467A:word16]
	branch ax_27 >=u Mem0[ds:0x4680:word16] l0800_7C2A
	goto l0800_7A19
l0800_7C2A:
	branch ax_27 != Mem0[ds:0x4680:word16] || dx_28 >=u Mem0[ds:0x467E:word16] l0800_7C35
	goto l0800_7A19
l0800_7C2C:
l0800_7C35:
	Mem419[ds:11843:word16] = Mem0[ds:11843:word16] >>u 0x10 - Mem0[ds:11845:byte]
	branch Mem419[ds:11845:word16] != 0x00 || Mem419[ds:20098:word16] != 0x00 l0800_7C4D
	goto l0800_7C57
l0800_7C46:
l0800_7C4D:
	word16 sp_459 = sp_25 - 0x02
	Mem460[ss:sp_459 + 0x00:word16] = DPB(ax_27, Mem419[ds:11843:byte], 0)
	word16 di_461
	fn0800_8624(ds, bArg00, out di_461, out ds)
	sp_25 = sp_459 + 0x02
l0800_7C57:
	branch Mem419[ds:11845:word16] >u 0x08 || Mem419[ds:20098:word16] != 0x00 l0800_7C65
	goto l0800_7C73
l0800_7C5E:
l0800_7C65:
	Mem448[ss:sp_25 - 0x02 + 0x00:word16] = Mem419[ds:11843:word16] >>u 0x08
	word16 di_449
	fn0800_8624(ds, bArg00, out di_449, out ds)
l0800_7C73:
	return ds
fn0800_7A02_exit:
}

selector fn0800_7C78(word16 bp, selector ds)
{
fn0800_7C78_entry:
	word16 sp_29 = fp - 0x08
	goto l0800_7E6D
l0800_7C78:
l0800_7C8F:
	selector ds_38 = fn0800_7FDC(fp - 0x02, ds)
	word16 sp_42 = sp_29 - 0x02
	Mem43[ss:sp_42 + 0x00:word16] = 0x00
	Mem46[ss:sp_42 - 0x02 + 0x00:word16] = Mem43[ss:fp - 0x04 + 0x00:word16]
	Mem48[ss:sp_42 - 0x04 + 0x00:word16] = Mem46[ss:fp - 0x06 + 0x00:word16]
	Mem50[ss:sp_42 - 0x06 + 0x00:word16] = Mem48[ds_38:0x29E5:word16]
	Mem52[ss:sp_42 - 0x08 + 0x00:word16] = Mem50[ds_38:0x29E3:word16]
	selector ds_111
	fn0800_ACB3(fp - 0x02, ds_38, ptrArg00, wArg02, wArg08, out ds_111)
	word16 sp_112 = sp_42 + 0x02
	goto l0800_7DCD
l0800_7CAC:
l0800_7CD9:
	Mem119[ss:sp_91 + 0x00:word16] = Mem110[ds_111:10717:word16]
	Mem121[ss:sp_91 - 0x02 + 0x00:word16] = Mem119[ds_111:10715:word16]
	word16 si_122
	word16 di_123
	selector ds_124
	word16 ax_125 = fn0800_3E27(fp - 0x02, ds_111, wArg00, wArg02, out si_122, out di_123, out ds_124)
	Mem128[ds_124:11817:word16] = ax_125
	Mem130[ss:sp_91 + 0x00:word16] = Mem128[ds_124:10717:word16]
	Mem132[ss:sp_91 - 0x02 + 0x00:word16] = Mem130[ds_124:10715:word16]
	word16 si_133
	word16 di_134
	selector ds_135
	word16 ax_136 = fn0800_3E27(fp - 0x02, ds_124, wArg00, wArg02, out si_133, out di_134, out ds_135)
	Mem138[ds_135:11819:word16] = ax_136
	branch Mem138[ds_135:11817:word16] != 0x00 l0800_7D1D
l0800_7D02:
	Mem171[ss:sp_91 + 0x00:word16] = 0x03
	Mem174[ss:sp_91 - 0x02 + 0x00:word16] = 0x06
	selector ds_176 = fn0800_854B(fp - 0x02, ds_135, bArg02)
	Mem182[ss:sp_91 + 0x00:word16] = DPB(0x06, Mem174[ds_176:11819:byte], 0)
	word16 di_184
	fn0800_8600(ds_176, bArg00, out di_184, out ds_111)
	sp_112 = sp_91 + 0x02
	goto l0800_7DAC
l0800_7D1D:
	branch Mem138[ds_135:11817:word16] >=u 0x07 l0800_7D68
l0800_7D24:
	Mem196[ss:sp_91 + 0x00:word16] = DPB(ax_136, 0x00, 8)
	Mem201[ss:sp_91 - 0x02 + 0x00:word16] = DPB(ax_136, 0x00, 8)
	selector ds_202 = fn0800_854B(fp - 0x02, ds_135, bArg02)
	Mem213[ss:sp_91 + 0x00:word16] = DPB(ax_136, 0x00, 8)
	word16 ax_216 = DPB(ax_136, 0x00, 8)
	Mem218[ss:sp_91 - 0x02 + 0x00:word16] = ax_216
	selector ds_219 = fn0800_854B(fp - 0x02, ds_202, bArg02)
	Mem227[ss:sp_91 + 0x00:word16] = DPB(ax_216, Mem218[ds_219:11819:byte] & ~0x00, 0)
	word16 di_228
	fn0800_8600(ds_219, bArg00, out di_228, out ds_111)
	sp_112 = sp_91 + 0x02
	goto l0800_7DAC
l0800_7D68:
	Mem235[ss:sp_91 + 0x00:word16] = 0x04
	Mem238[ss:sp_91 - 0x02 + 0x00:word16] = 0x0F
	selector ds_239 = fn0800_854B(fp - 0x02, ds_135, bArg02)
	word16 ax_243 = DPB(0x0F, Mem238[ds_239:11817:byte] - 0x06, 0)
	Mem246[ss:sp_91 + 0x00:word16] = ax_243
	word16 di_247
	selector ds_248
	fn0800_8600(ds_239, bArg00, out di_247, out ds_248)
	Mem260[ss:sp_91 + 0x00:word16] = DPB(ax_243, 0x00, 8)
	word16 ax_263 = DPB(ax_243, 0x00, 8)
	Mem265[ss:sp_91 - 0x02 + 0x00:word16] = ax_263
	selector ds_266 = fn0800_854B(fp - 0x02, ds_248, bArg02)
	Mem274[ss:sp_91 + 0x00:word16] = DPB(ax_263, Mem265[ds_266:11819:byte] & ~0x00, 0)
	word16 di_275
	fn0800_8600(ds_266, bArg00, out di_275, out ds_111)
	sp_112 = sp_91 + 0x02
l0800_7DAC:
	Mem151[ds_111:11817:word16] = Mem138[ds_111:11817:word16] + 0x02
	word16 v26_153 = Mem151[ds_111:0x467A:word16] + Mem151[ds_111:11817:word16]
	Mem154[ds_111:0x467A:word16] = v26_153
	Mem158[ds_111:18044:word16] = Mem154[ds_111:18044:word16] + (v26_153 <u 0x00)
	goto l0800_7DC2
l0800_7DBF:
	ds_111 = fn0800_8359(ds_111)
l0800_7DC2:
	word16 ax_161 = Mem158[ds_111:11817:word16]
	Mem163[ds_111:11817:word16] = Mem158[ds_111:11817:word16] - 0x01
	branch ax_161 != 0x00 l0800_7DBF
l0800_7DCD:
	word16 ax_68 = Mem52[ds_111:0x466A:word16]
	word16 dx_69 = Mem52[ds_111:0x466C:word16]
	word16 v13_70 = Mem52[ds_111:0x466A:word16] - 0x01
	Mem71[ds_111:0x466A:word16] = v13_70
	Mem75[ds_111:0x466C:word16] = Mem71[ds_111:0x466C:word16] - (v13_70 <u 0x00)
	branch (ax_68 | dx_69) == 0x00 l0800_7DE5
	word16 ax_79 = Mem75[ds_111:0x466A:word16]
	word16 dx_80 = Mem75[ds_111:0x466C:word16]
	word16 v32_81 = Mem75[ds_111:0x466A:word16] - 0x01
	Mem82[ds_111:0x466A:word16] = v32_81
	Mem86[ds_111:0x466C:word16] = Mem82[ds_111:0x466C:word16] - (v32_81 <u 0x00)
	branch (ax_79 | dx_80) == 0x00 l0800_7DE5
l0800_7DE2:
	word16 sp_91 = sp_112 - 0x02
	Mem92[ss:sp_91 + 0x00:word16] = Mem86[ds_111:10717:word16]
	Mem94[ss:sp_91 - 0x02 + 0x00:word16] = Mem92[ds_111:10715:word16]
	word16 si_96
	word16 di_97
	selector ds_98
	word16 ax_99 = fn0800_3E27(fp - 0x02, ds_111, wArg00, wArg02, out si_96, out di_97, out ds_98)
	Mem101[ds_98:11847:word16] = ax_99
	word16 v19_102 = Mem101[ds_98:0x467A:word16] + ax_99
	Mem103[ds_98:0x467A:word16] = v19_102
	Mem107[ds_98:18044:word16] = Mem103[ds_98:18044:word16] + (v19_102 <u 0x00)
	Mem110[ss:sp_91 + 0x00:word16] = ax_99
	ds_111 = fn0800_7EAF(fp - 0x02, ds_98, wArg00)
	sp_112 = sp_91 + 0x02
	branch (Mem110[ds_111:0x466A:word16] | Mem110[ds_111:0x466C:word16]) != 0x00 l0800_7CD9
	goto l0800_7DCD
l0800_7DE5:
	word16 ax_305
	word16 sp_304
	word16 sp_281 = sp_112 - 0x02
	Mem282[ss:sp_281 + 0x00:word16] = 0x04
	Mem285[ss:sp_281 - 0x02 + 0x00:word16] = 0x0F
	selector ds_286 = fn0800_854B(fp - 0x02, ds_111, bArg02)
	Mem292[ss:sp_281 + 0x00:word16] = 0x00
	word16 di_293
	selector ds_294
	fn0800_8600(ds_286, bArg00, out di_293, out ds_294)
	word16 ax_297 = Mem292[ds_294:18044:word16]
	word16 dx_298 = Mem292[ds_294:0x467A:word16]
	branch ax_297 >u Mem292[ds_294:0x4680:word16] || ax_297 >=u Mem292[ds_294:0x4680:word16] && dx_298 >=u Mem292[ds_294:0x467E:word16] l0800_7E1E
	goto l0800_7E11
l0800_7E09:
l0800_7E0B:
l0800_7E11:
	Mem393[ss:sp_281 + 0x00:word16] = 0x01
	Mem395[ss:sp_281 - 0x02 + 0x00:word16] = 0x01
	ax_305 = 0x01
	ds = fn0800_854B(fp - 0x02, ds_294, bArg02)
	sp_304 = sp_281 + 0x02
	goto l0800_7E2B
l0800_7E1E:
	Mem381[ss:sp_281 + 0x00:word16] = 0x01
	Mem386[ss:sp_281 - 0x02 + 0x00:word16] = 0x00
	ax_305 = 0x00
	ds = fn0800_854B(fp - 0x02, ds_294, bArg02)
	sp_304 = sp_281 + 0x02
l0800_7E2B:
	branch Mem292[ds:11845:word16] != 0x00 l0800_7E4F
l0800_7E32:
	word16 si_351 = 0x00
	goto l0800_7E48
l0800_7E36:
	ax_305 = DPB(ax_305, Mem292[ds:si_351 + 18050:byte], 0) (alias)
	word16 sp_369 = sp_304 - 0x02
	Mem370[ss:sp_369 + 0x00:word16] = ax_305
	word16 di_371
	si_351 = fn0800_8624(ds, bArg00, out di_371, out ds)
	Mem377[ds:20098:word16] = Mem370[ds:20098:word16] - 0x01
	sp_304 = sp_369 + 0x02
l0800_7E48:
	branch Mem292[ds:20098:word16] != 0x00 l0800_7E36
l0800_7E4F:
	word16 v21_318 = Mem292[ds:0x29F7:word16] + 0x01
	Mem319[ds:0x29F7:word16] = v21_318
	Mem323[ds:0x29F9:word16] = Mem319[ds:0x29F9:word16] + (v21_318 <u 0x00)
	word16 sp_325 = sp_304 - 0x02
	Mem326[ss:sp_325 + 0x00:word16] = Mem323[ds:0x29E5:word16]
	Mem328[ss:sp_325 - 0x02 + 0x00:word16] = Mem326[ds:0x29E3:word16]
	word16 si_329
	word16 ax_330 = fn0800_AD2F(ds, ptrArg00, wArg02, out si_329)
	Mem332[ss:fp - 0x04 + 0x00:word16] = dx_298
	Mem333[ss:fp - 0x06 + 0x00:word16] = ax_330
	word16 v23_334 = Mem333[ds:0x29F7:word16] + 0x01
	Mem335[ds:0x29F7:word16] = v23_334
	Mem339[ds:0x29F9:word16] = Mem335[ds:0x29F9:word16] + (v23_334 <u 0x00)
	Mem342[ss:sp_325 + 0x00:word16] = Mem339[ds:0x29E5:word16]
	Mem344[ss:sp_325 - 0x02 + 0x00:word16] = Mem342[ds:0x29E3:word16]
	word16 si_345
	word16 ax_346 = fn0800_AD2F(ds, ptrArg00, wArg02, out si_345)
	Mem349[ss:fp - 0x04 + 0x00:word16] = dx_298
	Mem350[ss:fp - 0x06 + 0x00:word16] = ax_346
	sp_29 = sp_325 + 0x02
l0800_7E6D:
	word16 ax_31 = Mem0[ds:18044:word16]
	word16 dx_32 = Mem0[ds:0x467A:word16]
	branch ax_31 >=u Mem0[ds:0x4680:word16] l0800_7E7D
	goto l0800_7C8F
l0800_7E7D:
	branch ax_31 != Mem0[ds:0x4680:word16] || dx_32 >=u Mem0[ds:0x467E:word16] l0800_7E88
	goto l0800_7C8F
l0800_7E7F:
l0800_7E88:
	Mem405[ds:11843:word16] = Mem0[ds:11843:word16] << 0x08 - Mem0[ds:11845:byte]
	branch Mem405[ds:11845:word16] != 0x00 || Mem405[ds:20098:word16] != 0x00 l0800_7EA0
	goto l0800_7EAA
l0800_7E99:
l0800_7EA0:
	Mem423[ss:sp_29 - 0x02 + 0x00:word16] = DPB(ax_31, Mem405[ds:11843:byte], 0)
	word16 di_424
	fn0800_8624(ds, bArg00, out di_424, out ds)
l0800_7EAA:
	return ds
fn0800_7C78_exit:
}

selector fn0800_7EAF(word16 bp, selector ds, word16 wArg02)
{
	word16 sp_10 = fp - 0x06;
	word16 si_133 = wArg02;
	while (true)
	{
		word16 si_123 = si_133;
		if (si_133 == 0x00)
			break;
		if (si_133 <u 0x0C)
			while (true)
			{
				si_133 = si_123;
				if (si_123 == 0x00)
					break;
				word16 sp_44 = sp_10 - 0x02;
				Mem45[ss:sp_44 + 0x00:word16] = 0x01;
				Mem52[ss:sp_44 - 0x02 + 0x00:word16] = 0x00;
				selector ds_57 = fn0800_8359(fn0800_854B(fp - 0x02, ds, bArg02));
				al = Mem52[ds_57:11855:byte] ^ 0x00;
				Mem63[ss:sp_44 + 0x00:word16] = (word16) al;
				word16 di_65;
				word16 si_67 = fn0800_8600(ds_57, bArg00, out di_65, out ds);
				sp_10 = sp_44 + 0x02;
				if ((Mem63[ds:11855:word16] & 0x01) != 0x00)
					Mem82[ds:11855:word16] = Mem63[ds:11855:word16] >>u 0x01 | 0x8000;
				else
					Mem84[ds:11855:word16] = Mem63[ds:11855:word16] >>u 0x01;
				si_123 = si_67 - 0x01;
			}
		else
		{
			while ((si_123 & 0x03) != 0x00)
			{
				word16 sp_209 = sp_10 - 0x02;
				Mem210[ss:sp_209 + 0x00:word16] = 0x01;
				Mem216[ss:sp_209 - 0x02 + 0x00:word16] = 0x00;
				selector ds_220 = fn0800_8359(fn0800_854B(fp - 0x02, ds, bArg02));
				al = Mem216[ds_220:11855:byte] ^ 0x00;
				Mem226[ss:sp_209 + 0x00:word16] = (word16) al;
				word16 di_227;
				word16 si_229 = fn0800_8600(ds_220, bArg00, out di_227, out ds);
				sp_10 = sp_209 + 0x02;
				if ((Mem226[ds:11855:word16] & 0x01) != 0x00)
					Mem244[ds:11855:word16] = Mem226[ds:11855:word16] >>u 0x01 | 0x8000;
				else
					Mem246[ds:11855:word16] = Mem226[ds:11855:word16] >>u 0x01;
				si_123 = si_229 - 0x01;
			}
			word16 sp_97 = sp_10 - 0x02;
			Mem98[ss:sp_97 + 0x00:word16] = 0x05;
			Mem101[ss:sp_97 - 0x02 + 0x00:word16] = 0x17;
			selector ds_102 = fn0800_854B(fp - 0x02, ds, bArg02);
			if (si_123 >=u 0x48)
			{
				Mem108[ss:sp_97 + 0x00:word16] = 0x04;
				Mem111[ss:sp_97 - 0x02 + 0x00:word16] = 0x0F;
				word16 ax_109 = 0x0F;
				ds = fn0800_854B(fp - 0x02, ds_102, bArg02);
				sp_10 = sp_97 + 0x02;
				word16 di_114 = 0x00;
				while (di_114 != 0x48)
				{
					selector ds_144 = fn0800_8359(ds);
					al = al ^ Mem111[ds_144:11855:byte];
					ax_109 = DPB(ax_109, al, 0);
					word16 sp_149 = sp_10 - 0x02;
					Mem150[ss:sp_149 + 0x00:word16] = ax_109;
					word16 di_151;
					si_123 = fn0800_8600(ds_144, bArg00, out di_151, out ds);
					sp_10 = sp_149 + 0x02;
					di_114 = di_151 + 0x01;
				}
				if ((Mem111[ds:11855:word16] & 0x01) != 0x00)
					Mem140[ds:11855:word16] = Mem111[ds:11855:word16] >>u 0x01 | 0x8000;
				else
					Mem142[ds:11855:word16] = Mem111[ds:11855:word16] >>u 0x01;
				si_133 = si_123 - 0x48;
			}
			else
			{
				Mem160[ss:sp_97 + 0x00:word16] = 0x04;
				word16 ax_162 = si_123 - 0x0C;
				Mem167[ss:sp_97 - 0x02 + 0x00:word16] = ax_162 >>u 0x02;
				word16 ax_164 = ax_162 >>u 0x02;
				ds = fn0800_854B(fp - 0x02, ds_102, bArg02);
				sp_10 = sp_97 + 0x02;
				while (true)
				{
					si_133 = si_123;
					if (si_123 == 0x00)
						break;
					selector ds_194 = fn0800_8359(ds);
					al = al ^ Mem167[ds_194:11855:byte];
					ax_164 = DPB(ax_164, al, 0);
					word16 sp_199 = sp_10 - 0x02;
					Mem200[ss:sp_199 + 0x00:word16] = ax_164;
					sp_10 = sp_199 + 0x02;
					word16 di_201;
					si_123 = fn0800_8600(ds_194, bArg00, out di_201, out ds) - 0x01;
				}
				if ((Mem167[ds:11855:word16] & 0x01) != 0x00)
					Mem190[ds:11855:word16] = Mem167[ds:11855:word16] >>u 0x01 | 0x8000;
				else
					Mem192[ds:11855:word16] = Mem167[ds:11855:word16] >>u 0x01;
			}
		}
	}
	return ds;
}

selector fn0800_7FDC(word16 bp, selector ds)
{
fn0800_7FDC_entry:
	Mem8[ds:0x466C:word16] = 0x00
	Mem10[ds:0x466A:word16] = 0x00
	Mem11[ds:11847:word16] = 0x00
	word16 dx_13 = Mem11[ds:0x2A0B:word16]
	Mem14[ds:0x4670:word16] = Mem11[ds:0x2A0D:word16]
	Mem15[ds:0x466E:word16] = dx_13
	selector ds_40
	fn0800_ACB3(fp - 0x02, ds, DPB(ptrLoc10, Mem15[ds:0x29E3:word16], 0), Mem15[ds:0x29E5:word16], 0x00, out ds_40)
	Mem47[ss:fp - 0x08 + 0x00:word16] = 0x00
	Mem50[ss:fp - 0x0A + 0x00:word16] = 0x00
	Mem52[ss:fp - 0x0C + 0x00:word16] = 0x00
	Mem54[ss:fp - 0x0E + 0x00:word16] = Mem52[ds_40:10717:word16]
	Mem56[ss:fp - 0x10 + 0x00:word16] = Mem54[ds_40:10715:word16]
	selector ds_295
	fn0800_ACB3(fp - 0x02, ds_40, ptrArg00, wArg02, wArg08, out ds_295)
	word16 bp_243 = fp - 0x02
	word16 sp_296 = fp - 0x06
	goto l0800_82A1
l0800_7FDC:
l0800_8042:
	word16 dx_160 = ~0x00 - Mem56[ds_295:11825:word16]
	word16 dx_164 = dx_160 - Mem56[ds_295:0x4672:word16]
	Mem168[ss:bp_243 - 0x02 + 0x00:word16] = 0x00 - (dx_160 <u 0x00) - Mem56[ds_295:0x4674:word16] - (dx_164 <u 0x00)
	Mem169[ss:bp_243 - 0x04 + 0x00:word16] = dx_164
	word16 ax_170 = Mem169[ds_295:18040:word16]
	word16 dx_171 = Mem169[ds_295:0x4676:word16]
	branch ax_170 >u Mem169[ss:(bp_243 - 0x02) + 0x00:word16] || ax_170 >=u Mem169[ss:(bp_243 - 0x02) + 0x00:word16] && dx_171 >=u Mem169[ss:(bp_243 - 0x04) + 0x00:word16] l0800_807C
	goto l0800_806F
l0800_8068:
l0800_806A:
l0800_806F:
	word16 dx_481 = Mem169[ds_295:0x4676:word16]
	Mem482[ss:bp_243 - 0x02 + 0x00:word16] = Mem169[ds_295:18040:word16]
	Mem483[ss:bp_243 - 0x04 + 0x00:word16] = dx_481
l0800_807C:
	word16 dx_181 = Mem169[ds_295:11889:word16] + Mem169[ds_295:11825:word16]
	Mem182[ds_295:11887:word16] = Mem169[ds_295:11891:word16]
	Mem183[ds_295:11885:word16] = dx_181
	word16 sp_184 = sp_296 - 0x02
	Mem185[ss:sp_184 + 0x00:word16] = Mem183[ds_295:0x29E5:word16]
	Mem187[ss:sp_184 - 0x02 + 0x00:word16] = Mem185[ds_295:0x29E3:word16]
	Mem189[ss:sp_184 - 0x04 + 0x00:word16] = Mem187[ss:bp_243 - 0x02 + 0x00:word16]
	Mem191[ss:sp_184 - 0x06 + 0x00:word16] = Mem189[ss:bp_243 - 0x04 + 0x00:word16]
	word16 ax_193 = Mem191[ds_295:11885:word16] + Mem191[ds_295:0x4672:word16]
	Mem196[ss:sp_184 - 0x08 + 0x00:word16] = Mem191[ds_295:11891:word16]
	Mem198[ss:sp_184 - 0x0A + 0x00:word16] = ax_193
	word16 di_202
	selector ds_203
	word16 si_204 = fn0800_4110(ds_295, wArg00, wArg02, wArg04, wArg06, wArg08, wArg0A, out di_202, out ds_203)
	word16 dx_207 = Mem198[ss:bp_243 - 0x04 + 0x00:word16]
	word16 ax_206 = Mem198[ss:bp_243 - 0x02 + 0x00:word16]
	word16 v15_208 = Mem198[ds_203:0x4676:word16] - dx_207
	Mem209[ds_203:0x4676:word16] = v15_208
	Mem213[ds_203:18040:word16] = Mem209[ds_203:18040:word16] - ax_206 - (v15_208 <u 0x00)
	word16 v17_214 = Mem213[ds_203:0x4672:word16] + dx_207
	Mem215[ds_203:0x4672:word16] = v17_214
	Mem219[ds_203:0x4674:word16] = Mem215[ds_203:0x4674:word16] + ax_206 + (v17_214 <u 0x00)
	word16 ax_220 = Mem219[ds_203:11887:word16]
	word16 dx_222 = Mem219[ds_203:11885:word16] + Mem219[ds_203:0x4672:word16]
	Mem223[ds_203:11879:word16] = ax_220
	Mem224[ds_203:11877:word16] = dx_222
	Mem225[ds_203:11883:word16] = ax_220
	Mem226[ds_203:11881:word16] = dx_222
	word16 sp_205 = sp_184 + 0x02
	word16 ax_227 = Mem226[ds_203:0x4670:word16]
	word16 dx_228 = Mem226[ds_203:0x466E:word16]
	branch ax_227 <=u Mem226[ds_203:0x4674:word16] l0800_80ED
	goto l0800_81E9
l0800_80ED:
	branch ax_227 <u Mem226[ds_203:0x4674:word16] || dx_228 <u Mem226[ds_203:0x4672:word16] l0800_80F8
	goto l0800_81E9
l0800_80EF:
l0800_80F8:
	word16 dx_472 = Mem226[ds_203:11885:word16] + Mem226[ds_203:0x466E:word16]
	Mem474[ds_203:11879:word16] = Mem226[ds_203:11887:word16]
	Mem475[ds_203:11877:word16] = dx_472
	goto l0800_81E9
l0800_810D:
	fn0800_8832(ds_203)
	branch Mem226[ds_203:11817:word16] <u 0x02 l0800_8193
l0800_8117:
	branch Mem226[ds_203:11885:word16] + Mem226[ds_203:11817:word16] <=u Mem226[ds_203:11877:word16] l0800_813F
l0800_8124:
	branch (Mem226[ds_203:0x466A:word16] | Mem226[ds_203:0x466C:word16]) == 0x00 l0800_8130
	goto l0800_8209
l0800_8130:
	Mem456[ds_203:11817:word16] = Mem226[ds_203:11877:word16] - Mem226[ds_203:11885:word16]
l0800_813F:
	word16 sp_395 = sp_205 - 0x02
	Mem396[ss:sp_395 + 0x00:word16] = ds_203
	Mem399[ss:sp_395 - 0x02 + 0x00:word16] = 10511
	Mem401[ss:sp_395 - 0x04 + 0x00:word16] = Mem399[ds_203:11847:word16]
	selector ds_402 = fn0800_831D(ds_203, wArg00, ptrArg02)
	Mem405[ss:sp_395 + 0x00:word16] = ds_402
	Mem408[ss:sp_395 - 0x02 + 0x00:word16] = 10127
	Mem413[ss:sp_395 - 0x04 + 0x00:word16] = Mem408[ds_402:11817:word16] - 0x02
	selector ds_414 = fn0800_831D(ds_402, wArg00, ptrArg02)
	Mem418[ss:sp_395 + 0x00:word16] = ds_414
	Mem421[ss:sp_395 - 0x02 + 0x00:word16] = 10319
	Mem426[ss:sp_395 - 0x04 + 0x00:word16] = Mem421[ds_414:11819:word16] - 0x01
	ds_203 = fn0800_831D(ds_414, wArg00, ptrArg02)
	Mem431[ss:sp_395 + 0x00:word16] = Mem426[ds_203:11817:word16]
	fn0800_89A8(ds_203, wArg00)
	word16 v23_433 = Mem431[ds_203:0x466A:word16] + 0x01
	Mem434[ds_203:0x466A:word16] = v23_433
	Mem438[ds_203:0x466C:word16] = Mem434[ds_203:0x466C:word16] + (v23_433 <u 0x00)
	Mem439[ds_203:11847:word16] = 0x00
	Mem442[ds_203:18012:word16] = Mem439[ds_203:18012:word16] + Mem439[ds_203:11817:word16]
	sp_205 = sp_395 + 0x02
	goto l0800_81A5
l0800_8193:
	word16 sp_458 = sp_205 - 0x02
	Mem459[ss:sp_458 + 0x00:word16] = 0x01
	fn0800_89A8(ds_203, wArg00)
	Mem463[ds_203:11847:word16] = Mem459[ds_203:11847:word16] + 0x01
	Mem465[ds_203:18012:word16] = Mem463[ds_203:18012:word16] + 0x01
	sp_205 = sp_458 + 0x02
l0800_81A5:
	branch Mem226[ds_203:18012:word16] <u 0x0400 l0800_81E9
l0800_81AD:
	word16 v28_347 = Mem226[ds_203:0x4666:word16] + Mem226[ds_203:18012:word16]
	Mem348[ds_203:0x4666:word16] = v28_347
	Mem352[ds_203:0x4668:word16] = Mem348[ds_203:0x4668:word16] + (v28_347 <u 0x00)
	word16 sp_353 = sp_205 - 0x02
	Mem354[ss:sp_353 + 0x00:word16] = Mem352[ds_203:0x4680:word16]
	Mem356[ss:sp_353 - 0x02 + 0x00:word16] = Mem354[ds_203:0x467E:word16]
	word16 dx_363
	word16 ax_364 = fn0800_8F18(99, Mem356[ds_203:0x4668:word16], 0x00, Mem356[ds_203:0x4666:word16], out dx_363)
	Mem366[ss:sp_353 - 0x04 + 0x00:word16] = dx_363
	Mem368[ss:sp_353 - 0x06 + 0x00:word16] = ax_364
	word16 dx_369
	word16 si_371
	word16 di_372
	word16 ax_373 = fn0800_8BC2(bp_243, si_204, di_202, bp, out dx_369, out bp_243, out si_371, out di_372)
	Mem376[ss:sp_353 + 0x00:word16] = dx_369
	Mem378[ss:sp_353 - 0x02 + 0x00:word16] = ax_373
	Mem380[ss:sp_353 - 0x04 + 0x00:word16] = ds_203
	Mem383[ss:sp_353 - 0x06 + 0x00:word16] = 0x2244
	si_204 = fn0800_B2EF(ds_203, wArg00, wArg02, out di_202)
	Mem388[ds_203:18012:word16] = 0x00
	sp_205 = sp_353 + 0x02
l0800_81E9:
	branch Mem226[ds_203:11877:word16] - 0x01 <=u Mem226[ds_203:11885:word16] l0800_8209
l0800_81F3:
	branch Mem226[ds_203:0x466C:word16] >=u 0x00 l0800_81FD
	goto l0800_810D
l0800_81FD:
	branch Mem226[ds_203:0x466C:word16] != 0x00 || Mem226[ds_203:0x466A:word16] >=u ~0x01 l0800_8209
	goto l0800_810D
l0800_81FF:
l0800_8209:
	word16 ax_256 = Mem226[ds_203:11881:word16] - Mem226[ds_203:11885:word16]
	Mem260[ds_203:0x4674:word16] = 0x00 - (ax_256 <u 0x00)
	Mem261[ds_203:0x4672:word16] = ax_256
	word16 ax_264 = Mem261[ds_203:11885:word16] - Mem261[ds_203:11889:word16]
	word16 ax_268 = ax_264 - Mem261[ds_203:11825:word16]
	Mem272[ss:bp_243 - 0x02 + 0x00:word16] = 0x00 - (ax_264 <u 0x00) - (ax_268 <u 0x00)
	Mem273[ss:bp_243 - 0x04 + 0x00:word16] = ax_268
	word16 ax_275 = Mem273[ds_203:11889:word16] + Mem273[ss:(bp_243 - 0x04) + 0x00:word16]
	word16 sp_285 = sp_205 - 0x02
	Mem286[ss:sp_285 + 0x00:word16] = Mem273[ds_203:11885:word16] - ax_275 + Mem273[ds_203:0x4672:word16]
	Mem288[ss:sp_285 - 0x02 + 0x00:word16] = Mem286[ds_203:11891:word16]
	Mem290[ss:sp_285 - 0x04 + 0x00:word16] = ax_275
	Mem292[ss:sp_285 - 0x06 + 0x00:word16] = Mem290[ds_203:11891:word16]
	Mem294[ss:sp_285 - 0x08 + 0x00:word16] = Mem292[ds_203:11889:word16]
	ds_295 = fn0800_B0F3(wArg00, wArg02, wArg04, wArg06, wArg08)
	sp_296 = sp_285 + 0x02
	branch Mem294[ds_295:11877:word16] <u Mem294[ds_295:11881:word16] l0800_82B9
l0800_8269:
	word16 dx_301 = Mem294[ds_295:11877:word16]
	branch (Mem294[ds_295:11879:word16] != Mem294[ds_295:11883:word16] || (dx_301 != Mem294[ds_295:11881:word16] || (Mem294[ds_295:0x4676:word16] | Mem294[ds_295:18040:word16]) != 0x00)) && (Mem294[ds_295:0x466C:word16] != 0x00 || Mem294[ds_295:0x466A:word16] != ~0x01) l0800_8285
	goto l0800_82B9
l0800_8276:
l0800_827C:
l0800_8285:
l0800_828C:
l0800_8293:
	word16 ax_312 = Mem294[ss:bp_243 - 0x02 + 0x00:word16]
	word16 v21_314 = Mem294[ds_295:0x466E:word16] - Mem294[ss:(bp_243 - 0x04) + 0x00:word16]
	Mem315[ds_295:0x466E:word16] = v21_314
	Mem319[ds_295:0x4670:word16] = Mem315[ds_295:0x4670:word16] - ax_312 - (v21_314 <u 0x00)
l0800_82A1:
	branch (Mem56[ds_295:0x4676:word16] | Mem56[ds_295:18040:word16]) == 0x00 l0800_82AD
	goto l0800_8042
l0800_82AD:
	branch (Mem56[ds_295:0x4672:word16] | Mem56[ds_295:0x4674:word16]) == 0x00 l0800_82B9
	goto l0800_8042
l0800_82B9:
	word16 dx_99 = Mem56[ds_295:11877:word16]
	branch Mem56[ds_295:11879:word16] != Mem56[ds_295:11883:word16] || (dx_99 != Mem56[ds_295:11881:word16] || ((Mem56[ds_295:0x4676:word16] | Mem56[ds_295:18040:word16]) != 0x00 || Mem56[ds_295:0x466C:word16] == 0x00 && Mem56[ds_295:0x466A:word16] == ~0x01)) l0800_82ED
	goto l0800_82E3
l0800_82C6:
l0800_82CC:
l0800_82D5:
l0800_82DC:
l0800_82E3:
	Mem155[ds_295:11847:word16] = Mem56[ds_295:11847:word16] + Mem56[ds_295:0x4672:word16]
l0800_82ED:
	word16 sp_105 = sp_296 - 0x02
	Mem106[ss:sp_105 + 0x00:word16] = ds_295
	Mem109[ss:sp_105 - 0x02 + 0x00:word16] = 10511
	Mem111[ss:sp_105 - 0x04 + 0x00:word16] = Mem109[ds_295:11847:word16]
	selector ds_114 = fn0800_831D(ds_295, wArg00, ptrArg02)
	word16 v13_116 = Mem111[ds_114:0x466A:word16] + 0x01
	Mem117[ds_114:0x466A:word16] = v13_116
	Mem121[ds_114:0x466C:word16] = Mem117[ds_114:0x466C:word16] + (v13_116 <u 0x00)
	Mem126[ss:sp_105 + 0x00:word16] = 0x00
	Mem128[ss:sp_105 - 0x02 + 0x00:word16] = 0x00
	Mem130[ss:sp_105 - 0x04 + 0x00:word16] = 0x00
	Mem132[ss:sp_105 - 0x06 + 0x00:word16] = Mem130[ds_114:10717:word16]
	Mem134[ss:sp_105 - 0x08 + 0x00:word16] = Mem132[ds_114:10715:word16]
	selector ds_135
	fn0800_ACB3(bp_243, ds_114, ptrArg00, wArg02, wArg08, out ds_135)
	return ds_135
fn0800_7FDC_exit:
}

selector fn0800_831D(selector ds, word16 wArg02, segptr32 ptrArg04)
{
	word16 ax_14;
	if (wArg02 >u 0x01)
		ax_14 = fn0800_0C08(wArg02);
	else
		ax_14 = wArg02;
	word16 ax_17 = (word16) (ax_14 *s 0x0C);
	selector es_20 = SLICE(ptrArg04, selector, 16);
	word16 v14_23 = Mem0[es_20:ax_17 + 0x02:word16] + 0x01;
	Mem24[es_20:ax_17 + 0x02:word16] = v14_23;
	Mem28[es_20:ax_17 + 0x04:word16] = Mem24[es_20:ax_17 + 0x04:word16] + (v14_23 <u 0x00);
	return fn0800_401E(fp - 0x02, ds, wArg02, Mem28[ds:10715:word16], Mem28[ds:10717:word16]);
}

selector fn0800_8359(selector ds)
{
	word16 di_17;
	selector ds_18;
	word16 ax_19 = fn0800_3DCF(ds, DPB(ptrLoc08, Mem0[ds:0x29E3:word16], 0), Mem0[ds:0x29E5:word16], out di_17, out ds_18);
	Mem22[ss:fp - 0x03 + 0x00:byte] = (byte) ax_19;
	Mem36[ds_18:11851:word16] = SEQ(ds_18, 0x2A29)[(DPB(ax_19, 0x00, 8) & 0xFF) * 0x02] ^ Mem22[ds_18:11851:word16] >>u 0x08;
	word16 v15_37 = Mem36[ds_18:0x29FF:word16] + 0x01;
	Mem38[ds_18:0x29FF:word16] = v15_37;
	Mem42[ds_18:0x2A01:word16] = Mem38[ds_18:0x2A01:word16] + (v15_37 <u 0x00);
	return ds_18;
}

selector fn0800_83A1(word16 bp, selector ds, segptr32 ptrArg02, word16 wArg06)
{
	word16 di_101 = wArg06;
	word16 si_17 = wArg06;
	while (true)
	{
		si_17 = si_17 - 0x01;
		if (si_17 == 0x00 || Mem0[SLICE(ptrArg02, selector, 16):((word16) ptrArg02 + (word16) (si_17 *s 0x0C)) + 0x0A:word16] != 0x00)
			break;
		di_101 = di_101 - 0x01;
	}
	selector ds_49 = fn0800_8489(fp - 0x02, ds, di_101);
	Mem56[ss:fp - 0x04 + 0x00:word16] = Mem0[ss:fp + 0x02:word16] + 0x0A;
	word16 sp_50 = fp - 0x08;
	word16 si_51 = 0x00;
	if (0x00 <u di_101)
		do
		{
			word16 sp_76 = sp_50 - 0x02;
			Mem77[ss:sp_76 + 0x00:word16] = 0x04;
			Mem81[ss:sp_76 - 0x02 + 0x00:word16] = Mem77[Mem77[ss:fp + 0x04:selector]:Mem77[ss:fp - 0x04 + 0x00:word16] + 0x00:word16];
			ds_49 = fn0800_8489(fp - 0x02, ds_49, wArg00);
			Mem86[ss:fp - 0x04 + 0x00:word16] = Mem81[ss:fp - 0x04 + 0x00:word16] + 0x0C;
			sp_50 = sp_76 + 0x02;
			si_51 = si_51 + 0x01;
		} while (si_51 <u di_101);
	return ds_49;
}

selector fn0800_8407(word16 bp, selector ds, word16 wArg02, segptr32 ptrArg04)
{
	word16 ax_18;
	if (wArg02 >u 0x01)
		ax_18 = fn0800_0C08(wArg02);
	else
		ax_18 = wArg02;
	selector ds_35 = fn0800_8489(fp - 0x02, ds, Mem0[SLICE(ptrArg04, selector, 16):(word16) (ax_18 *s 0x0C) + 0x08:word16]);
	if (Mem0[ss:fp - 0x04 + 0x00:word16] >u 0x01)
	{
		Mem56[ss:fp - 0x0A + 0x00:word16] = Mem0[ss:fp - 0x04 + 0x00:word16] - 0x01;
		Mem65[ss:fp - 0x0C + 0x00:word16] = wArg02 - (0x01 << Mem56[ss:(fp - 0x04) + 0x00:byte] - 0x01);
		ds_35 = fn0800_8489(fp - 0x02, ds_35, wArg00);
	}
	return ds_35;
}

selector fn0800_8465(selector ds, word16 wArg02, word16 wArg04)
{
	if (Mem0[ds:0x2A21:word16] != 0x02)
		return fn0800_8489(fp - 0x02, ds, wArg02);
	else
		return fn0800_854B(fp - 0x02, ds, (byte) wArg04);
}

selector fn0800_8489(word16 bp, selector ds, word16 wArg02)
{
	word16 sp_10 = fp - 0x06;
	word16 di_139 = wArg02;
	while (true)
	{
		word16 ax_36 = Mem0[ss:fp + 0x04:word16];
		Mem38[ss:fp + 0x04:word16] = Mem0[ss:fp + 0x04:word16] - 0x01;
		if (ax_36 == 0x00)
			break;
		Mem44[ds:11843:word16] = Mem38[ds:11843:word16] >>u 0x01;
		if ((di_139 & 0x01) != 0x00)
			Mem148[ds:11843:word16] = Mem44[ds:11843:word16] | 0x8000;
		Mem52[ds:11845:word16] = Mem44[ds:11845:word16] + 0x01;
		di_139 = di_139 >>u 0x01;
		word16 ax_53 = Mem52[ds:11845:word16];
		if (ax_53 == 0x10)
		{
			word16 sp_58 = sp_10 - 0x02;
			Mem59[ss:sp_58 + 0x00:word16] = DPB(ax_53, Mem52[ds:11843:byte], 0);
			word16 di_61;
			selector ds_62;
			fn0800_8624(ds, bArg00, out di_61, out ds_62);
			word16 ax_65 = Mem59[ds_62:11843:word16];
			Mem70[ss:sp_58 + 0x00:word16] = ax_65 >>u 0x08;
			fn0800_8624(ds_62, bArg00, out di_139, out ds);
			word16 ax_136 = ax_65 >>u 0x08;
			sp_10 = sp_58 + 0x02;
			word16 si_141 = 0x00;
			while (Mem70[ds:20098:word16] != 0x00)
			{
				ax_136 = DPB(ax_136, Mem70[ds:si_141 + 18050:byte], 0);
				word16 sp_137 = sp_10 - 0x02;
				Mem138[ss:sp_137 + 0x00:word16] = ax_136;
				si_141 = fn0800_8624(ds, bArg00, out di_139, out ds);
				Mem145[ds:20098:word16] = Mem138[ds:20098:word16] - 0x01;
				sp_10 = sp_137 + 0x02;
			}
			word16 ax_88 = Mem70[ds:0x2A01:word16];
			word16 dx_89 = Mem70[ds:0x29FF:word16];
			if (ax_88 >=u Mem70[ds:0x2A05:word16] && (ax_88 >u Mem70[ds:0x2A05:word16] || dx_89 >u Mem70[ds:0x2A03:word16]))
			{
				word16 dx_108 = Mem70[ds:0x29FF:word16] - Mem70[ds:0x2A03:word16];
				word16 ax_111 = Mem70[ds:0x2A01:word16] - Mem70[ds:0x2A05:word16] - (dx_108 <u 0x00);
				if (ax_111 >=u Mem70[ds:20106:word16] && (ax_111 >u Mem70[ds:20106:word16] || dx_108 >u Mem70[ds:0x4E88:word16]))
				{
					word16 dx_121 = Mem70[ds:0x29FF:word16] - Mem70[ds:0x2A03:word16];
					Mem126[ds:20106:word16] = Mem70[ds:0x2A01:word16] - Mem70[ds:0x2A05:word16] - (dx_121 <u 0x00);
					Mem127[ds:0x4E88:word16] = dx_121;
				}
			}
			Mem104[ds:11845:word16] = 0x00;
			Mem105[ds:11843:word16] = 0x00;
		}
	}
	return ds;
}

selector fn0800_854B(word16 bp, selector ds, byte bArg04)
{
	word16 sp_10 = fp - 0x06;
	word16 di_129 = 0x01 << bArg04 - 0x01;
	while (true)
	{
		word16 ax_37 = Mem0[ss:fp + 0x04:word16];
		Mem39[ss:fp + 0x04:word16] = Mem0[ss:fp + 0x04:word16] - 0x01;
		if (ax_37 == 0x00)
			break;
		Mem45[ds:11843:word16] = Mem39[ds:11843:word16] << 0x01;
		if ((Mem45[ss:fp + 0x02:word16] & di_129) != 0x00)
			Mem138[ds:11843:word16] = Mem45[ds:11843:word16] + 0x01;
		Mem52[ds:11845:word16] = Mem45[ds:11845:word16] + 0x01;
		di_129 = di_129 >>u 0x01;
		word16 ax_53 = Mem52[ds:11845:word16];
		if (ax_53 == 0x08)
		{
			word16 ax_126 = DPB(ax_53, Mem52[ds:11843:byte], 0);
			word16 sp_58 = sp_10 - 0x02;
			Mem59[ss:sp_58 + 0x00:word16] = ax_126;
			fn0800_8624(ds, bArg00, out di_129, out ds);
			sp_10 = sp_58 + 0x02;
			word16 si_131 = 0x00;
			while (Mem59[ds:20098:word16] != 0x00)
			{
				ax_126 = DPB(ax_126, Mem59[ds:si_131 + 18050:byte], 0);
				word16 sp_127 = sp_10 - 0x02;
				Mem128[ss:sp_127 + 0x00:word16] = ax_126;
				si_131 = fn0800_8624(ds, bArg00, out di_129, out ds);
				Mem135[ds:20098:word16] = Mem128[ds:20098:word16] - 0x01;
				sp_10 = sp_127 + 0x02;
			}
			word16 ax_78 = Mem59[ds:0x2A01:word16];
			word16 dx_79 = Mem59[ds:0x29FF:word16];
			if (ax_78 >=u Mem59[ds:0x2A05:word16] && (ax_78 >u Mem59[ds:0x2A05:word16] || dx_79 >u Mem59[ds:0x2A03:word16]))
			{
				word16 dx_98 = Mem59[ds:0x29FF:word16] - Mem59[ds:0x2A03:word16];
				word16 ax_101 = Mem59[ds:0x2A01:word16] - Mem59[ds:0x2A05:word16] - (dx_98 <u 0x00);
				if (ax_101 >=u Mem59[ds:20106:word16] && (ax_101 >u Mem59[ds:20106:word16] || dx_98 >u Mem59[ds:0x4E88:word16]))
				{
					word16 dx_111 = Mem59[ds:0x29FF:word16] - Mem59[ds:0x2A03:word16];
					Mem116[ds:20106:word16] = Mem59[ds:0x2A01:word16] - Mem59[ds:0x2A05:word16] - (dx_111 <u 0x00);
					Mem117[ds:0x4E88:word16] = dx_111;
				}
			}
			Mem94[ds:11845:word16] = 0x00;
			Mem95[ds:11843:word16] = 0x00;
		}
	}
	return ds;
}

word16 fn0800_8600(selector ds, byte bArg02, ptr16 & diOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*diOut = di;
	if (Mem0[ds:11845:word16] == 0x00)
	{
		word16 di_41;
		selector ds_42;
		return fn0800_8624(ds, bArg02, out di_41, out ds_42);
	}
	else
	{
		Mem28[ds:Mem0[ds:20098:word16] + 18050:byte] = bArg02;
		Mem30[ds:20098:word16] = Mem28[ds:20098:word16] + 0x01;
		return si;
	}
}

word16 fn0800_8624(selector ds, byte bArg02, ptr16 & diOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*diOut = di;
	word16 ax_9 = Mem0[ds:0x2A05:word16];
	word16 dx_10 = Mem0[ds:0x2A03:word16];
	if (ax_9 <=u Mem0[ds:20102:word16] && (ax_9 <u Mem0[ds:20102:word16] || dx_10 <u Mem0[ds:20100:word16]))
	{
		selector ds_58;
		*diOut = fn0800_4047(ds, bArg02, DPB(ptrLoc06, Mem0[ds:10719:word16], 0), Mem0[ds:10721:word16], out ds_58);
		Mem73[ds_58:11849:word16] = SEQ(ds_58, 0x2A29)[(DPB(DPB(ax_9, bArg02, 0), 0x00, 8) & 0xFF) * 0x02] ^ Mem0[ds_58:11849:word16] >>u 0x08;
		word16 v16_74 = Mem73[ds_58:0x2A03:word16] + 0x01;
		Mem75[ds_58:0x2A03:word16] = v16_74;
		Mem79[ds_58:0x2A05:word16] = Mem75[ds_58:0x2A05:word16] + (v16_74 <u 0x00);
	}
	return si;
}

word16 fn0800_867A(word16 wArg04, selector psegArg06, word16 wArg08, selector psegArg0A, ptr16 & dsOut)
{
	word16 si_27;
	word16 bx_116 = DPB(bx, fn0800_87EF(wArg04 + 0x04, psegArg06, out si_27), 0);
	byte al_42 = Mem0[psegArg06:si_27 + 0x0A:byte] * 0x02 + true;
	selector ds_20 = psegArg06;
	word16 di_129 = wArg08;
	selector es_24 = psegArg0A;
	word16 si_109 = si_27 + 11;
	byte al_110 = al_42 * 0x02;
	word16 ax_111 = DPB(ax, al_42 * 0x02, 0);
l0800_8745:
	al_110 = al_110 * 0x02;
	byte SCZO_66 = cond(al_110);
	ax_111 = DPB(ax_111, al_110, 0);
	byte Z_529 = SCZO_66;
	byte C_531 = SCZO_66;
	if (al_110 >=u 0x00)
	{
		Mem523[es_24:di_129 + 0x00:byte] = Mem0[ds_20:si_109 + 0x00:byte];
		byte SCZO_528 = cond(al_110 * 0x02);
		si_109 = si_109 + 0x01 + 0x01;
		di_129 = di_129 + 0x01 + 0x01;
		al_110 = al_110 * 0x02;
		ax_111 = DPB(ax_111, al_110 * 0x02, 0);
		Z_529 = SCZO_528;
		C_531 = SCZO_528;
		if (al_110 * 0x02 >=u 0x00)
			goto l0800_8744;
	}
	if (!Z_529)
	{
l0800_8753:
		byte al_103 = al_110 * 0x02;
		word16 cx_118 = 0x02;
		byte bh_439 = 0x00;
		bx_116 = DPB(bx_116, 0x00, 8);
		word16 ax_104 = DPB(ax_111, al_103, 0);
		byte C_102 = cond(al_103);
		if (al_103 == 0x00)
		{
			al_103 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_103 <u 0x00);
			si_109 = si_109 + 0x01;
			ax_104 = DPB(ax_111, al_103, 0);
			C_102 = cond(al_103);
		}
		if (!C_102)
		{
			al_110 = al_103 * 0x02;
			ax_111 = DPB(ax_104, al_110, 0);
			byte C_288 = cond(al_110);
			if (al_110 == 0x00)
			{
				al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_111 = DPB(ax_104, al_110, 0);
				C_288 = cond(al_110);
			}
			if (C_288)
			{
l0800_8728:
				bx_116 = DPB(bx_116, Mem0[ds_20:si_109 + 0x00:byte], 0);
				__cli();
				word16 si_122 = si_109 + 0x01;
				word16 si_126 = di_129 - 0x01 - bx_116;
				while (cx_118 != 0x00)
				{
					Mem133[es_24:di_129 + 0x00:byte] = Mem0[ds_20:si_126 + 0x00:byte];
					si_126 = si_126 + 0x01;
					di_129 = di_129 + 0x01;
					cx_118 = cx_118 - 0x01;
				}
				__sti();
				si_109 = si_122;
				continue;
			}
			al_110 = al_110 * 0x02;
			cx_118 = 0x03;
			ax_111 = DPB(ax_111, al_110, 0);
			byte C_303 = cond(al_110);
			if (al_110 == 0x00)
			{
				al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_111 = DPB(ax_111, al_110, 0);
				C_303 = cond(al_110);
			}
			if (!C_303)
			{
				byte cl_311 = Mem0[ds_20:si_109 + 0x00:byte];
				si_109 = si_109 + 0x01;
				word16 cx_314 = DPB(0x03, cl_311, 0);
				if (cl_311 == 0x00)
				{
					word16 ax_337 = ds_20 + (si_109 >>u 0x04);
					byte al_340 = (byte) ax_111;
					di_129 = (di_129 & 0x0F) + 0x8000;
					es_24 = es_24 + (di_129 >>u 0x04) - 0x0800;
					si_109 = si_109 & 0x0F;
					bx_116 = si_109 >>u 0x04;
					ds_20 = ax_337;
					al_110 = al_340 * 0x02;
					ax_111 = DPB(ax_111, al_340 * 0x02, 0);
					byte C_347 = cond(al_340 * 0x02);
					if (al_340 * 0x02 == 0x00)
					{
						al_110 = Mem0[ax_337:(si_109 & 0x0F) + 0x00:byte] * 0x02 + (al_340 * 0x02 <u 0x00);
						si_109 = (si_109 & 0x0F) + 0x01;
						ax_111 = DPB(ax_111, al_110, 0);
						C_347 = cond(al_110);
					}
					if (!C_347)
						goto l0800_8745;
					*dsOut = psegLoc0A;
					return si;
				}
				cx_118 = cx_314 + 0x08;
			}
		}
		else
		{
			byte al_393 = al_103 * 0x02;
			word16 ax_394 = DPB(ax_104, al_393, 0);
			byte C_398 = cond(al_393);
			if (al_393 == 0x00)
			{
				al_393 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_393 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_394 = DPB(ax_104, al_393, 0);
				C_398 = cond(al_393);
			}
			al_110 = al_393 * 0x02;
			cx_118 = DPB(0x02, C_398 + 0x04, 0);
			ax_111 = DPB(ax_394, al_110, 0);
			byte C_410 = cond(al_110);
			if (al_110 == 0x00)
			{
				al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_111 = DPB(ax_394, al_110, 0);
				C_410 = cond(al_110);
			}
			if (!C_410)
			{
				al_110 = al_110 * 0x02;
				ax_111 = DPB(ax_111, al_110, 0);
				byte C_423 = cond(al_110);
				if (al_110 == 0x00)
				{
					al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
					si_109 = si_109 + 0x01;
					ax_111 = DPB(ax_111, al_110, 0);
					C_423 = cond(al_110);
				}
				byte cl_431 = (byte) (cx_118 - 0x01) * 0x02 + C_423;
				cx_118 = DPB(cx_118 - 0x01, cl_431, 0);
				if (cl_431 == 0x09)
				{
					word16 cx_436 = DPB(cx_118 - 0x01, 0x04, 0);
					do
					{
						al_110 = al_110 * 0x02;
						ax_111 = DPB(ax_111, al_110, 0);
						byte C_449 = cond(al_110);
						if (al_110 == 0x00)
						{
							al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
							si_109 = si_109 + 0x01;
							ax_111 = DPB(ax_111, al_110, 0);
							C_449 = cond(al_110);
						}
						bh_439 = bh_439 * 0x02 + C_449;
						bx_116 = DPB(bx_116, bh_439, 8);
						cx_436 = cx_436 - 0x01;
					} while (cx_436 != 0x00);
					word16 cx_464 = DPB(cx_436, (bh_439 + 0x03) * 0x02, 0);
					while (cx_464 != 0x00)
					{
						Mem471[es_24:di_129 + 0x00:word16] = Mem0[ds_20:si_109 + 0x00:word16];
						si_109 = si_109 + 0x02;
						di_129 = di_129 + 0x02;
						cx_464 = cx_464 - 0x01;
					}
					continue;
				}
			}
		}
		al_110 = al_110 * 0x02;
		ax_111 = DPB(ax_111, al_110, 0);
		byte C_149 = cond(al_110);
		if (al_110 == 0x00)
		{
			al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
			si_109 = si_109 + 0x01;
			ax_111 = DPB(ax_111, al_110, 0);
			C_149 = cond(al_110);
		}
		if (!C_149)
		{
			byte al_157 = al_110 * 0x02;
			word16 ax_158 = DPB(ax_111, al_157, 0);
			byte C_162 = cond(al_157);
			if (al_157 == 0x00)
			{
				al_157 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_157 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_158 = DPB(ax_111, al_157, 0);
				C_162 = cond(al_157);
			}
			al_110 = al_157 * 0x02;
			ax_111 = DPB(ax_158, al_110, 0);
			byte C_174 = cond(al_110);
			if (al_110 == 0x00)
			{
				al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_111 = DPB(ax_158, al_110, 0);
				C_174 = cond(al_110);
			}
			if (!C_174)
			{
				bx_116 = DPB(bx_116, C_162, 8);
				if (C_162 != 0x00)
					goto l0800_8728;
				bx_116 = DPB(bx_116, C_162 + 0x01, 8);
l0800_8722:
				al_110 = al_110 * 0x02;
				ax_111 = DPB(ax_111, al_110, 0);
				if (al_110 == 0x00)
				{
					al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
					si_109 = si_109 + 0x01;
					ax_111 = DPB(ax_111, al_110, 0);
				}
				goto l0800_8728;
			}
			byte al_217 = al_110 * 0x02;
			word16 ax_218 = DPB(ax_111, al_217, 0);
			byte C_222 = cond(al_217);
			if (al_217 == 0x00)
			{
				al_217 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_217 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_218 = DPB(ax_111, al_217, 0);
				C_222 = cond(al_217);
			}
			al_110 = al_217 * 0x02;
			bx_116 = DPB(bx_116, C_162 * 0x02 + C_222 | 0x04, 8);
			ax_111 = DPB(ax_218, al_110, 0);
			byte C_235 = cond(al_110);
			if (al_110 == 0x00)
			{
				al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + (al_110 <u 0x00);
				si_109 = si_109 + 0x01;
				ax_111 = DPB(ax_218, al_110, 0);
				C_235 = cond(al_110);
			}
			if (!C_235)
				goto l0800_8722;
		}
		goto l0800_8728;
	}
	al_110 = Mem0[ds_20:si_109 + 0x00:byte] * 0x02 + C_531;
	si_109 = si_109 + 0x01;
	ax_111 = DPB(ax_111, al_110, 0);
	if (al_110 <u 0x00)
		goto l0800_8753;
l0800_8744:
	Mem79[es_24:di_129 + 0x00:byte] = Mem0[ds_20:si_109 + 0x00:byte];
	si_109 = si_109 + 0x00;
	di_129 = di_129 + 0x00;
	continue;
}

byte fn0800_87EF(word16 si, selector ds, ptr16 & siOut)
{
	word16 si_5;
	byte al_6 = fn0800_87F4(si, ds, out si_5);
	word16 si_11;
	fn0800_87F4(si_5, ds, out si_11);
	return al_6;
}

byte fn0800_87F4(word16 si, selector ds, ptr16 & siOut)
{
	*siOut = si + 0x02;
	return Mem0[si + 0x01:byte];
}

void fn0800_87F8(selector ds)
{
	ptr32 es_di_9 = Mem0[ds:11831:segptr32];
	word16 di_10 = (word16) es_di_9;
	selector es_11 = SLICE(es_di_9, selector, 16);
	word16 ax_12 = Mem0[ds:11825:word16];
	word16 cx_13 = 0x8000;
	while (cx_13 != 0x00)
	{
		Mem17[es_11:di_10 + 0x00:word16] = ax_12;
		di_10 = di_10 + 0x02;
		cx_13 = cx_13 - 0x01;
	}
	ptr32 es_di_21 = Mem0[ds:0x2E33:segptr32];
	word16 di_22 = (word16) es_di_21;
	selector es_23 = SLICE(es_di_21, selector, 16);
	word16 ax_24 = Mem0[ds:11825:word16];
	word16 cx_25 = 0x8000;
	while (cx_25 != 0x00)
	{
		Mem29[es_23:di_22 + 0x00:word16] = ax_24;
		di_22 = di_22 + 0x02;
		cx_25 = cx_25 - 0x01;
	}
	ptr32 es_di_33 = Mem0[ds:11835:segptr32];
	word16 di_34 = (word16) es_di_33;
	selector es_35 = SLICE(es_di_33, selector, 16);
	word16 cx_36 = Mem0[ds:11825:word16];
	while (cx_36 != 0x00)
	{
		Mem43[es_35:di_34 + 0x00:word16] = 0x00;
		di_34 = di_34 + 0x02;
		cx_36 = cx_36 - 0x01;
	}
	ptr32 es_di_47 = Mem0[ds:11839:segptr32];
	word16 di_48 = (word16) es_di_47;
	selector es_49 = SLICE(es_di_47, selector, 16);
	word16 ax_50 = 0x00;
	word16 cx_53 = Mem0[ds:11825:word16];
	do
	{
		Mem57[es_49:di_48 + 0x00:word16] = ax_50;
		di_48 = di_48 + 0x02;
		ax_50 = ax_50 + 0x01;
		cx_53 = cx_53 - 0x01;
	} while (cx_53 != 0x00);
	Mem63[ds:11821:word16] = cx_53;
	return;
}

void fn0800_8832(selector ds)
{
	fn0800_889A(ds);
	if (Mem0[ds:11817:word16] >=u 0x02 && Mem0[ds:11877:word16] - Mem0[ds:11885:word16] >=u 0x03)
	{
		word16 ax_35 = Mem0[ds:11821:word16];
		word16 si_33 = Mem0[ds:11817:word16];
		word16 di_34 = Mem0[ds:11819:word16];
		word16 ax_38 = ax_35 + 0x01;
		if (ax_35 + 0x01 == Mem0[ds:11825:word16])
			ax_38 = 0x00;
		Mem43[ds:11821:word16] = ax_38;
		Mem45[ds:11885:word16] = Mem43[ds:11885:word16] + 0x01;
		fn0800_889A(ds);
		Mem48[ds:11885:word16] = Mem45[ds:11885:word16] - 0x01;
		Mem49[ds:11821:word16] = ax_35;
		if (Mem49[ds:11817:word16] >u si_33)
		{
			Mem53[ds:11817:word16] = 0x01;
			Mem54[ds:11819:word16] = 0x00;
		}
		else
		{
			Mem55[ds:11817:word16] = si_33;
			Mem56[ds:11819:word16] = di_34;
		}
	}
	return;
}

void fn0800_889A(selector ds)
{
fn0800_889A_entry:
	def ds
	Mem10[ds:11819:word16] = 0x00
	Mem12[ds:11817:word16] = 0x01
	es_di_13 = Mem12[ds:11885:segptr32]
	di_14 = (word16) es_di_13 (alias)
	es_15 = SLICE(es_di_13, selector, 16) (alias)
	ax_16 = Mem0[Mem0[es_di_13 + 0x00:word16] + 0x00:word16]
	al_17 = (byte) ax_16 (alias)
	Mem18[ds:20112:word16] = ax_16
	di_19 = di_14 + 0x01
	dx_21 = Mem18[ds:11881:word16]
	dx_22 = dx_21 - (di_14 + 0x01)
	SCZO_23 = cond(dx_22)
	Z_25 = SCZO_23 (alias)
	cx_28 = dx_22
	goto l0800_88BC
l0800_889A:
l0800_88BC:
	cx_31 = PHI(cx_28, cx_236)
	Z_33 = PHI(Z_25, Z_231)
	di_36 = PHI(di_19, di_234)
	branch cx_31 == 0x00 l0800_88BE
l0800_88BC_1:
	SCZO_229 = cond(al_17 - Mem18[es_15:di_36 + 0x00:byte])
	Z_231 = SCZO_229 (alias)
	di_234 = di_36 + 0x01
	cx_236 = cx_31 - 0x01
	branch al_17 != Mem18[es_15:di_36 + 0x00:byte] l0800_88BC
l0800_88BE:
	cx_39 = PHI(cx_31, cx_236)
	Z_41 = PHI(Z_33, Z_231)
	branch Z_41 l0800_88C1
l0800_88C0:
	cx_227 = cx_39 - 0x01
l0800_88C1:
	cx_46 = PHI(cx_39, cx_227)
	dx_47 = dx_22 - cx_46
	es_di_48 = Mem18[ds:11885:segptr32]
	di_49 = (word16) es_di_48 (alias)
	ax_50 = Mem18[ds:11881:word16]
	ax_51 = ax_50 - di_49
	Mem52[ds:0x4E94:word16] = ax_51
	di_53 = Mem52[ds:20112:word16]
	di_54 = di_53 << 0x01
	es_56 = Mem52[ds:11833:selector]
	ax_57 = SEQ(es_56, 0x00)[di_53 * 0x02]
l0800_88DC:
	ds_67 = PHI(ds, ds_114)
	ax_71 = PHI(ax_57, ax_124)
	branch ax_71 != Mem52[ds_67:11825:word16] l0800_88E5
l0800_88E2:
	branch Mem52[ds_67:11817:word16] != 0x02 || Mem52[ds_67:11819:word16] <=u 0x0100 l0800_89A5
	goto l0800_8996
l0800_88E5:
	di_91 = ax_71
	di_92 = ax_71 << 0x01
	es_93 = Mem52[ds_67:11841:selector]
	bx_95 = Mem52[es_93:di_92 + 0x00:word16]
	Mem96[ds_67:20114:word16] = bx_95
	bx_97 = Mem96[ds_67:11821:word16]
	branch bx_97 >u ax_71 l0800_8903
l0800_88FC:
	bx_225 = bx_97 + Mem96[ds_67:11825:word16]
l0800_8903:
	bx_100 = PHI(bx_97, bx_225)
	bx_101 = bx_100 - ax_71
	es_si_102 = Mem96[ds_67:11885:segptr32]
	es_103 = SLICE(es_si_102, selector, 16) (alias)
	si_104 = (word16) es_si_102 (alias)
	si_105 = si_104 - bx_101
	ax_106 = Mem96[es_103:si_105 + 0x00:word16]
	branch Mem96[ds_67:20112:word16] != ax_106 l0800_897E
l0800_8914:
	es_126 = Mem96[ds_67:11837:selector]
	cx_127 = Mem96[es_126:di_92 + 0x00:word16]
	branch cx_127 <=u bx_101 l0800_892D
l0800_8922:
	bx_153 = 0x01
	cx_154 = dx_47
	goto l0800_8963
l0800_892D:
	branch cx_127 <=u dx_47 l0800_893A
l0800_8931:
	cx_221 = cx_127 - dx_47
	bx_222 = bx_101 - cx_221
	cx_224 = dx_47
l0800_893A:
	bx_157 = PHI(bx_101, bx_222)
	cx_158 = PHI(cx_127, cx_224)
	branch cx_158 != dx_47 l0800_8963
l0800_893E:
	es_di_161 = Mem96[ds_67:11885:segptr32]
	di_162 = (word16) es_di_161 (alias)
	es_163 = SLICE(es_di_161, selector, 16) (alias)
	di_164 = di_162 + cx_158
	si_166 = di_164
	si_167 = di_164 - bx_157
	ax_169 = Mem96[ds_67:0x4E94:word16]
	ax_170 = ax_169 - cx_158
	SCZO_172 = cond(ax_170)
	Z_174 = SCZO_172 (alias)
	cx_177 = ax_170
	wLoc06_179 = ds_67
	ds_180 = Mem96[ds_67:11887:selector]
l0800_8957:
	cx_184 = PHI(cx_177, cx_220)
	Z_186 = PHI(Z_174, Z_213)
	di_189 = PHI(di_164, di_218)
	si_190 = PHI(si_167, si_216)
	branch cx_184 == 0x00 l0800_8959
l0800_8957_1:
	SCZO_211 = cond(Mem96[ds_180:si_190 + 0x00:byte] - Mem96[es_163:di_189 + 0x00:byte])
	Z_213 = SCZO_211 (alias)
	si_216 = si_190 + 0x01
	di_218 = di_189 + 0x01
	cx_220 = cx_184 - 0x01
	branch Mem96[ds_180:si_190 + 0x00:byte] != Mem96[es_163:di_189 + 0x00:byte] l0800_8957
l0800_8959:
	cx_194 = PHI(cx_184, cx_220)
	Z_196 = PHI(Z_186, Z_213)
	branch Z_196 l0800_895C
l0800_895B:
	cx_209 = cx_194 + 0x01
l0800_895C:
	cx_202 = PHI(cx_194, cx_209)
	ds_203 = ds_67
	ax_205 = ax_170 - cx_202
	cx_206 = dx_47
	cx_207 = dx_47 + ax_205
l0800_8963:
	ds_135 = PHI(ds_67, ds_67, ds_203)
	bx_136 = PHI(bx_153, bx_157, bx_157)
	cx_137 = PHI(cx_154, cx_158, cx_207)
	branch cx_137 <=u Mem96[ds_135:0x2E2F:word16] l0800_896D
l0800_8969:
	cx_152 = Mem96[ds_135:0x2E2F:word16]
l0800_896D:
	cx_147 = PHI(cx_137, cx_152)
	branch cx_147 <u Mem96[ds_135:11817:word16] l0800_897E
l0800_8973:
	Mem150[ds_135:11817:word16] = cx_147
	Mem151[ds_135:11819:word16] = bx_136
l0800_897E:
	ds_114 = PHI(ds_67, ds_135, ds_135)
	ax_124 = Mem96[ds_114:20114:word16]
	goto l0800_88DC
l0800_8984:
l0800_898B:
l0800_8996:
	Mem89[ds_67:11817:word16] = 0x01
	Mem90[ds_67:11819:word16] = 0x00
l0800_89A5:
	return
fn0800_889A_exit:
}

void fn0800_89A8(selector ds, word16 wArg02)
{
	word16 dx_12 = Mem0[ds:11825:word16];
l0800_89B1:
	word16 di_28 = Mem0[ds:11821:word16];
	selector es_30 = Mem0[ds:11841:selector];
	word16 ax_31 = SEQ(es_30, 0x00)[di_28 * 0x02];
	SEQ(es_30, 0x00)[di_28 * 0x02] = dx_12;
	if (Mem33[ds:11821:word16] != ax_31)
	{
		ptr32 es_di_165 = Mem33[ds:11885:segptr32];
		word16 di_169 = Mem33[SLICE(es_di_165, selector, 16):(word16) es_di_165 - dx_12 + 0x00:word16];
		SEQ(Mem33[ds:11833:selector], 0x00)[di_169 * 0x02] = ax_31;
		if (ax_31 == dx_12)
			SEQ(Mem173[ds:11829:selector], 0x00)[di_169 * 0x02] = dx_12;
	}
	word16 di_39 = Mem0[Mem0[Mem33[ds:11885:segptr32] + 0x00:word16] + 0x00:word16];
	word16 ax_41 = Mem33[ds:11821:word16];
	selector es_43 = Mem33[ds:11833:selector];
	if (SEQ(es_43, 0x00)[di_39 * 0x02] == dx_12)
		SEQ(es_43, 0x00)[di_39 * 0x02] = ax_41;
	else
		SEQ(Mem33[ds:11841:selector], 0x00)[SEQ(Mem33[ds:11829:selector], 0x00)[di_39 * 0x02] * 0x02] = ax_41;
	SEQ(Mem33[ds:11829:selector], 0x00)[di_39 * 0x02] = ax_41;
	ptr32 es_di_49 = Mem48[ds:11885:segptr32];
	word16 di_50 = (word16) es_di_49;
	word16 bx_57 = Mem48[ds:11881:word16] - (di_50 + 0x01);
	selector es_51 = SLICE(es_di_49, selector, 16);
	byte al_52 = Mem0[Mem0[es_di_49 + 0x00:byte] + 0x00:byte];
	word16 di_154 = di_50 + 0x01;
	byte Z_150 = cond(bx_57);
	word16 cx_147 = bx_57;
	if (cx_147 != 0x00)
	{
		Z_150 = cond(al_52 - Mem48[es_51:di_178 + 0x00:byte]);
		di_154 = di_178 + 0x01;
		cx_147 = cx_147 - 0x01;
		di_178 = di_154;
		if (al_52 != Mem48[es_51:di_178 + 0x00:byte])
			goto l0800_8A2F;
	}
	if (!Z_150)
		cx_147 = cx_147 - 0x01;
	word16 bx_111 = bx_57 - cx_147;
	SEQ(Mem48[ds:11837:selector], 0x00)[Mem48[ds:11821:word16] * 0x02] = bx_111;
	while (true)
	{
		word16 ax_96 = Mem87[ds:11821:word16];
		word16 ax_102 = ax_96 + 0x01;
		if (ax_96 + 0x01 == dx_12)
			ax_102 = 0x00;
		Mem104[ds:11821:word16] = ax_102;
		Mem106[ds:11885:word16] = Mem104[ds:11885:word16] + 0x01;
		word16 v20_107 = wArg02 - 0x01;
		wArg02 = v20_107;
		if (v20_107 == 0x00)
			break;
		bx_111 = bx_111 - 0x01;
		if (bx_111 <=u 0x01)
			goto l0800_89B1;
		word16 di_114 = Mem106[ds:11821:word16];
		SEQ(Mem106[ds:11837:selector], 0x00)[di_114 * 0x02] = bx_111;
		selector es_118 = Mem117[ds:11841:selector];
		word16 v22_120 = SEQ(es_118, 0x00)[di_114 * 0x02];
		SEQ(es_118, 0x00)[di_114 * 0x02] = Mem117[ds:11821:word16];
		if (Mem121[ds:11821:word16] != v22_120)
		{
			ptr32 es_di_126 = Mem121[ds:11885:segptr32];
			word16 di_130 = Mem121[SLICE(es_di_126, selector, 16):(word16) es_di_126 - dx_12 + 0x00:word16];
			SEQ(Mem121[ds:11833:selector], 0x00)[di_130 * 0x02] = v22_120;
			if (v22_120 == dx_12)
				SEQ(Mem134[ds:11829:selector], 0x00)[di_130 * 0x02] = dx_12;
		}
	}
	return;
}

byte fn0800_8B0D(byte al, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 bp_120 = fp - 0x02;
	word16 sp_121 = fp - 0x04;
	word16 si_119 = wArg06;
	byte SZO_116 = cond(wArg06);
	byte C_115 = false;
	if (wArg06 == 0x00)
	{
		while (true)
		{
			byte SCZO_122 = cond(Mem0[ds:0x224E:word16]);
			if (Mem0[ds:0x224E:word16] == 0x00)
				break;
			Mem139[ds:0x224E:word16] = Mem0[ds:0x224E:word16] - 0x01;
			word16 bx_140 = Mem139[ds:0x224E:word16];
			SEQ(cs, SEQ(ds, 20118)[bx_140 * 0x02])();
		}
		fn0800_0150(al);
		SEQ(cs, Mem0[ds:0x2352:word16])();
	}
	byte dl_107;
	byte al_106 = fn0800_01B9(ds, out dl_107);
	fn0800_0163();
	byte SCZO_34 = cond(wArg04);
	if (wArg04 == 0x00)
	{
		byte SZO_59 = cond(si_119);
		if (si_119 == 0x00)
		{
			word16 sp_80;
			word16 bp_81;
			selector ss_82;
			word16 si_83;
			byte SZO_84;
			byte C_85;
			byte Z_86;
			byte SCZO_87;
			selector ds_88;
			selector cs_89;
			word16 cx_90;
			word16 bx_91;
			byte al_92;
			byte dl_93;
			SEQ(cs, Mem0[ds:9044:word16])();
			SEQ(cs_89, Mem0[ds_88:0x2356:word16])();
		}
		fn0800_0164(al_106, (byte) wArg02);
	}
	return dl_107;
}

byte fn0800_8B5A(selector ds, word16 wArg02, ptr16 & siOut, ptr16 & dsOut)
{
	*siOut = si;
	selector ds_19;
	return fn0800_8B0D(0x00, ds, wArg02, 0x00, 0x00, out ds_19);
}

void fn0800_8B95(byte al, byte dl, segptr32 ptrArg02)
{
	byte dh_8;
	word16 cx_9;
	word16 dx_12 = DPB(dx, msdos_get_system_date(out dh_8, out cx_9), 0);
	word16 bx_15 = (word16) ptrArg02;
	selector es_16 = SLICE(ptrArg02, selector, 16);
	Mem17[es_16:bx_15 + 0x00:word16] = cx_9;
	Mem18[es_16:bx_15 + 0x02:word16] = dx_12;
	return;
}

void fn0800_8BA8(byte al, byte cl, segptr32 ptrArg02)
{
	word16 bx_16 = (word16) ptrArg02;
	selector es_17 = SLICE(ptrArg02, selector, 16);
	byte ch_8;
	byte dh_9;
	byte dl_10;
	Mem18[es_17:bx_16 + 0x00:word16] = DPB(cx, msdos_get_system_time(out ch_8, out dh_9, out dl_10), 0);
	Mem20[es_17:bx_16 + 0x02:word16] = dx;
	return;
}

word16 fn0800_8BBB(word16 bp, word16 si, word16 di, word16 wArg00, ptr16 & dxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut)
{
	word16 dx_17;
	word16 bp_18;
	word16 si_19;
	word16 di_20;
	return fn0800_8BD8(0x00, bp, si, di, out dx_17, out bp_18, out si_19, out di_20);
}

word16 fn0800_8BC2(word16 bp, word16 si, word16 di, word16 wArg00, ptr16 & dxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut)
{
	word16 dx_15;
	word16 bp_16;
	word16 si_17;
	word16 di_18;
	return fn0800_8BD8(0x01, bp, si, di, out dx_15, out bp_16, out si_17, out di_18);
}

word16 fn0800_8BCA(word16 bp, word16 si, word16 di, word16 wArg00, ptr16 & dxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut)
{
	word16 dx_15;
	word16 bp_16;
	word16 si_17;
	word16 di_18;
	return fn0800_8BD8(0x02, bp, si, di, out dx_15, out bp_16, out si_17, out di_18);
}

word16 fn0800_8BD8(word16 cx, word16 bp, word16 si, word16 di, ptr16 & dxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut)
{
	Mem5[ss:v3 - 0x02 + 0x00:word16] = bp;
	Mem9[ss:v3 - 0x04 + 0x00:word16] = si;
	Mem12[ss:v3 - 0x06 + 0x00:word16] = di;
	word16 cx_22 = Mem12[ss:v3 + 0x0A:word16];
	word16 sp_10 = v3 - 0x06;
	word16 di_15 = cx;
	word16 ax_101 = Mem12[ss:v3 + 0x04:word16];
	word16 dx_117 = Mem12[ss:v3 + 0x06:word16];
	word16 bx_162 = Mem12[ss:v3 + 0x08:word16];
	word16 cx_157 = cx_22;
	if (cx_22 == 0x00)
	{
		word32 dx_ax_180 = SEQ(dx_117, ax_101);
		if (dx_117 == 0x00 || bx_162 == 0x00)
		{
			word16 dx_186 = dx_ax_180 % bx_162;
			ax_101 = SEQ(dx_186, ax_101) /u bx_162;
			if ((cx & 0x02) != 0x00)
				ax_101 = dx_186;
			*dxOut = 0x00;
l0800_8C56:
			word16 sp_40 = sp_10 + 0x02;
			*diOut = Mem12[ss:sp_10 + 0x00:word16];
			*siOut = Mem12[ss:sp_40 + 0x00:word16];
			*bpOut = Mem12[ss:sp_40 + 0x02:word16];
			return ax_101;
		}
	}
	if ((cx & 0x01) == 0x00)
	{
		if (dx_117 < 0x00)
		{
			ax_101 = -ax_101;
			dx_117 = -dx_117 - (ax_101 == 0x00);
			di_15 = cx | 0x0C;
		}
		cx_157 = cx_22;
		if (cx_22 < 0x00)
		{
			bx_162 = -bx_162;
			cx_157 = -cx_22 - (bx_162 == 0x00);
			di_15 = di_15 ^ 0x04;
		}
	}
	Mem70[ss:v3 - 0x08 + 0x00:word16] = di_15;
	ui32 bp_bx_67 = SEQ(cx_157, bx_162);
	word16 cx_108 = 0x20;
	word16 di_105 = 0x00;
	word16 si_106 = 0x00;
	do
	{
		ax_101 = ax_101 << 0x01;
		dx_117 = __rcl(dx_117, 0x01, cond(ax_101));
		*dxOut = dx_117;
		si_106 = __rcl(si_106, 0x01, (dx_117 & 0x8000) != 0x00);
		di_105 = __rcl(di_105, 0x01, (si_106 & 0x8000) != 0x00);
		ui32 di_si_93 = SEQ(di_105, si_106);
		if (di_105 >=u cx_157 && (di_105 >u cx_157 || si_106 >=u bx_162))
		{
			ui32 di_si_138 = di_si_93 - bp_bx_67;
			di_105 = SLICE(di_si_138, word16, 16);
			si_106 = (word16) di_si_138;
			ax_101 = ax_101 + 0x01;
		}
		cx_108 = cx_108 - 0x01;
	} while (cx_108 != 0x00);
	word16 bx_109 = Mem70[ss:v3 - 0x08 + 0x00:word16];
	sp_10 = v3 - 0x06;
	if ((bx_109 & 0x02) != 0x00)
	{
		ax_101 = si_106;
		*dxOut = di_105;
		bx_109 = bx_109 >>u 0x01;
	}
	if ((bx_109 & 0x04) != 0x00)
	{
		ax_101 = -ax_101;
		*dxOut = -dx_117 - (ax_101 == 0x00);
	}
	goto l0800_8C56;
}

word16 fn0800_8C69(word16 ax, byte cl, word16 dx, word16 wArg00, ptr16 & dxOut)
{
	if (cl >=u 0x10)
	{
		*dxOut = ax << cl - 0x10;
		return 0x00;
	}
	else
	{
		*dxOut = dx << cl | ax >>u -cl + 0x10;
		return ax << cl;
	}
}

word16 fn0800_8C8A(word16 ax, byte cl, word16 dx, word16 wArg00, ptr16 & dxOut)
{
	if (cl >=u 0x10)
	{
		int32 dx_ax_38 = (int32) dx;
		*dxOut = SLICE(dx_ax_38, word16, 16);
		return (word16) dx_ax_38 >> cl - 0x10;
	}
	else
	{
		*dxOut = dx >> cl;
		return ax >>u cl | dx << -cl + 0x10;
	}
}

word16 fn0800_8CAA(word16 ax, byte cl, word16 dx, word16 wArg00, ptr16 & dxOut)
{
	if (cl >=u 0x10)
	{
		*dxOut = 0x00;
		return dx >>u cl - 0x10;
	}
	else
	{
		*dxOut = dx >>u cl;
		return ax >>u cl | dx << -cl + 0x10;
	}
}

word16 fn0800_8CCB(word16 ax, word16 cx, word16 dx, word16 bx, selector psegArg00, ptr16 & dxOut)
{
	byte cl_16 = (byte) cx;
	if (cx >= 0x00)
	{
		word16 ax_73 = ax + bx;
		byte al_74 = (byte) ax_73;
		if (ax_73 <u 0x00)
		{
			dx = dx + 0x1000;
			dh = SLICE(dx + 0x1000, byte, 8);
		}
		*dxOut = DPB(dx, dh + (cl_16 << 0x04), 8) + (ax_73 >>u 0x04);
		return DPB(ax_73 >>u 0x04, al_74, 0) & 0x0F;
	}
	else
	{
		word16 bx_41 = (word16) (SEQ(~cx, bx + 0x01) + 0x01);
		word16 ax_47 = ax - bx_41;
		byte al_48 = (byte) ax_47;
		if (ax_47 <u 0x00)
			dx = dx - 0x1000;
		*dxOut = dx - DPB(bx_41, 0x00, 0) + (ax_47 >>u 0x04);
		return DPB(ax_47 >>u 0x04, al_48, 0) & 0x0F;
	}
}

word16 fn0800_8D2B(selector ds, word16 wArg02)
{
	word16 si_18;
	word16 si_12 = wArg02;
	if (wArg02 >= 0x00)
		if (wArg02 <= 88)
			goto l0800_8D3E;
	else
	{
		si_18 = -wArg02;
		if (si_18 <= 0x23)
		{
			Mem42[ds:9494:word16] = ~0x00;
l0800_8D58:
			Mem19[ds:0x7F:word16] = si_18;
			return ~0x00;
		}
	}
	si_12 = 0x57;
l0800_8D3E:
	Mem30[ds:9494:word16] = si_12;
	si_18 = (int16) Mem30[ds:si_12 + 9496:byte];
	goto l0800_8D58;
}

void fn0800_8D76(word16 wArg02)
{
	word16 dx_10;
	msdos_ioctl_get_device_info(wArg02, out dx_10);
	return;
}

byte fn0800_8D87(word16 bp, word16 di, selector es, selector psegArg00, word16 wArg02, word16 wArg04, word16 wArg06, segptr32 ptrArg08, word16 wArg0A, word16 wArg0C, word16 wArg0E)
{
	word16 di_141 = (word16) ptrArg08;
	selector es_20 = SLICE(ptrArg08, selector, 16);
	byte bl_23 = (byte) wArg06;
	if (wArg06 >u 0x24 || bl_23 <u 0x02)
	{
l0800_8DF7:
		Mem46[es_20:di_141 + 0x00:byte] = 0x00;
		return (byte) si;
		Mem61[es:di + 0x00:byte] = 0x00;
		return (byte) wArg04;
	}
	word16 ax_104 = wArg0C;
	word16 cx_169 = wArg0E;
	if (wArg0E < 0x00 && bArg04 != 0x00)
	{
		Mem198[es_20:di_141 + 0x00:byte] = 0x2D;
		ax_104 = -wArg0C;
		di_141 = di_141 + 0x01;
		cx_169 = -wArg0E - (ax_104 == 0x00);
	}
	word16 si_105 = fp - 0x24;
	if (cx_169 != 0x00)
	{
		do
		{
			word16 dx_177 = SEQ(0x00, cx_169) % wArg06;
			word16 dx_184 = SEQ(dx_177, ax_104) % wArg06;
			Mem191[ss:si_105 + 0x00:byte] = (byte) dx_184;
			word16 ax_179 = SEQ(dx_177, cx_169) /u wArg06;
			cx_169 = ax_179;
			ax_104 = SEQ(dx_184, ax_104) /u wArg06;
			si_105 = si_105 + 0x01;
		} while (ax_179 == 0x00);
l0800_8DD9:
		if (ax_104 == 0x00)
		{
			word16 cx_134 = 0x24 - fp + si_105;
			do
			{
				byte al_154;
				si_105 = si_105 - 0x01;
				byte al_146 = Mem0[ss:si_105 + 0x00:byte];
				if (al_146 <u 0x0A)
					al_154 = al_146 + 0x30;
				else
					al_154 = al_146 - 0x0A + bArg02;
				Mem156[es_20:di_141 + 0x00:byte] = al_154;
				di_141 = di_141 + 0x01;
				cx_134 = cx_134 - 0x01;
			} while (cx_134 != 0x00);
			goto l0800_8DF7;
		}
	}
	word16 dx_108 = SEQ(0x00, ax_104) % wArg06;
	Mem115[ss:si_105 + 0x00:byte] = (byte) dx_108;
	ax_104 = SEQ(dx_108, ax_104) /u wArg06;
	si_105 = si_105 + 0x01;
	goto l0800_8DD9;
}

byte fn0800_8E09(word16 di, selector es, word16 wArg02, word16 wArg04, word16 wArg06)
{
	return fn0800_8D87(fp - 0x02, di, es, psegLoc12, 0x61, 0x00, 0x0A, DPB(ptrLoc0A, wArg02, 0), wArg04, wArg06, 0x00);
}

word16 fn0800_8E29(byte al, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, byte bArg08, ptr16 & dxOut)
{
	SEQ(ds, 0x24EA)[wArg02 * 0x02] = SEQ(ds, 0x24EA)[wArg02 * 0x02] & ~0x0200;
	word16 ax_19 = DPB(ax, bArg08, 0);
	*dxOut = wArg04;
	if (msdos_set_file_position(wArg02, SEQ(wArg06, wArg04), bArg08, SEQ(wArg04, ax_19)))
	{
		fn0800_8D2B(ds, ax_19);
		*dxOut = 0x00;
		ax_19 = ~0x00;
	}
	return ax_19;
}

word16 fn0800_8E52(byte al, selector ds, segptr32 ptrArg02)
{
	word16 ax_21;
	__syscall(33);
	word16 ax_12 = DPB(ax, 0x39, 8);
	if (!C)
		ax_21 = 0x00;
	else
		ax_21 = fn0800_8D2B(ds, ax_12);
	return ax_21;
}

word16 fn0800_8E6A(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, ptr16 & dxOut, ptr16 & silOut, ptr16 & diOut, ptr16 & dsOut)
{
	if ((wArg08 | wArg0A) == 0x00)
		wArg0A = ds;
	word16 ax_27;
	word16 dx_26;
	if ((wArg04 | wArg06) == 0x00)
	{
		dx_26 = ds;
		ax_27 = 0x2572;
	}
	else
	{
		dx_26 = wArg06;
		ax_27 = wArg04;
	}
	word16 dx_36;
	word16 di_37;
	selector es_38;
	selector ds_39;
	word16 ax_40 = fn0800_9CE6(20182, wArg0A, ax_27, dx_26, out dx_36, out di_37, out es_38, out ds_39);
	*silOut = fn0800_8E09(di_37, es_38, ax_40, dx_36, wArg02);
	Mem50[ss:fp - 0x04 + 0x00:word16] = ds_39;
	Mem54[ss:fp - 0x06 + 0x00:word16] = 9590;
	Mem56[ss:fp - 0x08 + 0x00:word16] = Mem54[ss:fp + 0x0A:word16];
	Mem58[ss:fp - 0x0A + 0x00:word16] = Mem56[ss:fp + 0x08:word16];
	fn0800_BF5F(ptrArg00, ptrArg04);
	*dxOut = Mem58[ss:fp + 0x0A:word16];
	return Mem58[ss:fp + 0x08:word16];
}

word16 fn0800_8F18(word16 ax, word16 cx, word16 dx, word16 bx, ptr16 & dxOut)
{
	word16 ax_12 = dx;
	if (dx != 0x00)
		ax_12 = (word16) (bx *u dx);
	if (cx != 0x00)
		ax_12 = (word16) (ax *u cx) + ax_12;
	word32 dx_ax_29 = bx *u ax;
	*dxOut = SLICE(dx_ax_29, word16, 16) + ax_12;
	return (word16) dx_ax_29;
}

byte fn0800_8F2F(word16 ax, word16 cx, word16 dx, word16 bx, ptr16 & dlOut)
{
	word16 dx_12 = dx + (ax >>u 0x04);
	word16 cx_22 = cx + (bx >>u 0x04);
	*dlOut = (byte) dx_12;
	word16 ax_17 = DPB(ax >>u 0x04, bl, 8);
	word16 bx_24 = DPB(bx >>u 0x04, bl, 0);
	byte CZ_34 = cond(dx_12 - cx_22);
	if (dx_12 == cx_22)
		CZ_34 = cond((ax_17 & 0x0F) - (bx_24 & 0x0F));
	return CZ_34;
}

word16 fn0800_8F50(byte al, selector ds, word16 wArg02, segptr32 ptrArg04, word16 wArg08)
{
	word16 wLoc04_31;
	word16 ax_21;
	if ((SEQ(ds, 0x24EA)[wArg02 * 0x02] & 0x02) != 0x00)
		wLoc04_31 = 0x05;
	else
	{
		if (!msdos_read_file(wArg02, wArg08, ptrArg04, out ax_21))
			return ax_21;
		wLoc04_31 = ax_21;
	}
	ax_21 = fn0800_8D2B(ds, wLoc04_31);
	return ax_21;
}

byte fn0800_8F7F(byte al, selector ds, segptr32 ptrArg02)
{
	word16 ax_12 = DPB(ax, 0x41, 8);
	byte dl_17 = (byte) ptrArg02;
	if (msdos_delete_file(SLICE(ptrArg02, selector, 16), (word16) ptrArg02))
		fn0800_8D2B(ds, ax_12);
	return dl_17;
}

word16 fn0800_9764(byte dl, selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dlOut, ptr16 & diOut, ptr16 & dsOut)
{
	fn0800_8B95((byte) (fp - 0x06), dl, DPB(ptrLoc12, fp - 0x06, 0));
	fn0800_8BA8((byte) (fp - 0x0A), (byte) ss, DPB(ptrLoc12, fp - 0x0A, 0));
	word16 dx_49;
	word16 di_50;
	selector ds_51;
	word16 ax_52 = fn0800_C04F(ds, DPB(ptrLoc16, fp - 0x06, 0), DPB(ptrLoc12, fp - 0x0A, 0), out dx_49, out di_50, out ds_51);
	if ((wArg02 | wArg04) != 0x00)
	{
		word16 bx_81 = (word16) ptrArg02;
		selector es_82 = SLICE(ptrArg02, selector, 16);
		Mem85[es_82:bx_81 + 0x02:word16] = dx_49;
		Mem86[es_82:bx_81 + 0x00:word16] = ax_52;
	}
	*dlOut = (byte) dx_49;
	return ax_52;
}

word16 fn0800_97B6(selector ds, word16 wArg02, ptr16 & dxOut)
{
	word16 dx_23;
	return fn0800_8E29(0x00, ds, wArg02, 0x00, 0x00, 0x01, out dx_23);
}

byte fn0800_97CC(selector ds, word16 wArg02, ptr16 & dlOut)
{
	byte al_19;
	byte dl_9 = (byte) wArg02;
	*dlOut = dl_9;
	if (wArg02 == ~0x00)
		al_19 = ~0x00;
	else if ((Mem0[ds:DPB(ax, 0x00, 8) + 0x2251:byte] & 0x08) != 0x00)
		al_19 = (byte) (DPB(ax, 0x00, 8) + ~0x1F);
	else
		al_19 = dl_9;
	return al_19;
}

byte fn0800_97F8(byte al, selector ds, segptr32 ptrArg02)
{
	word16 ax_12 = DPB(ax, 0x41, 8);
	byte dl_17 = (byte) ptrArg02;
	if (msdos_delete_file(SLICE(ptrArg02, selector, 16), (word16) ptrArg02))
		fn0800_8D2B(ds, ax_12);
	return dl_17;
}

word16 fn0800_9828(selector ds, segptr32 ptrArg04, selector psegArg06, ptr16 & diOut)
{
	word16 sp_161 = fp - 0x9E;
	word16 di_106 = fp - 0x98;
	word16 si_103 = (word16) ptrArg04;
	while (true)
	{
		byte al_39 = Mem0[ds:si_103 + 0x00:byte];
		si_103 = si_103 + 0x01;
		byte al_112 = al_39;
		ax = DPB(ax, al_39, 0);
		if (al_39 == 0x00)
			break;
		if (al_39 == 0x25)
		{
			al_112 = Mem0[ds:si_103 + 0x00:byte];
			ax = DPB(ax, al_112, 0);
			si_103 = si_103 + 0x01;
			if (al_112 != 0x25)
			{
				byte bLoc0D_126 = 0x00;
				while (true)
				{
					word16 ax_138 = DPB(ax, 0x00, 8);
					byte bl_142 = (byte) ax_138;
					byte dl_140 = (byte) ax_138;
					word16 bx_144 = DPB(ax_138, bl_142 - 0x20, 0);
					if (bl_142 >=u 0x80)
						break;
					word16 bx_178 = DPB(ax_138, Mem0[ds:bx_144 + 9733:byte], 0);
					if (bx_178 >u 0x17)
						goto l0800_9C82;
					if (true)
						break;
					if (bLoc0D_126 != 0x2B)
						bLoc0D_126 = dl_140;
					ax = DPB(ax_138, Mem0[ds:si_103 + 0x00:byte], 0);
					si_103 = si_103 + 0x01;
				}
l0800_9C82:
				word16 si_151 = si_103;
				byte al_156 = 0x25;
				do
				{
					di_106 = fn0800_984F(al_156, fp - 0x02, di_106);
					byte al_165 = Mem0[ds:si_151 + 0x00:byte];
					sp_161 = sp_161 + ~0x01;
					si_151 = si_151 + 0x01;
					al_156 = al_165;
				} while (al_165 != 0x00);
				break;
			}
		}
		Mem105[ss:di_106 + 0x00:byte] = al_112;
		byte v16_107 = bLoc16 - 0x01;
		di_106 = di_106 + 0x01;
		bLoc16 = v16_107;
		if (v16_107 <= 0x00)
			di_106 = fn0800_9858(fp - 0x02, di_106);
	}
	if (bLoc16 < 0x50)
		fn0800_9858(fp - 0x02, fn0800_9858(fp - 0x02, di_106));
	word16 sp_80 = sp_161 + 0x02;
	*diOut = Mem0[ss:sp_80 + 0x00:word16];
	return Mem0[ss:sp_80 + 0x02:word16];
}

word16 fn0800_984F(byte al, word16 bp, word16 di)
{
	Mem4[ss:di + 0x00:byte] = al;
	byte v8_9 = Mem4[ss:bp - 0x14 + 0x00:byte] - 0x01;
	Mem10[ss:bp - 0x14 + 0x00:byte] = v8_9;
	if (v8_9 != 0x00)
		return di + 0x01;
	else
	{
		word16 di_14 = fn0800_9858(bp, di + 0x01);
		return di_14;
	}
}

word16 fn0800_9858(word16 bp, word16 di)
{
	word16 di_18 = di - (bp - 0x96);
	selector ss_36;
	word16 bp_40;
	word16 ax_41;
	word16 di_42;
	SEQ(cs, Mem0[ss:bp + 0x0E:word16])();
	if (ax_41 == 0x00)
		Mem65[ss_36:bp_40 - 22 + 0x00:word16] = 0x01;
	Mem52[ss_36:bp_40 - 0x14 + 0x00:word16] = 0x50;
	Mem54[ss_36:bp_40 - 0x12 + 0x00:word16] = Mem52[ss_36:bp_40 - 0x12 + 0x00:word16] + di_42;
	return bp_40 - 0x96;
}

word16 fn0800_9CE6(word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, ptr16 & dxOut, ptr16 & diOut, ptr16 & esOut, ptr16 & dsOut)
{
	*diOut = di;
	*dsOut = ds;
	word16 ax_18 = fn0800_BFC7(DPB(ptrLoc08, wArg06, 0), wArg08);
	*esOut = fn0800_B03B(DPB(ptrLoc0E, wArg02, 0), wArg04, DPB(ptrLoc0A, wArg06, 0), ax_18 + 0x01);
	*dxOut = wArg04;
	return wArg02 + ax_18;
}

byte fn0800_9D41(word16 dx)
{
	word16 wLoc04_16;
	word16 wLoc02_12;
	selector ds_11;
	if (dx != Mem0[0x0800:40245:word16])
	{
		selector ds_44 = Mem0[dx:0x02:selector];
		if (Mem0[ds_44:0x02:word16] != 0x00)
		{
			Mem47[0x0800:40247:word16] = ds_44;
l0800_9D94:
			ds_11 = Mem0[0x0800:~0x62C4:selector];
			wLoc02_12 = dx;
			wLoc04_16 = 0x00;
			return fn0800_A1D6(ds_11, wLoc04_16, wLoc02_12);
		}
		if (ds_44 != Mem0[0x0800:40245:word16])
		{
			Mem52[0x0800:40247:word16] = Mem0[ds_44:0x08:word16];
			fn0800_9E15(ds_44);
			wLoc02_12 = ds_44;
			wLoc04_16 = 0x00;
			ds_11 = Mem52[0x0800:~0x62C4:selector];
			return fn0800_A1D6(ds_11, wLoc04_16, wLoc02_12);
		}
		dx = Mem0[0x0800:40245:word16];
	}
	Mem40[0x0800:40245:word16] = 0x00;
	Mem41[0x0800:40247:word16] = 0x00;
	Mem42[0x0800:~0x62C6:word16] = 0x00;
	goto l0800_9D94;
}

byte fn0800_9DA4(word16 dx)
{
	selector es_8 = Mem0[dx:0x02:selector];
	Mem9[dx:0x02:word16] = 0x00;
	Mem10[dx:0x08:word16] = es_8;
	word16 wLoc02_13 = dx;
	if (dx != Mem10[0x0800:40245:word16] && Mem10[es_8:0x02:word16] == 0x00)
	{
		word16 ax_45 = Mem10[dx:0x00:word16];
		Mem51[es_8:0x00:word16] = Mem10[es_8:0x00:word16] + ax_45;
		word16 dx_53 = dx + ax_45;
		wLoc02_13 = es_8;
		dl = (byte) dx_53;
		if (Mem51[dx_53:0x02:word16] == 0x00)
			Mem58[dx_53:0x08:word16] = es_8;
		else
			Mem59[dx_53:0x02:word16] = es_8;
	}
	else
		fn0800_9E3E(dx);
	word16 ax_21 = wLoc02_13 + Mem10[wLoc02_13:0x00:word16];
	if (Mem10[ax_21:0x02:word16] == 0x00)
	{
		Mem31[wLoc02_13:0x00:word16] = Mem10[wLoc02_13:0x00:word16] + Mem10[ax_21:0x00:word16];
		Mem37[ax_21 + Mem31[ax_21:0x00:word16]:0x02:word16] = wLoc02_13;
		fn0800_9E15(ax_21);
		return dl;
	}
	else
		return dl;
}

void fn0800_9E15(selector ds)
{
	if (ds == Mem0[ds:0x06:word16])
	{
		Mem16[0x0800:~0x62C6:word16] = 0x00;
		return;
	}
	else
	{
		selector es_10 = Mem0[ds:0x06:selector];
		selector ds_11 = Mem0[ds:0x04:selector];
		Mem12[ds_11:0x06:word16] = es_10;
		Mem13[es_10:0x04:word16] = ds_11;
		Mem14[0x0800:~0x62C6:word16] = ds_11;
		return;
	}
}

void fn0800_9E3E(selector ds)
{
	word16 ax_4 = Mem0[0x0800:~0x62C6:word16];
	if (ax_4 == 0x00)
	{
		Mem30[0x0800:~0x62C6:word16] = ds;
		Mem31[ds:0x04:word16] = ds;
		Mem32[ds:0x06:word16] = ds;
		return;
	}
	else
	{
		__cli();
		selector es_21 = Mem0[ax_4:0x06:selector];
		Mem23[ax_4:0x06:word16] = ds;
		Mem24[ds:0x04:word16] = ax_4;
		Mem28[es_21:0x04:word16] = ds;
		Mem29[ds:0x06:word16] = es_21;
		return;
	}
}

byte fn0800_9E75(selector ds, word16 wArg04, ptr16 & dsOut)
{
	Mem14[0x0800:~0x62C4:word16] = ds;
	byte dl_18 = (byte) wArg04;
	if (wArg04 != 0x00)
		if (wArg04 == Mem14[0x0800:40247:word16])
			dl_18 = fn0800_9D41(wArg04);
		else
			dl_18 = fn0800_9DA4(wArg04);
	*dsOut = Mem14[0x0800:~0x62C4:selector];
	return dl_18;
}

word16 fn0800_9E9E(word16 ax, word16 bp, ptr16 & dxOut)
{
	word16 dx_16;
	word16 ax_17 = fn0800_A215(bp, Mem0[0x0800:~0x62C4:selector], 0x00, 0x00, out dx_16);
	if ((ax_17 & 0x0F) != 0x00)
	{
		word16 dx_86;
		fn0800_A215(bp, Mem0[0x0800:~0x62C4:selector], 0x10 - (ax_17 & 0x0F), 0x00, out dx_86);
	}
	word16 dx_44;
	if (fn0800_A215(bp, Mem0[0x0800:~0x62C4:selector], ax << 0x04, (word16) SLICE(ax, byte, 8) >>u 0x04, out dx_44) == ~0x00)
	{
		*dxOut = 0x00;
		return 0x00;
	}
	else
	{
		Mem61[0x0800:40245:word16] = dx_44;
		Mem62[0x0800:40247:word16] = dx_44;
		Mem64[dx_44:0x00:word16] = ax;
		Mem65[dx_44:0x02:word16] = dx_44;
		return 0x04;
	}
}

word16 fn0800_9F02(word16 ax, word16 bp, ptr16 & dxOut)
{
	selector ds_15 = Mem0[0x0800:~0x62C4:selector];
	word16 dx_117;
	word16 ax_22 = fn0800_A215(bp, ds_15, ax << 0x04, (word16) ah >>u 0x04, out dx_117);
	word16 bx_112 = ax;
	if (ax_22 != ~0x00)
	{
		if ((ax_22 & 0x0F) == 0x00)
		{
l0800_9F25:
			word16 cx_85 = Mem0[0x0800:40247:word16];
			Mem86[0x0800:40247:word16] = dx_117;
			Mem88[dx_117:0x00:word16] = bx_112;
			Mem89[dx_117:0x02:word16] = cx_85;
			return 0x04;
		}
		bx_112 = ax;
		word16 dx_106;
		if (fn0800_A215(bp, ds_15, -(ax_22 & 0x0F) + 0x10, 0x00, out dx_106) != ~0x00)
		{
			*dxOut = dx_117 + 0x01;
			goto l0800_9F25;
		}
	}
	*dxOut = 0x00;
	return 0x00;
}

word16 fn0800_9F5C(word16 ax, word16 dx, selector ds, ptr16 & dxOut)
{
	Mem9[ds:0x00:word16] = Mem0[ds:0x00:word16] - ax;
	word16 dx_10 = dx + Mem9[ds:0x00:word16];
	*dxOut = dx_10;
	Mem12[dx_10:0x00:word16] = ax;
	Mem13[dx_10:0x02:word16] = dx;
	Mem18[dx_10 + Mem13[dx_10:0x00:word16]:0x02:word16] = dx_10;
	return 0x04;
}

word16 fn0800_9F7F(word16 bp, selector ds, word16 wArg02, ptr16 & dxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut, ptr16 & dsOut)
{
	*siOut = si;
	*diOut = di;
	word16 dx_13;
	word16 bp_14;
	selector ds_15;
	return fn0800_9F92(wArg02, 0x00, fp - 0x02, ds, bp, out dx_13, out bp_14, out ds_15);
}

word16 fn0800_9F89(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & dxOut, ptr16 & bpOut, ptr16 & dsOut)
{
	word16 dx_15;
	word16 bp_16;
	selector ds_17;
	return fn0800_9F92(wArg02, wArg04, fp - 0x02, ds, bp, out dx_15, out bp_16, out ds_17);
}

word16 fn0800_9F92(word16 ax, word16 dx, word16 bp, selector ds, word16 wArg00, ptr16 & dxOut, ptr16 & bpOut, ptr16 & dsOut)
{
fn0800_9F92_entry:
	def fp
	def ax
	def dx
	def si
	def di
	def ds
	def dxOut
	def bpOut
	def dsOut
	def bp
	def wArg00
	sp_2 = fp
	cx_4 = ax
	cx_6 = cx_4 | dx
	SZO_7 = cond(cx_6)
	Z_8 = SZO_7 (alias)
	C_9 = false
	sp_10 = fp - 0x02
	wLoc02_12 = si
	sp_13 = fp - 0x04
	wLoc04_15 = di
	Mem17[0x0800:~0x62C4:word16] = ds
	branch cx_6 == 0x00 l0800_9FFD_in_fn0800_9F92
	goto l0800_9F9D_thunk_fn0800_9F9F
l0800_9F92:
l0800_9F92:
	cx = ax
	cx = cx | dx
	SZO = cond(cx)
	Z = SZO (alias)
	C = false
	sp = sp - 0x02
	Mem0[ss:sp + 0x00:word16] = si
	sp = sp - 0x02
	Mem0[ss:sp + 0x00:word16] = di
	Mem0[0x0800:~0x62C4:word16] = ds
	branch Test(EQ,Z) l0800_9FFD
	goto l0800_9F9D_thunk_fn0800_9F9F
l0800_9F9D_thunk_fn0800_9F9F:
	ax_32 = fn0800_9F9F(ax, dx, bp, out dx_29, out bp_30, out ds_31)
	return ax_32
l0800_9F9D_thunk_fn0800_9F9F:
	ax_36 = fn0800_9F9F(ax_32, dx_29, bp_30, out dx_33, out bp_34, out ds_35)
	return ax_36
l0800_9F9D_thunk_fn0800_9F9F:
	ax = fn0800_9F9F(ax, dx, bp, out dx, out bp, out ds)
	return ax
l0800_9F9D_thunk_fn0800_9F9F:
	ax = fn0800_9F9F(ax, dx, bp, out dx, out bp, out ds)
	return ax
l0800_9FFD_in_fn0800_9F92:
	ds_37 = Mem17[0x0800:~0x62C4:selector]
	di_38 = wLoc04_15
	sp_39 = fp - 0x02
	si_40 = wLoc02_12
	sp_41 = fp
	bp_43 = wArg00
	sp_44 = fp + 0x02
	return ax
fn0800_9F92_exit:
	di_18 = PHI(di_38, di, di, di, di)
	si_19 = PHI(si_40, si, si, si, si)
	sp_20 = PHI(sp_44, sp_13, sp_13, sp, sp)
	dx_21 = PHI(dx, dx_29, dx_33, dx, dx)
	bp_22 = PHI(bp_43, bp_30, bp_34, bp, bp)
	ds_23 = PHI(ds_37, ds_31, ds_35, ds, ds)
	ax_24 = PHI(ax, ax_32, ax_36, ax, ax)
	use dx_21 (=> dxOut)
	use bp_22 (=> bpOut)
	use ds_23 (=> dsOut)
}

word16 fn0800_9F9F(word16 ax, word16 dx, word16 bp, ptr16 & dxOut, ptr16 & bpOut, ptr16 & dsOut)
{
	word16 ax_105;
	int32 dx_ax_4 = SEQ(dx, ax + 0x13);
	word16 ax_7 = (word16) (dx_ax_4 + 0x13);
	word16 dx_8 = SLICE(dx_ax_4 + 0x13, word16, 16);
	if (dx_ax_4 >=u 0x13 && (dx_8 & ~0x0F) == 0x00)
	{
		word16 ax_60 = DPB(ax_7 >>u 0x04, SLICE(ax_7 >>u 0x04, byte, 8) | (byte) (dx_8 << 0x04), 8);
		if (Mem0[0x0800:40245:word16] != 0x00)
		{
			word16 dx_67 = Mem0[0x0800:~0x62C6:word16];
			word16 dx_68;
			*dxOut = dx_67;
			if (dx_67 != 0x00)
				do
				{
					if (Mem0[dx_68:0x00:word16] >=u ax_60)
					{
						if (Mem0[dx_68:0x00:word16] <=u ax_60)
						{
							fn0800_9E15(dx_68);
							Mem104[dx_68:0x02:word16] = Mem0[dx_68:0x08:word16];
							ax_105 = 0x04;
						}
						else
						{
							word16 dx_108;
							ax_105 = fn0800_9F5C(ax_60, dx_68, dx_68, out dx_108);
						}
						goto l0800_9FFD;
					}
					dx_68 = Mem0[dx_68:0x06:word16];
					*dxOut = dx_68;
				} while (dx_68 != dx_67);
			word16 dx_84;
			ax_105 = fn0800_9F02(ax_60, bp, out dx_84);
		}
		else
		{
			word16 dx_112;
			ax_105 = fn0800_9E9E(ax_60, bp, out dx_112);
		}
	}
	else
	{
		ax_105 = 0x00;
		*dxOut = 0x00;
	}
l0800_9FFD:
	*dsOut = Mem0[0x0800:~0x62C4:selector];
	*bpOut = Mem0[ss:sp + 0x04:word16];
	return ax_105;
}

word16 fn0800_A162(selector ds, word16 wArg02, word16 wArg04, ptr16 & dlOut)
{
	word16 ax_36;
	word16 si_18 = wArg04 + 0x01 - Mem0[ds:0x7B:word16] + 0x3F >>u 0x06;
	if (si_18 != Mem0[ds:9880:word16])
	{
		word16 ax_67 = (si_18 << 0x06) + Mem0[ds:0x7B:word16];
		word16 si_63 = si_18 << 0x06;
		word16 dx_64 = Mem0[ds:0x91:word16];
		byte al_68 = (byte) ax_67;
		if (ax_67 >u dx_64)
			si_63 = dx_64 - Mem0[ds:0x7B:word16];
		word16 ax_76 = fn0800_A401(al_68, ds, Mem0[ds:0x7B:word16], si_63);
		*dlOut = (byte) ax_76;
		if (ax_76 != ~0x00)
		{
			Mem92[ds:0x91:word16] = Mem0[ds:0x7B:word16] + ax_76;
			Mem93[ds:0x8F:word16] = 0x00;
			ax_36 = 0x00;
			return ax_36;
		}
		Mem89[ds:9880:word16] = si_63 >>u 0x06;
	}
	Mem56[ds:141:word16] = wArg04;
	Mem57[ds:0x8B:word16] = wArg02;
	*dlOut = (byte) wArg02;
	ax_36 = 0x01;
	return ax_36;
}

byte fn0800_A1D6(selector ds, word16 wArg02, word16 wArg04)
{
	byte dl_16;
	return dl_16;
}

word16 fn0800_A215(word16 bp, selector ds, word16 wArg02, word16 wArg04, ptr16 & dxOut)
{
	word16 ax_116;
	word16 dx_15;
	word16 ax_17 = fn0800_8C69(Mem0[ds:141:word16], 0x04, 0x00, wLoc0C, out dx_15) + Mem0[ds:0x8B:word16];
	ui32 dx_ax_26 = SEQ(dx_15 + (ax_17 <u 0x00), ax_17 + wArg02) + _;
	word16 ax_27 = (word16) dx_ax_26;
	word16 dx_28 = SLICE(dx_ax_26, word16, 16);
	if (dx_28 < 0x0F || dx_28 <= 0x0F && ax_27 <=u ~0x00)
	{
		word16 dx_76;
		word16 ax_77 = fn0800_8CCB(Mem0[ds:0x8B:word16], wArg04, Mem0[ds:141:word16], wArg02, bp, out dx_76);
		byte dl_84;
		if (!fn0800_8F2F(ax_77, Mem0[ds:0x89:word16], dx_76, Mem0[ds:0x87:word16], out dl_84))
		{
			byte dl_94;
			if (!fn0800_8F2F(ax_77, Mem0[ds:0x91:word16], dx_76, Mem0[ds:0x8F:word16], out dl_94))
			{
				word16 ax_96 = Mem0[ds:141:word16];
				word16 dx_97 = Mem0[ds:0x8B:word16];
				Mem102[ss:fp - 0x0C + 0x00:word16] = dx_76;
				Mem105[ss:fp - 0x0E + 0x00:word16] = ax_77;
				byte dl_107;
				if (fn0800_A162(ds, wArg00, wArg02, out dl_107) != 0x00)
				{
					*dxOut = ax_96;
					ax_116 = dx_97;
					return ax_116;
				}
			}
		}
	}
	*dxOut = ~0x00;
	ax_116 = ~0x00;
	return ax_116;
}

word16 fn0800_A2A3(byte al, selector ds, word16 wArg02, word16 wArg04, segptr32 ptrArg06, word16 wArg0A)
{
	msdos_unknown_2144();
	word16 dx_12 = (word16) ptrArg06;
	word16 ax_17 = DPB(ax, bArg04, 0);
	if (!C)
		if (wArg04 == 0x00)
			ax_17 = dx_12;
	else
		ax_17 = fn0800_8D2B(ds, ax_17);
	return ax_17;
}

word16 fn0800_A401(byte al, selector ds, selector psegArg02, word16 wArg04)
{
	word16 ax_18;
	word16 ax_9 = DPB(ax, 0x4A, 8);
	word16 bx_14;
	if (!msdos_resize_memory_block(psegArg02, wArg04, out bx_14))
		ax_18 = ~0x00;
	else
	{
		fn0800_8D2B(ds, ax_9);
		ax_18 = bx_14;
	}
	return ax_18;
}

word16 fn0800_A471(byte bl, selector ds, segptr32 ptrArg02, ptr16 & dxOut)
{
	selector es_20 = SLICE(ptrArg02, selector, 16);
	word16 si_161 = (word16) ptrArg02;
	word16 ax_124 = 0x00;
	byte dl_145 = 0x00;
	word16 dx_146 = 0x00;
	*dxOut = dx_146;
	ui32 dh_bx_135 = DPB(dh_bx, 0x00, 8);
	word16 di_160 = 0x2251;
	do
	{
		byte bl_220 = Mem0[es_20:si_161 + 0x00:byte];
		bx = DPB(bx, bl_220, 0);
		dh_bx_135 = DPB(dh_bx_135, bl_220, 0);
		si_161 = si_161 + 0x01;
	} while ((Mem0[ds:bx + 0x2251:byte] & 0x01) != 0x00);
	word16 bp_219 = 0x00;
	if (bl_220 != 0x2B)
	{
		if (bl_220 != 0x2D)
		{
l0800_A4A2:
			if (bl_220 >u 0x39)
			{
l0800_A4D6:
				word16 bp_93 = bp_219 - 0x01;
				if (bp_93 >= 0x01)
				{
					word16 ax_120 = -ax_124;
					ax_124 = -ax_120;
					*dxOut = (ax_120 == 0x00) - -dx_146 - (ax_124 == 0x00);
				}
				return ax_124;
			}
			byte bl_133 = bl_220 - 0x30;
			bx = DPB(bx, bl_133, 0);
			dh_bx_135 = DPB(dh_bx_135, bl_133, 0);
			if (bl_133 <u 0x00)
				goto l0800_A4D6;
			ui32 dl_ax_143 = SEQ(dl_145, ax_124 + bx) + dh_bx_135;
			ax_124 = (word16) dl_ax_143;
			dl_145 = SLICE(dl_ax_143, byte, 16);
			*dxOut = SLICE(dl_ax_143, word16, 16);
			if (dl_ax_143 != 0x00)
			{
				while (true)
				{
					byte bl_162 = Mem0[es_20:si_161 + 0x00:byte];
					si_161 = si_161 + 0x01;
					if (bl_162 >u 0x39)
						break;
					bx = DPB(bx, bl_162 - 0x30, 0);
					if (bl_162 <u 0x30)
						break;
					int32 dx_ax_177 = ax_124 *u 0x0A;
					int32 dx_ax_200 = SEQ((word16) (di_160 *u 0x0A), (word16) dx_ax_177 + bx) + SEQ(SLICE(dx_ax_177, word16, 16), bx);
					di_160 = 0x0A;
					ax_124 = (word16) dx_ax_200;
					*dxOut = SLICE(dx_ax_200, word16, 16);
				}
				goto l0800_A4D6;
			}
			goto l0800_A49E;
		}
		bp_219 = 0x01;
	}
l0800_A49E:
	bl_220 = Mem0[es_20:si_161 + 0x00:byte];
	bx = DPB(bx, bl_220, 0);
	dh_bx_135 = DPB(dh_bx_135, bl_220, 0);
	si_161 = si_161 + 0x01;
	goto l0800_A4A2;
}

selector fn0800_A4F6(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06)
{
	word16 ax_23 = fn0800_A53C(0x00, ds, DPB(ptrLoc08, wArg02, 0), 0x00, bp);
	if (ax_23 != ~0x00)
	{
		word16 dx_60 = ax_23 & ~0x01;
		if ((wArg06 & 0x80) == 0x00)
			dx_60 = ax_23 & ~0x01 | 0x01;
		if (fn0800_A53C(0x01, ds, DPB(ptrLoc0A, wArg02, 0), 0x01, dx_60) != ~0x00)
			return ds;
	}
	return ds;
}

word16 fn0800_A53C(byte al, selector ds, segptr32 ptrArg02, byte bArg06, word16 wArg08)
{
	word16 ax_25;
	msdos_unknown_2143();
	word16 ax_16 = DPB(ax, bArg06, 0);
	if (!C)
		ax_25 = wArg08;
	else
		ax_25 = fn0800_8D2B(ds, ax_16);
	return ax_25;
}

byte fn0800_A559(byte al, selector ds, word16 wArg02, ptr16 & dlOut)
{
	byte al_19;
	*dlOut = (byte) wArg02;
	if (wArg02 >=u Mem0[ds:9448:word16])
		al_19 = (byte) fn0800_8D2B(ds, 0x06);
	else
	{
		SEQ(ds, 0x24EA)[wArg02 * 0x02] = 0x00;
		al_19 = fn0800_A57F(al, ds, wArg02);
	}
	return al_19;
}

byte fn0800_A57F(byte al, selector ds, word16 wArg02)
{
	byte al_16;
	word16 ax_9 = DPB(ax, 0x3E, 8);
	if (!msdos_close_file(wArg02))
	{
		SEQ(ds, 0x24EA)[wArg02 * 0x02] = 0x00;
		al_16 = 0x00;
	}
	else
		al_16 = (byte) fn0800_8D2B(ds, ax_9);
	return al_16;
}

word16 fn0800_A59D(selector ds, word16 wArg02)
{
	word16 wLoc08_108;
	word16 ax_124;
	if (wArg02 >=u Mem0[ds:9448:word16])
	{
		wLoc08_108 = 0x06;
		goto l0800_A60D;
	}
	if ((SEQ(ds, 0x24EA)[wArg02 * 0x02] & 0x0200) != 0x00)
	{
l0800_A5BF:
		ax_124 = 0x01;
		return ax_124;
	}
	word16 ax_104 = 0x4400;
	word16 dx_92;
	if (!msdos_ioctl_get_device_info(wArg02, out dx_92))
	{
		if ((dl & 0x80) != 0x00)
		{
l0800_A608:
			ax_124 = 0x00;
			return ax_124;
		}
		ax_104 = 0x4201;
		if (!msdos_set_file_position(wArg02, 0x00, 0x01, 0x4201))
		{
			ax_104 = 0x4202;
			if (!msdos_set_file_position(wArg02, 0x00, 0x02, 0x4202))
			{
				ax_104 = 0x4200;
				if (!msdos_set_file_position(wArg02, 0x4201, 0x00, 0x42014200))
				{
					if (true && (false || true))
						goto l0800_A5BF;
					goto l0800_A608;
				}
			}
		}
	}
	wLoc08_108 = ax_104;
l0800_A60D:
	ax_124 = fn0800_8D2B(ds, wLoc08_108);
	return ax_124;
}

byte fn0800_A614(word16 bp, selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dlOut, ptr16 & diOut, ptr16 & dsOut)
{
	*diOut = di;
	*dsOut = ds;
	*dlOut = dl;
	word16 si_10 = ~0x00;
	if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x12:word16] == wArg02)
	{
		word16 bx_68 = (word16) ptrArg02;
		selector es_69 = SLICE(ptrArg02, selector, 16);
		if (Mem0[es_69:bx_68 + 0x06:word16] != 0x00)
		{
			if (Mem0[es_69:bx_68 + 0x00:word16] < 0x00)
			{
				byte dl_187;
				if (fn0800_A6B7(ds, DPB(ptrLoc08, bx_68, 0), wArg04, out dl_187, out ds) != 0x00)
					return (byte) si_10;
			}
			word16 bx_165 = (word16) ptrArg02;
			selector es_166 = SLICE(ptrArg02, selector, 16);
			if ((Mem0[es_166:bx_165 + 0x02:word16] & 0x04) != 0x00)
				*dlOut = fn0800_9E75(ds, Mem0[es_166:bx_165 + 0x0A:word16], out ds);
		}
		word16 bx_85 = (word16) ptrArg02;
		selector es_86 = SLICE(ptrArg02, selector, 16);
		if (Mem0[es_86:bx_85 + 0x04:byte] >= 0x00)
		{
			word16 ax_143 = (int16) Mem0[es_86:bx_85 + 0x04:byte];
			byte dl_147;
			si_10 = DPB(ax_143, fn0800_A559((byte) ax_143, ds, ax_143, out dl_147), 0);
		}
		word16 bx_99 = (word16) ptrArg02;
		selector es_100 = SLICE(ptrArg02, selector, 16);
		Mem101[es_100:bx_99 + 0x02:word16] = 0x00;
		Mem102[es_100:bx_99 + 0x06:word16] = 0x00;
		Mem103[es_100:bx_99 + 0x00:word16] = 0x00;
		Mem104[es_100:bx_99 + 0x04:byte] = ~0x00;
		if (Mem104[es_100:bx_99 + 0x10:word16] != 0x00)
		{
			word16 dx_120;
			byte sil_121;
			word16 di_122;
			selector ds_123;
			word16 ax_124 = fn0800_8E6A(fp - 0x02, ds, Mem104[es_100:bx_99 + 0x10:word16], 0x00, 0x00, 0x00, 0x00, out dx_120, out sil_121, out di_122, out ds_123);
			Mem128[ss:fp - 0x06 + 0x00:word16] = dx_120;
			Mem130[ss:fp - 0x08 + 0x00:word16] = ax_124;
			*dlOut = fn0800_97F8((byte) ax_124, ds_123, ptrArg00);
			Mem0[Mem130[ss:fp + 0x02:segptr32] + 0x10:word16] = 0x00;
		}
	}
	return (byte) si_10;
}

word16 fn0800_A6B7(selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dlOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*dlOut = dl;
	word16 ax_30;
	if ((wArg02 | wArg04) == 0x00)
	{
		selector ds_60;
		*dlOut = fn0800_A877(ds, out ds_60);
		goto l0800_A778;
	}
	if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x12:word16] != wArg02)
	{
l0800_A6D5:
		ax_30 = ~0x00;
		return ax_30;
	}
	word16 bx_102 = (word16) ptrArg02;
	selector es_103 = SLICE(ptrArg02, selector, 16);
	if (Mem0[es_103:bx_102 + 0x00:word16] < 0x00)
	{
		word16 bx_135 = (word16) ptrArg02;
		selector es_136 = SLICE(ptrArg02, selector, 16);
		word16 ax_138 = Mem0[es_136:bx_135 + 0x06:word16] + Mem0[es_136:bx_135 + 0x00:word16];
		Mem142[es_136:bx_135 + 0x00:word16] = Mem0[es_136:bx_135 + 0x00:word16] - (ax_138 + 0x01);
		word16 ax_146 = Mem142[es_136:bx_135 + 0x0A:word16];
		word16 dx_147 = Mem142[es_136:bx_135 + 0x08:word16];
		Mem149[es_136:bx_135 + 0x0E:word16] = ax_146;
		Mem150[es_136:bx_135 + 0x0C:word16] = dx_147;
		byte dl_159;
		selector ds_160;
		if (fn0800_C632(ds, (int16) Mem150[es_136:bx_135 + 0x04:byte], dx_147, ax_146, ax_138 + 0x01, out dl_159, out ds_160) != ax_138 + 0x01)
		{
			word16 bx_166 = (word16) ptrArg02;
			selector es_167 = SLICE(ptrArg02, selector, 16);
			if ((Mem150[es_167:bx_166 + 0x02:word16] & 0x0200) == 0x00)
			{
				Mem172[es_167:bx_166 + 0x02:word16] = Mem150[es_167:bx_166 + 0x02:word16] | 0x10;
				goto l0800_A6D5;
			}
		}
		goto l0800_A778;
	}
	if ((Mem0[es_103:bx_102 + 0x02:word16] & 0x08) == 0x00)
	{
		*dlOut = (byte) (wArg02 + 0x05);
		if (Mem0[es_103:bx_102 + 0x0E:word16] != wArg04 || Mem0[es_103:bx_102 + 0x0C:word16] != wArg02 + 0x05)
		{
l0800_A778:
			ax_30 = 0x00;
			return ax_30;
		}
	}
	word16 bx_110 = (word16) ptrArg02;
	selector es_111 = SLICE(ptrArg02, selector, 16);
	Mem112[es_111:bx_110 + 0x00:word16] = 0x00;
	*dlOut = (byte) (wArg02 + 0x05);
	if (Mem112[es_111:bx_110 + 0x0E:word16] == wArg04 && Mem112[es_111:bx_110 + 0x0C:word16] == wArg02 + 0x05)
	{
		word16 dx_122 = Mem112[es_111:bx_110 + 0x08:word16];
		Mem124[es_111:bx_110 + 0x0E:word16] = Mem112[es_111:bx_110 + 0x0A:word16];
		Mem125[es_111:bx_110 + 0x0C:word16] = dx_122;
		*dlOut = (byte) dx_122;
	}
	goto l0800_A778;
}

word16 fn0800_A77D(selector ds, word16 wArg02, word16 wArg04, word16 wArg06, segptr32 ptrArg08, word16 wArg0A, ptr16 & dxOut, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 di_141 = wArg06;
	word16 cx_16 = 0x00;
	word16 wLoc06_171 = wArg02;
	while (cx_16 != 0x0A)
	{
		di_141 = di_141 - 0x01;
		if (di_141 <= 0x00)
			break;
		word16 ax_156;
		word16 bx_144 = (word16) ptrArg08;
		selector es_145 = SLICE(ptrArg08, selector, 16);
		word16 v17_147 = Mem0[es_145:bx_144 + 0x00:word16] - 0x01;
		Mem148[es_145:bx_144 + 0x00:word16] = v17_147;
		if (v17_147 >= 0x00)
		{
			word16 ax_173 = Mem148[es_145:bx_144 + 0x0E:word16];
			Mem176[es_145:bx_144 + 0x0C:word16] = Mem148[es_145:bx_144 + 0x0C:word16] + 0x01;
			ax_156 = DPB(ax_173, 0x00, 8);
		}
		else
		{
			ptrLoc0E = DPB(ptrLoc0E, wArg08, 0);
			ax_156 = fn0800_AEC2(ds, ptrLoc0E, wArg0A, out ds);
		}
		cx_16 = ax_156;
		byte cl_163 = (byte) ax_156;
		if (ax_156 == ~0x00)
			break;
		Mem169[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] = cl_163;
		wLoc06_171 = wLoc06_171 + 0x01;
	}
	word16 ax_112;
	if (cx_16 == ~0x00)
		if (wArg04 == wArg04)
			if (wLoc06_171 == wArg02)
			{
				*dxOut = 0x00;
				ax_112 = 0x00;
				return ax_112;
			}
	Mem103[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] = 0x00;
	if ((Mem103[SLICE(ptrArg08, selector, 16):(word16) ptrArg08 + 0x02:word16] & 0x10) != 0x00)
	{
		*dxOut = 0x00;
		ax_112 = 0x00;
	}
	else
	{
		*dxOut = wArg04;
		ax_112 = wArg02;
	}
	return ax_112;
}

word16 fn0800_A817(byte al, selector ds, segptr32 ptrArg02, segptr32 ptrArg06, word16 wArg0A, ptr16 & dlOut)
{
	word16 ax_55;
	word32 es_bx_10 = msdos_get_disk_transfer_area_address();
	msdos_set_DTA(SLICE(ptrArg06, selector, 16), (word16) ptrArg06);
	word16 bx_12 = (word16) es_bx_10;
	bool C_30 = msdos_find_first_file(wArg0A, SLICE(ptrArg02, selector, 16), (word16) ptrArg02);
	msdos_set_DTA(SLICE(es_bx_10, selector, 16), bx_12);
	word16 ax_23 = DPB(ax, 0x4E, 8);
	*dlOut = (byte) bx_12;
	if (!C_30)
		ax_55 = 0x00;
	else
		ax_55 = fn0800_8D2B(ds, ax_23);
	return ax_55;
}

byte fn0800_A84A(byte al, selector ds, segptr32 ptrArg02, ptr16 & axOut, ptr16 & dlOut)
{
	word32 es_bx_10 = msdos_get_disk_transfer_area_address();
	msdos_set_DTA(SLICE(ptrArg02, selector, 16), (word16) ptrArg02);
	word16 bx_12 = (word16) es_bx_10;
	bool C_24 = msdos_find_next_file();
	msdos_set_DTA(SLICE(es_bx_10, selector, 16), bx_12);
	word16 ax_23 = DPB(ax, 0x4F, 8);
	*dlOut = (byte) bx_12;
	if (!C_24)
		*axOut = 0x00;
	else
		*axOut = fn0800_8D2B(ds, ax_23);
	return C_24;
}

byte fn0800_A877(selector ds, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 si_19 = Mem0[ds:9448:word16];
	ds_38 = ds;
	while (true)
	{
		selector ds_38;
		si_19 = si_19 - 0x01;
		if (si_19 == 0x00)
			break;
		word16 bx_61 = (word16) ptrLoc06;
		if ((Mem0[SLICE(ptrLoc06, selector, 16):bx_61 + 0x02:word16] & 0x03) != 0x00)
		{
			ptrLoc0E = DPB(ptrLoc0E, bx_61, 0);
			fn0800_A6B7(ds_38, ptrLoc0E, ds, out dl, out ds_38);
		}
	}
	return dl;
}

word16 fn0800_A8B7(selector ds, segptr32 ptrArg02, segptr32 ptrArg06, segptr32 ptrArg0A)
{
	word16 dx_118;
	word16 si_122;
	word16 ax_151;
	word16 di_121 = 0x00;
	byte cl_22 = Mem0[SLICE(ptrArg0A, selector, 16):(word16) ptrArg0A + 0x00:byte];
	if (cl_22 == 114)
	{
		dx_118 = 0x01;
		si_122 = 0x01;
	}
	else
	{
		if (cl_22 == 0x77)
			dx_118 = 770;
		else
		{
			if (cl_22 != 0x61)
			{
				ax_151 = 0x00;
				return ax_151;
			}
			dx_118 = 0x0902;
		}
		di_121 = 0x80;
		si_122 = 0x02;
	}
	byte cl_113 = Mem0[SLICE(ptrArg0A, selector, 16):(word16) ptrArg0A + 0x00:byte];
	if (cl_113 == 0x2B || Mem0[SLICE(ptrArg0A, selector, 16):(word16) ptrArg0A + 0x00:byte] == 0x2B && (cl_113 == 116 || cl_113 == 0x62))
	{
		if (cl_113 == 0x2B)
			cl_113 = Mem0[SLICE(ptrArg0A, selector, 16):(word16) ptrArg0A + 0x00:byte];
		dx_118 = dx_118 & ~0x03 | 0x04;
		di_121 = 0x0180;
		si_122 = 0x03;
	}
	word16 dx_103;
	if (cl_113 == 116)
	{
		dx_103 = dx_118 | 0x4000;
		goto l0800_A953;
	}
	if (cl_113 == 0x62)
		dx_103 = dx_118 | 0x8000;
	else
	{
		dx_103 = dx_118 | Mem0[ds:0x2512:word16] & 0xC000;
		if ((dx_103 & 0x8000) == 0x00)
			goto l0800_A953;
	}
	si_122 = si_122 | 0x40;
l0800_A953:
	Mem72[ds:9044:word16] = 51125;
	Mem78[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x00:word16] = dx_103;
	Mem83[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:word16] = di_121;
	ax_151 = si_122;
	return ax_151;
}

word16 fn0800_A96D(word16 bp, word16 si, word16 di, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, segptr32 ptrArg0C, word16 wArg0E, ptr16 & dxOut, ptr16 & siOut, ptr16 & diOut, ptr16 & dsOut)
{
fn0800_A96D_entry:
	def fp
	def wArg04
	def ptrLoc0A
	def ss
	def ptrLoc0E
	def ptrLoc12
	def ds
	def ptrArg0C
	def si
	def di
	def wArg0E
	def wArg0C
	def ptrArg00
	def wArg02
	def wLoc06
	def wLoc04
	def wArg0A
	def wArg08
	bp_6 = fp - 0x02
	wLoc0A_14 = wArg04
	ptrLoc0A_16 = DPB(ptrLoc0A, wArg04, 0) (alias)
	wLoc0E_22 = fp - 0x04
	ptrLoc0E_24 = DPB(ptrLoc0E, fp - 0x04, 0) (alias)
	wLoc12_29 = fp - 0x06
	ptrLoc12_31 = DPB(ptrLoc12, fp - 0x06, 0) (alias)
	ax_33 = fn0800_A8B7(ds, ptrLoc12_31, ptrLoc0E_24, ptrLoc0A_16)
	es_bx_36 = ptrArg0C
	bx_37 = (word16) ptrArg0C (alias)
	es_38 = SLICE(ptrArg0C, selector, 16) (alias)
	Mem39[es_38:bx_37 + 0x02:word16] = ax_33
	ax_40 = ax_33
	branch ax_33 == 0x00 l0800_A9B9
	goto l0800_A991
l0800_A96D:
l0800_A991:
	branch Mem39[es_38:bx_37 + 0x04:byte] >= 0x00 l0800_A9CD
l0800_A998:
	wLoc08_209 = wLoc06
	ax_211 = wLoc04
	ax_212 = wLoc04 | wArg02
	wLoc0A_216 = ax_212
	wLoc0C_219 = wArg0A
	wLoc0E_222 = wArg08
	al_224 = fn0800_B140(si, di, ds, wArg08, wArg0A, ax_212, wLoc06, out ds_223)
	es_bx_226 = ptrArg0C
	bx_227 = (word16) ptrArg0C (alias)
	es_228 = SLICE(ptrArg0C, selector, 16) (alias)
	Mem229[es_228:bx_227 + 0x04:byte] = al_224
	al_230 = al_224
	branch al_224 >= 0x00 l0800_A9CD
l0800_A9B9:
	ds_105 = PHI(ds, ds_223)
	es_bx_111 = ptrArg0C
	bx_112 = (word16) ptrArg0C (alias)
	es_113 = SLICE(ptrArg0C, selector, 16) (alias)
	Mem114[es_113:bx_112 + 0x04:byte] = ~0x00
	Mem115[es_113:bx_112 + 0x02:word16] = 0x00
l0800_A9C7:
	di_86 = PHI(di, di_179)
	ds_87 = PHI(ds_105, ds_180)
	dx_93 = 0x00
	ax_95 = 0x00
	goto l0800_AA2E
l0800_A9CD:
	ds_124 = PHI(ds, ds_223)
	es_bx_125 = ptrArg0C
	bx_126 = (word16) ptrArg0C (alias)
	es_127 = SLICE(ptrArg0C, selector, 16) (alias)
	al_128 = Mem39[es_127:bx_126 + 0x04:byte]
	ax_129 = (int16) al_128
	wLoc08_131 = ax_129
	fn0800_8D76(ax_129)
	branch 0x00 == 0x00 l0800_A9E7
l0800_A9DE:
	es_bx_200 = ptrArg0C
	bx_201 = (word16) ptrArg0C (alias)
	es_202 = SLICE(ptrArg0C, selector, 16) (alias)
	v17_203 = Mem39[es_202:bx_201 + 0x02:word16] | 0x0200
	Mem204[es_202:bx_201 + 0x02:word16] = v17_203
l0800_A9E7:
	wLoc08_140 = 0x0200
	es_bx_141 = ptrArg0C
	bx_142 = (word16) ptrArg0C (alias)
	es_143 = SLICE(ptrArg0C, selector, 16) (alias)
	branch (Mem39[es_143:bx_142 + 0x02:word16] & 0x0200) == 0x00 l0800_A9FB
l0800_A9F6:
	ax_194 = 0x01
	goto l0800_A9FD
l0800_A9FB:
	ax_196 = 0x00
l0800_A9FD:
	ax_147 = PHI(ax_194, ax_196)
	wLoc0A_150 = ax_147
	wLoc10_160 = wArg0E
	sp_161 = fp - 0x12
	wLoc12_163 = wArg0C
	ptrLoc12_164 = DPB(ptrLoc12, wArg0C, 0) (alias)
	ax_166 = fn0800_BA89(fp - 0x02, ds_124, ptrLoc12_164, wArg0E, ax_147, 0x0200, out ds_165)
	sp_167 = fp - 0x06
	ax_168 = ax_166
	branch ax_166 == 0x00 l0800_AA1F
l0800_AA12:
	sp_172 = fp - 0x08
	Mem173[ss:fp - 0x08 + 0x00:word16] = Mem39[ss:fp + 0x0E:word16]
	sp_174 = fp - 0x0A
	Mem175[ss:fp - 0x0A + 0x00:word16] = Mem173[ss:fp + 0x0C:word16]
	fn0800_A614(fp - 0x02, ds_165, ptrArg00, wArg02, out dl_178, out di_179, out ds_180)
	goto l0800_A9C7
l0800_AA1F:
	es_bx_186 = Mem39[ss:fp + 0x0C:segptr32]
	bx_187 = (word16) es_bx_186 (alias)
	es_188 = SLICE(es_bx_186, selector, 16) (alias)
	Mem0[es_bx_186 + 0x10:word16] = 0x00
	dx_190 = Mem189[ss:fp + 0x0E:word16]
	ax_192 = Mem189[ss:fp + 0x0C:word16]
l0800_AA2E:
	di_56 = PHI(di_86, di)
	ds_57 = PHI(ds_87, ds_165)
	dx_62 = PHI(dx_93, dx_190)
	ax_64 = PHI(ax_95, ax_192)
	return ax_64
fn0800_A96D_exit:
	use dx_62 (=> dxOut)
	use si (=> siOut)
	use di_56 (=> diOut)
	use ds_57 (=> dsOut)
}

word16 fn0800_AA34(selector ds, ptr16 & dxOut)
{
	word16 wLoc06_11 = 0x2358;
	if (Mem0[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x04:byte] >= 0x00)
	{
		wLoc06_11 = wLoc06_11 + 0x14;
		if (wLoc06_11 <u (word16) (Mem0[ds:9448:word16] *s 0x14) + 0x2358)
			goto l0800_AA42;
	}
	word16 ax_44;
	if (Mem0[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x04:byte] >= 0x00)
	{
		*dxOut = 0x00;
		ax_44 = 0x00;
	}
	else
	{
		*dxOut = ds;
		ax_44 = wLoc06_11;
	}
	return ax_44;
}

word16 fn0800_AA7E(word16 si, word16 di, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, ptr16 & dxOut, ptr16 & siOut, ptr16 & diOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*siOut = si;
	*diOut = di;
	word16 ax_30;
	word16 dx_10;
	word16 ax_11 = fn0800_AA34(ds, out dx_10);
	if ((ax_11 | dx_10) == 0x00)
	{
		*dxOut = 0x00;
		ax_30 = 0x00;
	}
	else
	{
		word16 dx_78;
		word16 si_79;
		word16 di_80;
		selector ds_81;
		ax_30 = fn0800_A96D(fp - 0x02, si, di, ds, 0x00, wArg06, wArg08, wArg02, wArg04, DPB(ptrLoc0A, ax_11, 0), dx_10, out dx_78, out si_79, out di_80, out ds_81);
	}
	return ax_30;
}

word16 fn0800_AAB3(word16 dx, selector ds, segptr32 ptrArg02, word16 wArg04, word16 wArg06, segptr32 ptrArg08, word16 wArg0A, ptr16 & dsOut)
{
	*dsOut = ds;
	do
	{
		if (wArg06 == 0x00)
			return wArg06;
		word16 ax_105;
		word16 v10_95 = wArg06 + 0x01;
		wArg06 = v10_95;
		if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x06:word16] >u v10_95)
			ax_105 = v10_95;
		else
			ax_105 = Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x06:word16];
		word16 di_108 = ax_105;
		word16 bx_110 = (word16) ptrArg02;
		selector es_111 = SLICE(ptrArg02, selector, 16);
		if ((Mem0[es_111:bx_110 + 0x02:word16] & 0x40) == 0x00 || (Mem0[es_111:bx_110 + 0x06:word16] == 0x00 || (Mem0[es_111:bx_110 + 0x06:word16] >=u v10_95 || Mem0[es_111:bx_110 + 0x00:word16] != 0x00)))
		{
			while (true)
			{
				word16 v18_163 = wArg06 - 0x01;
				wArg06 = v18_163;
				if (v18_163 == 0x00)
					break;
				di_108 = di_108 - 0x01;
				if (di_108 == 0x00)
					break;
				word16 ax_207;
				word16 bx_194 = (word16) ptrArg02;
				selector es_195 = SLICE(ptrArg02, selector, 16);
				word16 v19_196 = Mem0[es_195:bx_194 + 0x00:word16] - 0x01;
				Mem197[es_195:bx_194 + 0x00:word16] = v19_196;
				if (v19_196 >= 0x00)
				{
					word16 ax_224 = Mem197[es_195:bx_194 + 0x0E:word16];
					Mem227[es_195:bx_194 + 0x0C:word16] = Mem197[es_195:bx_194 + 0x0C:word16] + 0x01;
					ax_207 = DPB(ax_224, 0x00, 8);
				}
				else
				{
					ptrLoc0A = DPB(ptrLoc0A, wArg02, 0);
					ax_207 = fn0800_AEC2(ds, ptrLoc0A, wArg04, out ds);
				}
				dx = ax_207;
				byte dl_213 = (byte) ax_207;
				if (ax_207 == ~0x00)
					break;
				Mem220[SLICE(ptrArg08, selector, 16):(word16) ptrArg08 + 0x00:byte] = dl_213;
				wArg08 = wArg08 + 0x01;
			}
			if (dx != ~0x00)
				continue;
			goto l0800_AB3D;
		}
		wArg06 = v10_95 - 0x01;
		word16 di_257 = 0x00;
		while (true)
		{
			word16 bx_263 = (word16) ptrArg02;
			selector es_264 = SLICE(ptrArg02, selector, 16);
			if (Mem0[es_264:bx_263 + 0x06:word16] >u wArg06)
				break;
			word16 bx_295 = (word16) ptrArg02;
			selector es_296 = SLICE(ptrArg02, selector, 16);
			di_257 = di_257 + Mem0[es_296:bx_295 + 0x06:word16];
			wArg06 = wArg06 - Mem0[es_296:bx_295 + 0x06:word16];
		}
		word16 ax_277 = (int16) Mem0[es_264:bx_263 + 0x04:byte];
		ptrLoc0C = DPB(ptrLoc0C, wArg08, 0);
		word16 ax_281 = fn0800_8F50((byte) ax_277, ds, ax_277, ptrLoc0C, di_257);
		dx = ax_281;
		wArg08 = wArg08 + ax_281;
	} while (ax_281 == di_257);
	wArg06 = wArg06 + (di_257 - ax_281);
l0800_AB3D:
	word16 bx_138 = (word16) ptrArg02;
	selector es_139 = SLICE(ptrArg02, selector, 16);
	Mem141[es_139:bx_138 + 0x02:word16] = Mem0[es_139:bx_138 + 0x02:word16] | 0x20;
	return wArg06;
}

word16 fn0800_ABA3(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, word16 wArg0C, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_117;
	word16 sp_103 = fp - 0x0A;
	if (wArg06 == 0x00)
		ax_117 = 0x00;
	else
	{
		word16 dx_101;
		word16 ax_81 = fn0800_8F18(wArg08, 0x00, 0x00, wArg06, out dx_101);
		if (dx_101 <=u 0x01 && (dx_101 <u 0x01 || true))
		{
			selector ds_166;
			word16 dx_170 = ax_81 - fn0800_AAB3(dx_101, ds, DPB(ptrLoc14, wArg0A, 0), wArg0C, ax_81, DPB(ptrLoc0E, wArg02, 0), wArg04, out ds_166);
			ax_117 = SEQ(SEQ(0x00, dx_170) % wArg06, dx_170) /u wArg06;
		}
		else
		{
			word16 si_102 = wArg08 + 0x01;
			while (true)
			{
				word16 dx_147;
				si_102 = si_102 - 0x01;
				if (si_102 == 0x00)
					break;
				word16 sp_120 = sp_103 - 0x02;
				Mem121[ss:sp_120 + 0x00:word16] = wArg04;
				Mem123[ss:sp_120 - 0x02 + 0x00:word16] = wArg02;
				Mem125[ss:sp_120 - 0x04 + 0x00:word16] = wArg06;
				Mem128[ss:sp_120 - 0x06 + 0x00:word16] = wArg0C;
				Mem131[ss:sp_120 - 0x08 + 0x00:word16] = wArg0A;
				sp_103 = sp_120 + 0x02;
				if (fn0800_AAB3(dx_101, ds, ptrArg00, wArg02, wArg04, ptrArg06, wArg08, out ds) != 0x00)
					break;
				wArg04 = dx_147;
				wArg02 = fn0800_8CCB(wArg02, 0x00, wArg04, wArg06, bp, out dx_147);
				dx_101 = dx_147;
			}
			ax_117 = wArg08 - si_102;
		}
	}
	return ax_117;
}

word16 fn0800_AC31(word16 bp, word16 wArg00, segptr32 ptrArg02, ptr16 & bpOut, ptr16 & siOut)
{
	word16 cx_102;
	word16 bx_13 = (word16) ptrArg02;
	selector es_14 = SLICE(ptrArg02, selector, 16);
	if (Mem0[es_14:bx_13 + 0x00:word16] < 0x00)
		cx_102 = Mem0[es_14:bx_13 + 0x06:word16] + Mem0[es_14:bx_13 + 0x00:word16] + 0x01;
	else
	{
		int32 dx_ax_129 = (int32) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:word16];
		word16 dx_131 = SLICE(dx_ax_129, word16, 16);
		ax = ((word16) dx_ax_129 ^ dx_131) - dx_131;
		cx_102 = ax;
	}
	if ((Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x02:word16] & 0x40) == 0x00)
	{
		word16 bx_62 = (word16) ptrArg02;
		selector es_63 = SLICE(ptrArg02, selector, 16);
		word16 wLoc06_67 = Mem0[es_63:bx_62 + 0x0C:word16];
		if (Mem0[es_63:bx_62 + 0x00:word16] < 0x00)
			while (true)
			{
				cx_102 = cx_102 - 0x01;
				ax = cx_102;
				if (cx_102 == 0x00)
					break;
				word16 v18_84 = wLoc06_67 - 0x01;
				ptrLoc06 = DPB(ptrLoc06, v18_84, 0);
				wLoc06_67 = v18_84;
			}
		else
			do
			{
				cx_102 = cx_102 - 0x01;
				ax = cx_102;
			} while (cx_102 != 0x00);
	}
	return ax;
	*siOut = wArg00;
	*bpOut = Mem0[ss:bp + 0x00:word16];
	return si;
}

word16 fn0800_ACB3(word16 bp, selector ds, segptr32 ptrArg02, word16 wArg04, word16 wArg0A, ptr16 & dsOut)
{
	word16 ax_107;
	word16 bp_128 = fp - 0x02;
	word16 si_11 = wArg0A;
	word16 sp_131 = fp - 0x04;
	byte dl_21;
	selector ds_22;
	if (fn0800_A6B7(ds, DPB(ptrLoc08, wArg02, 0), wArg04, out dl_21, out ds_22) != 0x00)
		ax_107 = ~0x00;
	else
	{
		if (wArg0A == 0x01)
		{
			word16 bx_119 = (word16) ptrArg02;
			if (Mem0[SLICE(ptrArg02, selector, 16):bx_119 + 0x00:word16] > 0x00)
			{
				word16 ax_133 = (word16) (int32) fn0800_AC31(fp - 0x02, wLoc0A, DPB(ptrLoc08, bx_119, 0), out bp_128, out si_11);
				Mem135[ss:bp_128 + 0x08:word16] = Mem0[ss:bp_128 + 0x08:word16] - ax_133;
				Mem139[ss:bp_128 + 0x0A:word16] = v18;
				sp_131 = fp - 0x04;
			}
		}
		ptr32 es_bx_73 = Mem0[ss:bp_128 + 0x04:segptr32];
		Mem0[es_bx_73 + 0x02:word16] = Mem0[es_bx_73 + 0x02:word16] & ~0x01A0;
		Mem0[Mem0[es_bx_73 + 0x00:word16] + 0x00:word16] = 0x00;
		word16 dx_82 = Mem0[es_bx_73 + 0x08:word16];
		Mem0[es_bx_73 + 0x0E:word16] = Mem0[es_bx_73 + 0x0A:word16];
		Mem0[es_bx_73 + 0x0C:word16] = dx_82;
		word16 sp_85 = sp_131 - 0x02;
		Mem86[ss:sp_85 + 0x00:word16] = si_11;
		Mem88[ss:sp_85 - 0x02 + 0x00:word16] = Mem86[ss:bp_128 + 0x0A:word16];
		Mem90[ss:sp_85 - 0x04 + 0x00:word16] = Mem88[ss:bp_128 + 0x08:word16];
		word16 ax_92 = (int16) Mem0[es_bx_73 + 0x04:byte];
		Mem95[ss:sp_85 - 0x06 + 0x00:word16] = ax_92;
		word16 dx_98;
		word16 ax_99 = fn0800_8E29((byte) ax_92, ds_22, wArg00, wArg02, wArg04, bArg06, out dx_98);
		if (dx_98 == ~0x00 && ax_99 == ~0x00)
			ax_107 = ~0x00;
		else
			ax_107 = 0x00;
	}
	return ax_107;
}

word16 fn0800_AD2F(selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & siOut)
{
	*siOut = si;
	word16 bp_40 = fp - 0x02;
	word16 dx_19;
	word16 ax_20 = fn0800_97B6(ds, (int16) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x04:byte], out dx_19);
	if (dx_19 != ~0x00 || ax_20 != ~0x00)
	{
		word16 bx_52 = (word16) ptrArg02;
		if (Mem0[SLICE(ptrArg02, selector, 16):bx_52 + 0x00:word16] < 0x00)
		{
			word16 si_65;
			int32 dx_ax_68 = (int32) fn0800_AC31(fp - 0x02, wLoc0C, DPB(ptrLoc0A, bx_52, 0), out bp_40, out si_65);
			word16 v16_71 = Mem0[ss:bp_40 - 0x04 + 0x00:word16] + (word16) dx_ax_68;
			Mem72[ss:bp_40 - 0x04 + 0x00:word16] = v16_71;
			Mem76[ss:bp_40 - 0x02 + 0x00:word16] = Mem72[ss:bp_40 - 0x02 + 0x00:word16] + SLICE(dx_ax_68, word16, 16) + (v16_71 <u 0x00);
		}
		else
		{
			word16 si_85;
			int32 dx_ax_88 = (int32) fn0800_AC31(fp - 0x02, wLoc0C, DPB(ptrLoc0A, wArg02, 0), out bp_40, out si_85);
			word16 v19_91 = Mem0[ss:bp_40 - 0x04 + 0x00:word16] - (word16) dx_ax_88;
			Mem92[ss:bp_40 - 0x04 + 0x00:word16] = v19_91;
			Mem96[ss:bp_40 - 0x02 + 0x00:word16] = Mem92[ss:bp_40 - 0x02 + 0x00:word16] - SLICE(dx_ax_88, word16, 16) - (v19_91 <u 0x00);
		}
	}
	return Mem0[ss:bp_40 - 0x04 + 0x00:word16];
}

word16 fn0800_AD85(word16 bp, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, word16 wArg0C, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_142;
	word16 sp_11 = fp - 0x0A;
	if (wArg06 != 0x00)
	{
		word16 dx_94;
		word16 ax_95 = fn0800_8F18(wArg08, 0x00, 0x00, wArg06, out dx_94);
		if (dx_94 <=u 0x01 && (dx_94 <u 0x01 || true))
		{
			selector ds_173;
			word16 ax_174 = fn0800_B4BE(ds, DPB(ptrLoc14, wArg0A, 0), wArg0C, ax_95, DPB(ptrLoc0E, wArg02, 0), wArg04, out ds_173);
			ax_142 = SEQ(SEQ(0x00, ax_174) % wArg06, ax_174) /u wArg06;
			return ax_142;
		}
		word16 si_106 = 0x00;
		if (0x00 <u wArg08)
			do
			{
				word16 sp_117 = sp_11 - 0x02;
				Mem118[ss:sp_117 + 0x00:word16] = wArg04;
				Mem120[ss:sp_117 - 0x02 + 0x00:word16] = wArg02;
				Mem122[ss:sp_117 - 0x04 + 0x00:word16] = wArg06;
				Mem125[ss:sp_117 - 0x06 + 0x00:word16] = wArg0C;
				Mem128[ss:sp_117 - 0x08 + 0x00:word16] = wArg0A;
				word16 ax_132 = fn0800_B4BE(ds, ptrArg00, wArg02, wArg04, ptrArg06, wArg08, out ds);
				sp_11 = sp_117 + 0x02;
				if (false || ax_132 != wArg06)
				{
					ax_142 = si_106;
					return ax_142;
				}
				wArg04 = dx_152;
				word16 dx_152;
				wArg02 = fn0800_8CCB(wArg02, 0x00, wArg04, wArg06, bp, out dx_152);
				si_106 = si_106 + 0x01;
			} while (si_106 <u wArg08);
	}
	ax_142 = wArg08;
	return ax_142;
}

selector fn0800_AE10(selector ds)
{
	word16 si_12 = 0x14;
	ds_31 = ds;
	while (true)
	{
		selector ds_31;
		si_12 = si_12 - 0x01;
		if (si_12 == 0x00)
			break;
		word16 bx_49 = (word16) ptrLoc06;
		if ((Mem0[SLICE(ptrLoc06, selector, 16):bx_49 + 0x02:word16] & 0x0300) == 0x0300)
		{
			ptrLoc0C = DPB(ptrLoc0C, bx_49, 0);
			byte dl_72;
			fn0800_A6B7(ds_31, ptrLoc0C, ds, out dl_72, out ds_31);
		}
	}
	return ds_31;
}

word16 fn0800_AE4C(selector ds, segptr32 ptrArg02, ptr16 & dsOut)
{
	if ((Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x02:word16] & 0x0200) != 0x00)
		ds = fn0800_AE10(ds);
	word16 ax_51;
	word16 bx_18 = (word16) ptrArg02;
	selector es_19 = SLICE(ptrArg02, selector, 16);
	word16 wLoc04_21 = Mem0[es_19:bx_18 + 0x06:word16];
	word16 ax_22 = Mem0[es_19:bx_18 + 0x0A:word16];
	word16 dx_23 = Mem0[es_19:bx_18 + 0x08:word16];
	Mem24[es_19:bx_18 + 0x0E:word16] = ax_22;
	Mem25[es_19:bx_18 + 0x0C:word16] = dx_23;
	selector ds_36;
	word16 ax_37 = fn0800_B97F(ds, (int16) Mem25[es_19:bx_18 + 0x04:byte], DPB(ptrLoc08, dx_23, 0), ax_22, wLoc04_21, out ds_36);
	word16 bx_40 = (word16) ptrArg02;
	selector es_41 = SLICE(ptrArg02, selector, 16);
	Mem42[es_41:bx_40 + 0x00:word16] = ax_37;
	if (ax_37 > 0x00)
	{
		Mem59[es_41:bx_40 + 0x02:word16] = Mem42[es_41:bx_40 + 0x02:word16] & ~0x20;
		ax_51 = 0x00;
	}
	else
	{
		word16 bx_67 = (word16) ptrArg02;
		selector es_68 = SLICE(ptrArg02, selector, 16);
		if (Mem42[es_68:bx_67 + 0x00:word16] == 0x00)
			Mem83[es_68:bx_67 + 0x02:word16] = Mem42[es_68:bx_67 + 0x02:word16] & 65151 | 0x20;
		else
		{
			word16 bx_85 = (word16) ptrArg02;
			selector es_86 = SLICE(ptrArg02, selector, 16);
			Mem87[es_86:bx_85 + 0x00:word16] = 0x00;
			Mem89[es_86:bx_85 + 0x02:word16] = Mem87[es_86:bx_85 + 0x02:word16] | 0x10;
		}
		ax_51 = ~0x00;
	}
	return ax_51;
}

word16 fn0800_AEC2(selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dsOut)
{
	word16 bx_9 = (word16) ptrArg02;
	selector es_10 = SLICE(ptrArg02, selector, 16);
	Mem13[es_10:bx_9 + 0x00:word16] = Mem0[es_10:bx_9 + 0x00:word16] + 0x01;
	selector ds_23;
	return fn0800_AED6(ds, DPB(ptrLoc06, bx_9, 0), wArg04, out ds_23);
}

word16 fn0800_AED6(selector ds, segptr32 ptrArg02, word16 wArg04, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_101;
	if ((wArg02 | wArg04) == 0x00)
	{
l0800_AEE2:
		ax_101 = ~0x00;
		return ax_101;
	}
	word16 ax_123;
	if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:word16] <= 0x00)
	{
		word16 bx_125 = (word16) ptrArg02;
		selector es_126 = SLICE(ptrArg02, selector, 16);
		if (Mem0[es_126:bx_125 + 0x00:word16] < 0x00 || ((Mem0[es_126:bx_125 + 0x02:word16] & 0x0110) != 0x00 || (Mem0[es_126:bx_125 + 0x02:word16] & 0x01) == 0x00))
		{
l0800_AF7F:
			word16 bx_143 = (word16) ptrArg02;
			selector es_144 = SLICE(ptrArg02, selector, 16);
			Mem146[es_144:bx_143 + 0x02:word16] = Mem0[es_144:bx_143 + 0x02:word16] | 0x10;
			word16 bx_149 = (word16) ptrArg02;
			selector es_150 = SLICE(ptrArg02, selector, 16);
			Mem152[es_150:bx_149 + 0x02:word16] = Mem146[es_150:bx_149 + 0x02:word16] | 0x10;
			goto l0800_AEE2;
		}
		word16 bx_162 = (word16) ptrArg02;
		selector es_163 = SLICE(ptrArg02, selector, 16);
		Mem165[es_163:bx_162 + 0x02:word16] = Mem0[es_163:bx_162 + 0x02:word16] | 0x80;
		if (Mem165[es_163:bx_162 + 0x06:word16] == 0x00)
		{
l0800_AF43:
			if ((Mem165[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x02:word16] & 0x0200) != 0x00)
				ds = fn0800_AE10(ds);
			ptrLoc0A = DPB(ptrLoc0A, 0x4EE4, 0);
			word16 ax_215 = fn0800_B97F(ds, (int16) Mem165[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x04:byte], ptrLoc0A, ds, 0x01, out ds);
			if (ax_215 == 0x00)
			{
				if (fn0800_A59D(ds, (int16) Mem165[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x04:byte]) != 0x01)
					goto l0800_AF7F;
				word16 bx_234 = (word16) ptrArg02;
				selector es_235 = SLICE(ptrArg02, selector, 16);
				Mem241[es_235:bx_234 + 0x02:word16] = Mem165[es_235:bx_234 + 0x02:word16] & 65151 | 0x20;
				goto l0800_AEE2;
			}
			if (Mem165[ds:0x4EE4:byte] == 0x0D && (Mem165[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x02:word16] & 0x40) == 0x00)
				goto l0800_AF43;
			word16 bx_246 = (word16) ptrArg02;
			selector es_247 = SLICE(ptrArg02, selector, 16);
			Mem249[es_247:bx_246 + 0x02:word16] = Mem165[es_247:bx_246 + 0x02:word16] & ~0x20;
			ax_123 = DPB(ax_215, Mem249[ds:0x4EE4:byte], 0);
l0800_AFBB:
			ax_101 = DPB(ax_123, 0x00, 8);
			return ax_101;
		}
		selector ds_174;
		if (fn0800_AE4C(ds, DPB(ptrLoc08, bx_162, 0), out ds_174) != 0x00)
			goto l0800_AEE2;
	}
	word16 bx_112 = (word16) ptrArg02;
	selector es_113 = SLICE(ptrArg02, selector, 16);
	Mem115[es_113:bx_112 + 0x00:word16] = Mem0[es_113:bx_112 + 0x00:word16] - 0x01;
	word16 ax_116 = Mem115[es_113:bx_112 + 0x0E:word16];
	word16 si_117 = Mem115[es_113:bx_112 + 0x0C:word16];
	Mem119[es_113:bx_112 + 0x0C:word16] = Mem115[es_113:bx_112 + 0x0C:word16] + 0x01;
	ax_123 = DPB(ax_116, Mem119[ax_116:si_117 + 0x00:byte], 0);
	goto l0800_AFBB;
}

word16 fn0800_AFCB(selector ds, segptr32 ptrArg02, ptr16 & dxOut)
{
	word16 ax_189;
	word16 di_16 = (word16) ptrArg02;
	selector es_17 = SLICE(ptrArg02, selector, 16);
	if ((es_17 | di_16) != 0x00)
	{
		byte ah_83 = Mem0[es_17:di_16 + 0x00:byte];
		word16 cx_206 = ~0x00;
		if (cx_206 != 0x00)
		{
			di_16 = di_207 + 0x01;
			cx_206 = cx_206 - 0x01;
			di_207 = di_16;
			if (0x00 != Mem0[es_17:di_207 + 0x00:byte])
				goto l0800_AFE5;
		}
		word16 cx_96 = ~cx_206;
		word16 cx_113 = cx_96 - 0x01;
		if (cx_96 != 0x01)
		{
			ptr32 es_di_100 = Mem0[ds:9898:segptr32];
			word16 di_101 = (word16) es_di_100;
			word16 wLoc06_109 = di_101;
			if ((SLICE(es_di_100, selector, 16) | di_101) != 0x00)
				while (true)
				{
					ptr32 es_di_122 = Mem0[ds:di_101 + 0x00:segptr32];
					word16 di_123 = (word16) es_di_122;
					selector es_124 = SLICE(es_di_122, selector, 16);
					if ((es_124 | di_123) == 0x00)
						break;
					byte al_130 = Mem0[Mem0[es_di_122 + 0x00:byte] + 0x00:byte];
					if (al_130 == 0x00)
						break;
					if (ah_83 == al_130)
					{
						byte Z_157 = cond(Mem0[es_124:cx_113 + di_123:byte] - 0x3D);
						if (Mem0[es_124:cx_113 + di_123:byte] == 0x3D)
						{
							selector ds_162 = SLICE(ptrArg02, selector, 16);
							word16 si_163 = (word16) ptrArg02;
							cx_166 = cx_113;
l0800_B029:
							word16 cx_166;
							if (cx_166 != 0x00)
							{
								Z_157 = cond(Mem0[ds_162:si_209 + 0x00:byte] - Mem0[es_124:di_123 + 0x00:byte]);
								si_163 = si_209 + 0x01;
								di_123 = di_123 + 0x01;
								cx_166 = cx_166 - 0x01;
								si_209 = si_163;
								if (Mem0[ds_162:si_209 + 0x00:byte] != Mem0[es_124:di_123 + 0x00:byte])
									goto l0800_B029;
							}
							if (!Z_157)
							{
								ax_189 = di_123 + 0x01;
								*dxOut = es_124;
								return ax_189;
							}
						}
					}
					word16 v23_148 = wLoc06_109 + 0x04;
					wLoc06_109 = v23_148;
					di_101 = v23_148;
				}
		}
	}
	*dxOut = 0x00;
	ax_189 = 0x00;
	return ax_189;
}

selector fn0800_B03B(segptr32 ptrArg02, word16 wArg04, segptr32 ptrArg06, word16 wArg0A)
{
	word16 di_17 = (word16) ptrArg02;
	selector es_18 = SLICE(ptrArg02, selector, 16);
	selector ds_21 = SLICE(ptrArg06, selector, 16);
	word16 si_22 = (word16) ptrArg06;
	word16 cx_25 = wArg0A >>u 0x01;
	while (cx_25 != 0x00)
	{
		Mem36[es_18:di_17 + 0x00:word16] = Mem0[ds_21:si_22 + 0x00:word16];
		si_22 = si_22 + 0x02;
		di_17 = di_17 + 0x02;
		cx_25 = cx_25 - 0x01;
	}
	if (wArg0A >>u 0x01 <u 0x00)
		Mem55[es_18:di_17 + 0x00:byte] = Mem0[ds_21:si_22 + 0x00:byte];
	return es_18;
}

void fn0800_B05F(segptr32 ptrArg02, word16 wArg06, byte bArg08)
{
	word16 di_12 = (word16) ptrArg02;
	selector es_13 = SLICE(ptrArg02, selector, 16);
	word16 cx_15 = wArg06;
	word16 ax_20 = DPB(ax, bArg08, 8);
	if ((di_12 & 0x01) != 0x00)
	{
		if (wArg06 == 0x00)
			return;
		Mem53[es_13:di_12 + 0x00:byte] = bArg08;
		di_12 = di_12 + 0x01;
		cx_15 = wArg06 - 0x01;
	}
	word16 cx_38 = cx_15 >>u 0x01;
	cx_45 = cx_38;
	while (true)
	{
		word16 cx_45;
		if (cx_45 == 0x00)
			break;
		Mem46[es_13:di_12 + 0x00:word16] = ax_20;
		di_12 = di_12 + 0x02;
		cx_45 = cx_45 - 0x01;
	}
	if (cx_38 <u 0x00)
		Mem50[es_13:di_12 + 0x00:byte] = bArg08;
	return;
}

void fn0800_B083(word16 wArg02, word16 wArg04, byte bArg06, word16 wArg08)
{
	fn0800_B05F(DPB(ptrLoc0A, wArg02, 0), wArg08, bArg06);
	return;
}

void fn0800_B0A1(segptr32 ptrArg02, word16 wArg04, segptr32 ptrArg06, word16 wArg08, word16 wArg0A)
{
	word16 ax_120;
	byte dl_25;
	if (!fn0800_8F2F(wArg02, wArg08, wArg04, wArg06, out dl_25))
		ax_120 = 0x01;
	else
		ax_120 = 0x00;
	selector ds_32 = SLICE(ptrArg02, selector, 16);
	word16 si_105 = (word16) ptrArg02;
	word16 di_107 = (word16) ptrArg06;
	selector es_37 = SLICE(ptrArg06, selector, 16);
	word16 cx_109 = wArg0A;
	if (ax_120 != 0x00)
	{
		si_105 = si_105 + wArg0A - 0x01;
		di_107 = di_107 + wArg0A - 0x01;
	}
	if ((di_107 & 0x01) != 0x00)
	{
		if (wArg0A == 0x00)
			return;
		Mem104[es_37:di_107 + 0x00:byte] = Mem0[ds_32:si_105 + 0x00:byte];
		si_105 = si_105 + 0x01;
		di_107 = di_107 + 0x01;
		cx_109 = wArg0A - 0x01;
	}
	word16 si_73 = si_105 - ax_120;
	word16 di_75 = di_107 - ax_120;
	word16 cx_77 = cx_109 >>u 0x01;
	cx_87 = cx_77;
	while (true)
	{
		word16 cx_87;
		if (cx_87 == 0x00)
			break;
		Mem90[es_37:di_75 + 0x00:word16] = Mem0[ds_32:si_73 + 0x00:word16];
		si_73 = si_73 + 0x02;
		di_75 = di_75 + 0x02;
		cx_87 = cx_87 - 0x01;
	}
	if (cx_77 <u 0x00)
		Mem100[es_37:di_75 + ax_120:byte] = Mem0[ds_32:si_73 + ax_120:byte];
	return;
}

selector fn0800_B0F3(word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A)
{
	fn0800_B0A1(DPB(ptrLoc0C, wArg06, 0), wArg08, DPB(ptrLoc08, wArg02, 0), wArg04, wArg0A);
	return ds;
}

void fn0800_B113(byte al, selector ds, word16 wArg02, segptr32 ptrArg04)
{
	word16 ax_19;
	if (msdos_create_truncate_file(wArg02, SLICE(ptrArg04, selector, 16), (word16) ptrArg04, out ax_19))
		fn0800_8D2B(ds, ax_19);
	return;
}

void fn0800_B12E(byte al, selector ds, word16 wArg02)
{
	word16 ax_17;
	msdos_write_file(wArg02, 0x00, SEQ(ds, 0x00), out ax_17);
	return;
}

byte fn0800_B140(word16 si, word16 di, selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 si_114 = wArg06;
	if ((wArg06 & 0xC000) == 0x00)
		si_114 = wArg06 | Mem0[ds:0x2512:word16] & 0xC000;
	word16 di_113;
	byte al_284;
	word16 ax_162 = fn0800_A53C(0x00, ds, DPB(ptrLoc10, wArg02, 0), 0x00, di);
	word16 wLoc04_157 = ax_162;
	if ((si_114 & 0x0100) != 0x00)
	{
		word16 di_268 = wArg08 & Mem0[ds:9492:word16];
		ax_162 = di_268;
		if ((di_268 & 0x0180) == 0x00)
			ax_162 = fn0800_8D2B(ds, 0x01);
		word16 wLoc0C_282;
		if (ax_162 == ~0x00)
		{
			if (Mem0[ds:9494:word16] != 0x02)
			{
				wLoc0C_282 = Mem0[ds:9494:word16];
				goto l0800_B197;
			}
			byte al_297;
			word16 ax_296;
			if ((di_268 & 0x80) != 0x00)
			{
				ax_296 = 0x00;
				al_297 = 0x00;
			}
			else
			{
				ax_296 = 0x01;
				al_297 = 0x01;
			}
			wLoc04_157 = ax_296;
			if ((si_114 & 0xF0) == 0x00)
			{
				fn0800_B113(al_297, ds, ax_296, DPB(ptrLoc0E, wArg02, 0));
				di_113 = ~0x00;
				if (true)
					goto l0800_B298;
l0800_B265:
				if (di_113 >= 0x00)
				{
					word16 ax_124;
					if ((si_114 & 0x0300) != 0x00)
						ax_124 = 0x1000;
					else
						ax_124 = 0x00;
					word16 ax_136;
					word16 dx_128 = si_114 & ~0x0700 | ax_124;
					if ((wLoc04_157 & 0x01) != 0x00)
						ax_136 = 0x00;
					else
						ax_136 = 0x0100;
					SEQ(ds, 0x24EA)[di_113 * 0x02] = dx_128 | ax_136;
				}
				goto l0800_B298;
			}
			ptrLoc0E = DPB(ptrLoc0E, wArg02, 0);
			fn0800_B113(0x00, ds, 0x00, ptrLoc0E);
			di_113 = ~0x00;
			ax_162 = ~0x00;
			if (true)
			{
l0800_B298:
				al_284 = (byte) di_113;
				return al_284;
			}
			fn0800_A57F(~0x00, ds, ~0x00);
		}
		else if ((si_114 & 0x0400) != 0x00)
		{
			wLoc0C_282 = 0x50;
l0800_B197:
			al_284 = (byte) fn0800_8D2B(ds, wLoc0C_282);
			return al_284;
		}
	}
	fn0800_B2A0(ds, DPB(ptrLoc10, wArg02, 0), si_114);
	di_113 = ax_162;
	if (ax_162 >= 0x00)
	{
		word16 ax_191 = fn0800_A2A3(0x00, ds, ax_162, 0x00, ptrLoc0A, wLoc06);
		byte al_192 = (byte) ax_191;
		if ((ax_191 & 0x80) != 0x00)
		{
			si_114 = si_114 | 0x2000;
			if ((si_114 & 0x8000) != 0x00)
				fn0800_A2A3(0x01, ds, ax_162, 0x01, DPB(ptrLoc0E, ax_191 & 0xFF | 0x20, 0), di);
		}
		else if ((si_114 & 0x0200) != 0x00)
			fn0800_B12E(al_192, ds, ax_162);
		if ((wLoc04_157 & 0x01) != 0x00 && ((si_114 & 0x0100) != 0x00 && (si_114 & 0xF0) != 0x00))
			fn0800_A53C(0x01, ds, DPB(ptrLoc12, wArg02, 0), 0x01, 0x01);
	}
	goto l0800_B265;
}

void fn0800_B2A0(selector ds, segptr32 ptrArg02, word16 wArg06)
{
	byte al_18 = 0x01;
	if ((wArg06 & 0x02) == 0x00)
	{
		al_18 = 0x02;
		if ((wArg06 & 0x04) == 0x00)
			al_18 = 0x00;
	}
	word16 ax_32;
	if (!msdos_open_file(ptrArg02, al_18 | bArg06 & 0xF0, out ax_32))
		SEQ(ds, 0x24EA)[ax_32 * 0x02] = wArg06 & ~0x4700 | 0x8000;
	else
		fn0800_8D2B(ds, ax_32);
	return;
}

word16 fn0800_B2EF(selector ds, word16 wArg02, word16 wArg04, ptr16 & diOut)
{
	word16 di_27;
	return fn0800_9828(ds, DPB(ptrLoc0C, wArg02, 0), wArg04, out di_27);
}

word16 fn0800_B30A(selector ds, byte bArg02, segptr32 ptrArg04, word16 wArg06, ptr16 & dsOut)
{
	word16 bx_9 = (word16) ptrArg04;
	selector es_10 = SLICE(ptrArg04, selector, 16);
	Mem13[es_10:bx_9 + 0x00:word16] = Mem0[es_10:bx_9 + 0x00:word16] - 0x01;
	selector ds_29;
	return fn0800_B324(ds, (byte) (int16) bArg02, DPB(ptrLoc06, bx_9, 0), wArg06, out ds_29);
}

word16 fn0800_B324(selector ds, byte bArg02, segptr32 ptrArg04, selector psegArg06, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_132;
	word16 ax_40;
	Mem12[ds:0x4EE6:byte] = bArg02;
	word16 bx_16 = (word16) ptrArg04;
	selector es_17 = SLICE(ptrArg04, selector, 16);
	if (Mem12[es_17:bx_16 + 0x00:word16] < ~0x00)
	{
		Mem94[es_17:bx_16 + 0x00:word16] = Mem12[es_17:bx_16 + 0x00:word16] + 0x01;
		ax_132 = Mem94[es_17:bx_16 + 0x0E:word16];
		word16 si_96 = Mem94[es_17:bx_16 + 0x0C:word16];
		Mem98[es_17:bx_16 + 0x0C:word16] = Mem94[es_17:bx_16 + 0x0C:word16] + 0x01;
		Mem101[ax_132:si_96 + 0x00:byte] = Mem98[ds:0x4EE6:byte];
		if ((Mem101[psegArg06:bx_16 + 0x02:word16] & 0x08) == 0x00)
			goto l0800_B4A3;
		if (Mem101[ds:0x4EE6:byte] != 0x0A && Mem101[ds:0x4EE6:byte] != 0x0D)
			goto l0800_B4A3;
		byte dl_125;
		selector ds_126;
		word16 ax_127 = fn0800_A6B7(ds, DPB(ptrLoc08, wArg04, 0), psegArg06, out dl_125, out ds_126);
		ax_132 = ax_127;
		if (ax_127 == 0x00)
			goto l0800_B4A3;
		goto l0800_B380;
	}
	word16 bx_139 = (word16) ptrArg04;
	selector es_140 = SLICE(ptrArg04, selector, 16);
	if ((Mem12[es_140:bx_139 + 0x02:word16] & 0x90) != 0x00 || (Mem12[es_140:bx_139 + 0x02:word16] & 0x02) == 0x00)
	{
l0800_B39C:
		word16 bx_160 = (word16) ptrArg04;
		selector es_161 = SLICE(ptrArg04, selector, 16);
		Mem163[es_161:bx_160 + 0x02:word16] = Mem12[es_161:bx_160 + 0x02:word16] | 0x10;
		goto l0800_B380;
	}
	word16 bx_170 = (word16) ptrArg04;
	selector es_171 = SLICE(ptrArg04, selector, 16);
	Mem173[es_171:bx_170 + 0x02:word16] = Mem12[es_171:bx_170 + 0x02:word16] | 0x0100;
	if (Mem173[es_171:bx_170 + 0x06:word16] != 0x00)
	{
		if (Mem173[es_171:bx_170 + 0x00:word16] != 0x00)
		{
			ptrLoc08 = DPB(ptrLoc08, bx_170, 0);
			byte dl_228;
			if (fn0800_A6B7(ds, ptrLoc08, psegArg06, out dl_228, out ds) != 0x00)
				goto l0800_B380;
		}
		word16 bx_186 = (word16) ptrArg04;
		selector es_187 = SLICE(ptrArg04, selector, 16);
		Mem190[es_187:bx_186 + 0x00:word16] = -Mem173[es_187:bx_186 + 0x06:word16];
		ax_132 = Mem190[es_187:bx_186 + 0x0E:word16];
		word16 si_192 = Mem190[es_187:bx_186 + 0x0C:word16];
		Mem194[es_187:bx_186 + 0x0C:word16] = Mem190[es_187:bx_186 + 0x0C:word16] + 0x01;
		Mem197[ax_132:si_192 + 0x00:byte] = Mem194[ds:0x4EE6:byte];
		if ((Mem197[psegArg06:bx_186 + 0x02:word16] & 0x08) == 0x00)
			goto l0800_B4A3;
		if (Mem197[ds:0x4EE6:byte] != 0x0A && Mem197[ds:0x4EE6:byte] != 0x0D)
		{
l0800_B4A3:
			ax_40 = DPB(ax_132, 0x00, 8);
			return ax_40;
		}
		byte dl_210;
		selector ds_211;
		word16 ax_212 = fn0800_A6B7(ds, DPB(ptrLoc08, wArg04, 0), psegArg06, out dl_210, out ds_211);
		ax_132 = ax_212;
		if (ax_212 == 0x00)
			goto l0800_B4A3;
l0800_B380:
		ax_40 = ~0x00;
		return ax_40;
	}
	selector es_241 = SLICE(ptrArg04, selector, 16);
	if ((SEQ(ds, 0x24EA)[(int16) Mem173[es_241:(word16) ptrArg04 + 0x04:byte] * 0x02] & 0x0800) != 0x00)
	{
		word16 ax_343 = (int16) Mem173[es_241:wArg04 + 0x04:byte];
		word16 dx_347;
		fn0800_8E29((byte) ax_343, ds, ax_343, 0x00, 0x00, 0x02, out dx_347);
	}
	if (Mem173[ds:0x4EE6:byte] == 0x0A)
	{
		word16 bx_306 = (word16) ptrArg04;
		selector es_307 = SLICE(ptrArg04, selector, 16);
		if ((Mem173[es_307:bx_306 + 0x02:word16] & 0x40) == 0x00)
		{
			word16 ax_321 = (int16) Mem173[es_307:bx_306 + 0x04:byte];
			ptrLoc0A = DPB(ptrLoc0A, 9902, 0);
			byte dl_325;
			ax_132 = fn0800_C779((byte) ax_321, ds, ax_321, ptrLoc0A, 0x01, out dl_325);
			if (ax_132 != 0x01)
			{
l0800_B495:
				if ((Mem173[SLICE(ptrArg04, selector, 16):(word16) ptrArg04 + 0x02:word16] & 0x0200) != 0x00)
					goto l0800_B4A3;
				goto l0800_B39C;
			}
		}
	}
	word16 ax_296 = (int16) Mem173[SLICE(ptrArg04, selector, 16):(word16) ptrArg04 + 0x04:byte];
	byte dl_300;
	ax_132 = fn0800_C779((byte) ax_296, ds, ax_296, DPB(ptrLoc0A, 0x4EE6, 0), 0x01, out dl_300);
	if (ax_132 == 0x01)
		goto l0800_B4A3;
	goto l0800_B495;
}

word16 fn0800_B4BE(selector ds, segptr32 ptrArg02, word16 wArg04, word16 wArg06, segptr32 ptrArg08, word16 wArg0A, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_109;
	word16 di_137 = wArg06;
	if ((Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x02:word16] & 0x08) != 0x00)
	{
		do
		{
			di_137 = di_137 - 0x01;
			if (di_137 == 0x00)
				goto l0800_B69D;
			ptrLoc0C = DPB(ptrLoc0C, wArg02, 0);
			ds_497 = ds;
		} while (fn0800_B324(ds_497, (byte) (int16) Mem0[SLICE(ptrArg08, selector, 16):(word16) ptrArg08 + 0x00:byte], ptrLoc0C, wArg04, out ds) != ~0x00);
		goto l0800_B4F5;
	}
	word16 bx_177 = (word16) ptrArg02;
	selector es_178 = SLICE(ptrArg02, selector, 16);
	if ((Mem0[es_178:bx_177 + 0x02:word16] & 0x40) == 0x00)
	{
		if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x06:word16] != 0x00)
		{
			do
			{
				di_137 = di_137 - 0x01;
				if (di_137 == 0x00)
					goto l0800_B69D;
				word16 ax_231;
				word16 bx_213 = (word16) ptrArg02;
				selector es_214 = SLICE(ptrArg02, selector, 16);
				word16 v17_215 = Mem0[es_214:bx_213 + 0x00:word16] + 0x01;
				Mem216[es_214:bx_213 + 0x00:word16] = v17_215;
				if (v17_215 < 0x00)
				{
					word16 ax_238 = Mem216[es_214:bx_213 + 0x0E:word16];
					word16 si_239 = Mem216[es_214:bx_213 + 0x0C:word16];
					Mem241[es_214:bx_213 + 0x0C:word16] = Mem216[es_214:bx_213 + 0x0C:word16] + 0x01;
					Mem250[ax_238:si_239 + 0x00:byte] = Mem241[SLICE(ptrArg08, selector, 16):(word16) ptrArg08 + 0x00:byte];
					ax_231 = DPB(ax_238, 0x00, 8);
				}
				else
				{
					ptrLoc0C = DPB(ptrLoc0C, wArg02, 0);
					ax_231 = fn0800_B30A(ds, Mem216[SLICE(ptrArg08, selector, 16):(word16) ptrArg08 + 0x00:byte], ptrLoc0C, wArg04, out ds);
				}
			} while (ax_231 != ~0x00);
			goto l0800_B4F5;
		}
		byte dl_290;
		selector ds_291;
		if (fn0800_C632(ds, (int16) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x04:byte], wArg08, wArg0A, wArg06, out dl_290, out ds_291) <u wArg06)
			goto l0800_B4F5;
	}
	else if (Mem0[es_178:bx_177 + 0x06:word16] == 0x00)
	{
		selector es_300 = SLICE(ptrArg02, selector, 16);
		if ((SEQ(ds, 0x24EA)[(int16) Mem0[es_300:(word16) ptrArg02 + 0x04:byte] * 0x02] & 0x0800) != 0x00)
		{
			word16 ax_345 = (int16) Mem0[es_300:wArg02 + 0x04:byte];
			word16 dx_349;
			fn0800_8E29((byte) ax_345, ds, ax_345, 0x00, 0x00, 0x02, out dx_349);
		}
		word16 ax_323 = (int16) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x04:byte];
		byte dl_327;
		if (fn0800_C779((byte) ax_323, ds, ax_323, DPB(ptrLoc0E, wArg08, 0), wArg06, out dl_327) <u wArg06)
			goto l0800_B4F5;
	}
	else if (Mem0[es_178:bx_177 + 0x06:word16] <u wArg06)
	{
		if (Mem0[es_178:bx_177 + 0x00:word16] != 0x00)
		{
			byte dl_424;
			if (fn0800_A6B7(ds, DPB(ptrLoc0C, bx_177, 0), wArg04, out dl_424, out ds) != 0x00)
				goto l0800_B4F5;
		}
		selector es_366 = SLICE(ptrArg02, selector, 16);
		if ((SEQ(ds, 0x24EA)[(int16) Mem0[es_366:(word16) ptrArg02 + 0x04:byte] * 0x02] & 0x0800) != 0x00)
		{
			word16 ax_411 = (int16) Mem0[es_366:wArg02 + 0x04:byte];
			word16 dx_415;
			fn0800_8E29((byte) ax_411, ds, ax_411, 0x00, 0x00, 0x02, out dx_415);
		}
		word16 ax_389 = (int16) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x04:byte];
		byte dl_393;
		if (fn0800_C779((byte) ax_389, ds, ax_389, DPB(ptrLoc0E, wArg08, 0), wArg06, out dl_393) <u wArg06)
		{
l0800_B4F5:
			ax_109 = 0x00;
			return ax_109;
		}
	}
	else
	{
		word16 bx_436 = (word16) ptrArg02;
		selector es_437 = SLICE(ptrArg02, selector, 16);
		if (Mem0[es_437:bx_436 + 0x00:word16] + wArg06 >= 0x00)
			if (Mem0[es_437:bx_436 + 0x00:word16] == 0x00)
				Mem480[es_437:bx_436 + 0x00:word16] = ~0x00 - Mem0[es_437:bx_436 + 0x06:word16];
			else
			{
				byte dl_486;
				selector ds_487;
				if (fn0800_A6B7(ds, DPB(ptrLoc0C, wArg02, 0), wArg04, out dl_486, out ds_487) != 0x00)
					goto l0800_B4F5;
			}
		word16 bx_457 = (word16) ptrArg02;
		selector es_458 = SLICE(ptrArg02, selector, 16);
		fn0800_B03B(DPB(ptrLoc12, Mem0[es_458:bx_457 + 0x0C:word16], 0), Mem0[es_458:bx_457 + 0x0E:word16], DPB(ptrLoc0E, wArg08, 0), wArg06);
		word16 bx_467 = (word16) ptrArg02;
		selector es_468 = SLICE(ptrArg02, selector, 16);
		Mem471[es_468:bx_467 + 0x00:word16] = Mem0[es_468:bx_467 + 0x00:word16] + wArg06;
		Mem473[es_468:bx_467 + 0x0C:word16] = Mem471[es_468:bx_467 + 0x0C:word16] + wArg06;
	}
l0800_B69D:
	ax_109 = wArg06;
	return ax_109;
}

word16 fn0800_B97F(selector ds, word16 wArg02, segptr32 ptrArg04, word16 wArg06, word16 wArg08, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_125;
	if (wArg02 >=u Mem0[ds:9448:word16])
		ax_125 = fn0800_8D2B(ds, 0x06);
	else
	{
		byte al_101 = (byte) (wArg08 + 0x01);
		if (wArg08 >=u ~0x00 && (SEQ(ds, 0x24EA)[wArg02 * 0x02] & 0x0200) == 0x00)
		{
			do
			{
				ptrLoc10 = DPB(ptrLoc10, wArg04, 0);
				word16 ax_115 = fn0800_8F50(al_101, ds, wArg02, ptrLoc10, wArg08);
				if (ax_115 <u ~0x00 || (SEQ(ds, 0x24EA)[wArg02 * 0x02] & 0x4000) == 0x00)
				{
					ax_125 = ax_115;
					return ax_125;
				}
				word16 si_135 = (word16) ptrArg04;
				word16 cx_132 = ax_115;
				selector es_136 = SLICE(ptrArg04, selector, 16);
				word16 di_137 = si_135;
				word16 bx_138 = si_135;
				si_143 = si_135;
				do
				{
					word16 si_143;
					al_101 = Mem0[ds:si_143 + 0x00:byte];
					si_143 = si_143 + 0x01;
					if (al_101 == 0x1A)
					{
						word16 cx_234 = -cx_132;
						word16 ax_236 = 0x00 - (cx_234 == 0x00);
						word16 dx_245;
						fn0800_8E29((byte) ax_236, ds, wArg02, cx_234, ax_236, 0x01, out dx_245);
						SEQ(ds, 0x24EA)[wArg02 * 0x02] = SEQ(ds, 0x24EA)[wArg02 * 0x02] | 0x0200;
						bx_138 = si_135;
						goto l0800_BA41;
					}
					if (al_101 != 0x0D)
					{
						Mem194[es_136:di_137 + 0x00:byte] = al_101;
						di_137 = di_137 + 0x01;
						cx_132 = cx_132 - 0x01;
						if (cx_132 == 0x00)
							goto l0800_BA19;
						continue;
					}
					cx_132 = cx_132 - 0x01;
				} while (cx_132 != 0x00);
				ptrLoc14 = DPB(ptrLoc14, fp - 0x05, 0);
				fn0800_8F50((byte) (fp - 0x05), ds, wArg02, ptrLoc14, 0x01);
				Mem226[es_136:di_137 + 0x00:byte] = bLoc05;
				bx_138 = si_135;
				al_101 = bLoc05;
				di_137 = di_137 + 0x01;
			} while (di_137 != bx_138);
l0800_BA41:
			ax_125 = di_137 - bx_138;
		}
		else
			ax_125 = 0x00;
	}
	return ax_125;
}

word16 fn0800_BA4A(byte al, selector ds, segptr32 ptrArg02, segptr32 ptrArg06)
{
	word16 ax_27;
	word16 ax_20;
	if (!msdos_rename_file(ptrArg02, ptrArg06, out ax_20))
		ax_27 = 0x00;
	else
		ax_27 = fn0800_8D2B(ds, ax_20);
	return ax_27;
}

selector fn0800_BA67(selector ds, word16 wArg02, word16 wArg04)
{
	selector ds_25;
	if (fn0800_ACB3(fp - 0x02, ds, DPB(ptrLoc0C, wArg02, 0), wArg04, 0x00, out ds_25) == 0x00)
	{
		ptr32 es_bx_44 = Mem0[ss:fp + 0x02:segptr32];
		Mem0[es_bx_44 + 0x02:word16] = Mem0[es_bx_44 + 0x02:word16] & ~0x10;
	}
	return ds_25;
}

word16 fn0800_BA89(word16 bp, selector ds, segptr32 ptrArg02, word16 wArg04, word16 wArg0A, word16 wArg0C, ptr16 & dsOut)
{
	*dsOut = ds;
	word16 ax_150;
	word16 bp_169 = fp - 0x02;
	word16 sp_10 = fp - 0x06;
	word16 di_14 = wArg0A;
	if (Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x12:word16] != wArg02 || (wArg0A > 0x02 || wArg0C >u 0x7FFF))
	{
l0800_BAAB:
		ax_150 = ~0x00;
		return ax_150;
	}
	else
	{
		if (Mem0[ds:0x26B2:word16] == 0x00 && wArg02 == 0x236C)
			Mem248[ds:0x26B2:word16] = 0x01;
		else if (Mem0[ds:9904:word16] == 0x00 && wArg02 == 0x2358)
			Mem245[ds:9904:word16] = 0x01;
		word16 bx_97 = (word16) ptrArg02;
		if (Mem0[SLICE(ptrArg02, selector, 16):bx_97 + 0x00:word16] != 0x00)
		{
			fn0800_ACB3(fp - 0x02, ds, DPB(ptrLoc10, bx_97, 0), wArg04, 0x01, out ds);
			sp_10 = fp - 0x06;
		}
		ptr32 es_bx_111 = Mem0[ss:fp + 0x02:segptr32];
		if ((Mem0[es_bx_111 + 0x02:word16] & 0x04) != 0x00)
		{
			word16 sp_211 = sp_10 - 0x02;
			Mem212[ss:sp_211 + 0x00:word16] = Mem0[es_bx_111 + 0x0A:word16];
			Mem214[ss:sp_211 - 0x02 + 0x00:word16] = Mem0[es_bx_111 + 0x08:word16];
			fn0800_9E75(ds, wArg02, out ds);
			sp_10 = sp_211 + 0x02;
		}
		ptr32 es_bx_121 = Mem0[ss:fp + 0x02:segptr32];
		Mem0[es_bx_121 + 0x02:word16] = Mem0[es_bx_121 + 0x02:word16] & ~0x0C;
		Mem0[es_bx_121 + 0x06:word16] = 0x00;
		word16 ax_128 = Mem127[ss:fp + 0x04:word16];
		word16 dx_129 = Mem127[ss:fp + 0x02:word16];
		Mem0[es_bx_121 + 0x0A:word16] = ax_128;
		Mem0[es_bx_121 + 0x08:word16] = dx_129 + 0x05;
		Mem0[es_bx_121 + 0x0E:word16] = ax_128;
		Mem0[es_bx_121 + 0x0C:word16] = dx_129 + 0x05;
		if (wArg0A != 0x02)
		{
			word16 si_153 = wArg0C;
			if (true)
			{
				Mem157[ds:0x2352:word16] = ~0x380F;
				if ((Mem157[ss:fp + 0x06:word16] | Mem157[ss:fp + 0x08:word16]) == 0x00)
				{
					Mem188[ss:sp_10 - 0x02 + 0x00:word16] = wArg0C;
					word16 dx_190;
					selector ds_194;
					word16 ax_195 = fn0800_9F7F(fp - 0x02, ds, wArg00, out dx_190, out bp_169, out si_153, out di_14, out ds_194);
					Mem198[ss:bp_169 + 0x0A:word16] = dx_190;
					Mem199[ss:bp_169 + 0x08:word16] = ax_195;
					if ((ax_195 | dx_190) == 0x00)
						goto l0800_BAAB;
					ptr32 es_bx_204 = Mem199[ss:bp_169 + 0x04:segptr32];
					Mem0[es_bx_204 + 0x02:word16] = Mem0[es_bx_204 + 0x02:word16] | 0x04;
				}
				ptr32 es_bx_171 = Mem157[ss:bp_169 + 0x04:segptr32];
				word16 ax_174 = Mem157[ss:bp_169 + 0x0A:word16];
				word16 dx_175 = Mem157[ss:bp_169 + 0x08:word16];
				Mem0[es_bx_171 + 0x0E:word16] = ax_174;
				Mem0[es_bx_171 + 0x0C:word16] = dx_175;
				Mem0[es_bx_171 + 0x0A:word16] = ax_174;
				Mem0[es_bx_171 + 0x08:word16] = dx_175;
				Mem0[es_bx_171 + 0x06:word16] = si_153;
				if (di_14 == 0x01)
					Mem0[es_bx_171 + 0x02:word16] = Mem0[es_bx_171 + 0x02:word16] | 0x08;
			}
		}
		ax_150 = 0x00;
		return ax_150;
	}
}

void fn0800_BC49(segptr32 ptrArg02, word16 wArg04, segptr32 ptrArg06, word16 wArg08, segptr32 ptrArg0A, word16 wArg0C, segptr32 ptrArg0E, word16 wArg10, segptr32 ptrArg12, word16 wArg14)
{
	if ((wArg06 | wArg08) != 0x00)
		Mem185[SLICE(ptrArg06, selector, 16):(word16) ptrArg06 + 0x00:byte] = 0x00;
	if ((wArg0A | wArg0C) != 0x00)
		Mem180[SLICE(ptrArg0A, selector, 16):(word16) ptrArg0A + 0x00:byte] = 0x00;
	if ((wArg0E | wArg10) != 0x00)
		Mem175[SLICE(ptrArg0E, selector, 16):(word16) ptrArg0E + 0x00:byte] = 0x00;
	if ((wArg12 | wArg14) != 0x00)
		Mem170[SLICE(ptrArg12, selector, 16):(word16) ptrArg12 + 0x00:byte] = 0x00;
	while (true)
	{
		word16 bx_67 = (word16) ptrArg02;
		if (Mem0[SLICE(ptrArg02, selector, 16):bx_67 + 0x00:byte] != 0x20)
			break;
		wArg02 = wArg02 + 0x01;
	}
	segptr32 ptrLoc62_78 = DPB(ptrLoc62, bx_67, 0);
	word16 ax_79 = fn0800_BFC7(ptrLoc62_78, wArg04);
	word16 si_162 = ax_79;
	if (ax_79 > 0x50)
		si_162 = 0x50;
	Mem92[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] = 0x00;
	segptr32 ptrLoc64_103 = DPB(ptrLoc64, wArg02, 0);
	segptr32 ptrLoc68_109 = DPB(ptrLoc68, fp - 0x59, 0);
	fn0800_C01E(ptrLoc68_109, ss, ptrLoc64_103, si_162);
	word16 v18_111 = fp - 0x59 + si_162;
	segptr32 ptrLoc06_113 = DPB(ptrLoc06, v18_111, 0);
	Mem117[SLICE(ptrLoc06_113, selector, 16):v18_111 + 0x00:byte] = 0x00;
	word16 wLoc06_112 = v18_111;
	while (true)
	{
		word16 v19_125 = wLoc06_112 - 0x01;
		ptrLoc06_113 = DPB(ptrLoc06_113, v19_125, 0);
		selector es_131 = SLICE(ptrLoc06_113, selector, 16);
		byte al_132 = Mem117[es_131:v19_125 + 0x00:byte];
		wLoc06_112 = v19_125;
		byte SZO_128 = cond(v19_125);
		word16 ax_133 = (int16) al_132;
		word16 cx_135 = 0x07;
		word16 bx_136 = ~0x41E0;
l0800_BCF5:
		word16 ax_141 = Mem117[0x0800:bx_136 + 0x00:word16];
		byte SCZO_142 = cond(ax_141 - ax_133);
		if (ax_141 == ax_133)
			break;
		bx_136 = bx_136 + 0x02;
		cx_135 = cx_135 - 0x01;
		if (cx_135 != 0x00)
			goto l0800_BCF5;
	}
	Mem117[0x0800:bx_136 + 0x0E:word16]();
	return;
}

void fn0800_BE3B(word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, word16 wArg0A, word16 wArg0C, word16 wArg0E, word16 wArg10, word16 wArg12, word16 wArg14)
{
	fn0800_BC49(DPB(ptrLoc16, wArg02, 0), wArg04, DPB(ptrLoc12, wArg06, 0), wArg08, DPB(ptrLoc0E, wArg0A, 0), wArg0C, DPB(ptrLoc0A, wArg0E, 0), wArg10, DPB(ptrLoc06, wArg12, 0), wArg14);
	return;
}

word16 fn0800_BEA2(selector ds, segptr32 ptrArg02, word16 wArg06, word16 wArg08, ptr16 & diOut)
{
	Mem11[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:byte] = 0x00;
	word16 di_33;
	return fn0800_9828(ds, DPB(ptrLoc0C, wArg06, 0), wArg08, out di_33);
}

void fn0800_BF5F(segptr32 ptrArg02, segptr32 ptrArg06)
{
	word16 di_117 = (word16) ptrArg02;
	selector es_20 = SLICE(ptrArg02, selector, 16);
	word16 cx_119 = ~0x00;
	if (cx_119 != 0x00)
	{
		di_117 = di_117 + 0x01;
		cx_119 = cx_119 - 0x01;
		if (0x00 != Mem0[es_20:di_117 + 0x00:byte])
			goto l0800_BF70;
	}
	word16 si_38 = di_117 - 0x01;
	word16 di_112 = (word16) ptrArg06;
	selector es_42 = SLICE(ptrArg06, selector, 16);
	word16 cx_114 = ~0x00;
	if (cx_114 != 0x00)
	{
		di_112 = di_112 + 0x01;
		cx_114 = cx_114 - 0x01;
		if (0x00 != Mem0[es_42:di_112 + 0x00:byte])
			goto l0800_BF7C;
	}
	word16 cx_108 = ~cx_114;
	word16 di_53 = di_112 - cx_108;
	word16 di_106 = si_38;
	word16 si_105 = di_53;
	if ((di_53 & 0x01) != 0x00)
	{
		Mem104[es_20:si_38 + 0x00:byte] = Mem0[es_42:di_53 + 0x00:byte];
		si_105 = di_53 + 0x01;
		di_106 = si_38 + 0x01;
		cx_108 = cx_108 - 0x01;
	}
	word16 cx_71 = cx_108 >>u 0x01;
	cx_79 = cx_71;
	while (true)
	{
		word16 cx_79;
		if (cx_79 == 0x00)
			break;
		Mem82[es_20:di_106 + 0x00:word16] = Mem0[es_42:si_105 + 0x00:word16];
		si_105 = si_105 + 0x02;
		di_106 = di_106 + 0x02;
		cx_79 = cx_79 - 0x01;
	}
	if (cx_71 <u 0x00)
		Mem100[es_20:di_106 + 0x00:byte] = Mem0[es_42:si_105 + 0x00:byte];
	return;
}

void fn0800_BF9E(segptr32 ptrArg02, word16 wArg04, segptr32 ptrArg06)
{
	word16 di_16 = (word16) ptrArg06;
	selector es_17 = SLICE(ptrArg06, selector, 16);
	word16 si_18 = di_16;
	word16 cx_22 = ~0x00;
	if (cx_22 != 0x00)
	{
		di_16 = di_71 + 0x01;
		cx_22 = cx_22 - 0x01;
		di_71 = di_16;
		if (0x00 != Mem0[es_17:di_71 + 0x00:byte])
			goto l0800_BFAE;
	}
	word16 cx_33 = ~cx_22;
	word16 di_41 = (word16) ptrArg02;
	selector es_42 = SLICE(ptrArg02, selector, 16);
	while (cx_33 != 0x00)
	{
		Mem49[es_42:di_41 + 0x00:byte] = Mem0[es_17:si_18 + 0x00:byte];
		si_18 = si_18 + 0x01;
		di_41 = di_41 + 0x01;
		cx_33 = cx_33 - 0x01;
	}
	return;
}

word16 fn0800_BFC7(segptr32 ptrArg02, word16 wArg04)
{
	word16 di_12 = (word16) ptrArg02;
	selector es_13 = SLICE(ptrArg02, selector, 16);
	word16 ax_14 = 0x00;
	if (0x00 != wArg04 || 0x00 != di_12)
	{
		word16 cx_34 = ~0x00;
		if (cx_34 != 0x00)
		{
			di_12 = di_63 + 0x01;
			cx_34 = cx_34 - 0x01;
			di_63 = di_12;
			if (0x00 != Mem0[es_13:di_63 + 0x00:byte])
				goto l0800_BFDD;
		}
		ax_14 = ~cx_34 - 0x01;
	}
	return ax_14;
}

word16 fn0800_BFE6(segptr32 ptrArg02, segptr32 ptrArg06, word16 wArg0A)
{
	word16 di_18 = (word16) ptrArg06;
	selector es_19 = SLICE(ptrArg06, selector, 16);
	word16 ax_23 = wArg0A;
	word16 cx_111 = wArg0A;
	if (wArg0A != 0x00)
	{
		di_109 = di_18;
l0800_BFFE:
		word16 di_109;
		if (cx_111 != 0x00)
		{
			di_109 = di_112 + 0x01;
			cx_111 = cx_111 - 0x01;
			di_112 = di_109;
			if (0x00 != Mem0[es_19:di_112 + 0x00:byte])
				goto l0800_BFFE;
		}
		word16 bx_67 = wArg0A - cx_111;
		word16 cx_106 = bx_67;
		word16 di_104 = di_18;
		selector ds_74 = SLICE(ptrArg02, selector, 16);
		word16 si_102 = (word16) ptrArg02;
		if (cx_106 != 0x00)
		{
			si_102 = si_114 + 0x01;
			di_104 = di_113 + 0x01;
			cx_106 = cx_106 - 0x01;
			di_113 = di_104;
			si_114 = si_102;
			if (Mem0[ds_74:si_114 + 0x00:byte] != Mem0[es_19:di_113 + 0x00:byte])
				goto l0800_C009;
		}
		ax_23 = DPB(wArg0A, 0x00, 8) - DPB(bx_67, 0x00, 8);
	}
	return ax_23;
}

void fn0800_C01E(segptr32 ptrArg02, word16 wArg04, segptr32 ptrArg06, word16 wArg0A)
{
	word16 di_16 = (word16) ptrArg06;
	selector es_17 = SLICE(ptrArg06, selector, 16);
	word16 si_18 = di_16;
	word16 cx_24 = wArg0A;
	if (cx_24 != 0x00)
	{
		di_16 = di_84 + 0x01;
		cx_24 = cx_24 - 0x01;
		di_84 = di_16;
		if (0x00 != Mem0[es_17:di_84 + 0x00:byte])
			goto l0800_C030;
	}
	word16 di_43 = (word16) ptrArg02;
	selector es_44 = SLICE(ptrArg02, selector, 16);
	word16 cx_47 = wArg0A - cx_24;
	while (cx_47 != 0x00)
	{
		Mem54[es_44:di_43 + 0x00:byte] = Mem0[es_17:si_18 + 0x00:byte];
		si_18 = si_18 + 0x01;
		di_43 = di_43 + 0x01;
		cx_47 = cx_47 - 0x01;
	}
	word16 cx_59 = cx_24;
	while (cx_59 != 0x00)
	{
		Mem63[es_44:di_43 + 0x00:byte] = 0x00;
		di_43 = di_43 + 0x01;
		cx_59 = cx_59 - 0x01;
	}
	return;
}

word16 fn0800_C04F(selector ds, segptr32 ptrArg02, segptr32 ptrArg06, ptr16 & dxOut, ptr16 & diOut, ptr16 & dsOut)
{
	selector ds_9;
	*diOut = fn0800_C379(ds, out ds_9);
	word16 si_26 = Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:word16];
	int32 dx_ax_33 = (int32) (si_26 + 63556 >> 0x02);
	int32 dx_ax_60 = (int32) (si_26 + 63556 & 0x03);
	word16 dx_46;
	word16 dx_73;
	word16 wLoc06_285 = (word16) (SEQ(Mem0[ds_9:9956:word16], Mem0[ds_9:0x26E2:word16] + 0xA600) + 315532800) + fn0800_8F18(0x1F80, SLICE(dx_ax_33, word16, 16), 0x0786, (word16) dx_ax_33, out dx_46) + fn0800_8F18(0x3380, SLICE(dx_ax_60, word16, 16), 0x01E1, (word16) dx_ax_60, out dx_73);
	if ((si_26 + 63556 & 0x03) != 0x00)
		wLoc06_285 = v22;
	word16 cx_104 = 0x00;
	word16 si_102 = (int16) Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x03:byte] - 0x01;
	while (si_102 > 0x00)
	{
		si_102 = si_102 - 0x01;
		cx_104 = cx_104 + (int16) Mem0[ds_9:si_102 + 9908:byte];
	}
	word16 bx_113 = (word16) ptrArg02;
	selector es_114 = SLICE(ptrArg02, selector, 16);
	word16 ax_118 = (int16) Mem0[es_114:bx_113 + 0x02:byte];
	word16 cx_120 = cx_104 + (ax_118 - 0x01);
	if (Mem0[es_114:bx_113 + 0x03:byte] > 0x02 && (Mem0[es_114:bx_113 + 0x00:word16] & 0x03) == 0x00)
		cx_120 = cx_120 + 0x01;
	word16 ax_136 = DPB(ax_118 - 0x01, 0x00, 8);
	word16 ax_145 = (word16) (cx_120 *s 0x18) + ax_136;
	if (Mem0[ds_9:0x26E6:word16] != 0x00)
	{
		word16 ax_264 = fn0800_C553(ds_9, Mem0[SLICE(ptrArg02, selector, 16):(word16) ptrArg02 + 0x00:word16] + 63566, 0x00, cx_120, (byte) DPB(ax_145, 0x00, 8));
		ax_145 = ax_264;
	}
	word16 dx_168;
	word16 ax_169 = fn0800_8F18(0x0E10, ax_136, 0x00, ax_145, out dx_168);
	int32 dx_ax_184 = (int32) DPB(ax_169, 0x00, 8);
	int32 dx_ax_212 = (int32) DPB((word16) ptrArg06, 0x00, 8);
	word16 dx_199;
	word16 cx_218 = fn0800_8F18(0x3C, SLICE(dx_ax_184, word16, 16), 0x00, (word16) dx_ax_184, out dx_199) + (word16) dx_ax_212;
	*dxOut = v31;
	return wLoc06_285 + ax_169 + (word16) (SEQ(dx_199, cx_218) + dx_ax_212);
}

word16 fn0800_C379(selector ds, ptr16 & dsOut)
{
	*dsOut = ds;
	segptr32 ptrLoc0C_142 = DPB(ptrLoc0C, 9960, 0);
	word16 dx_20;
	word16 ax_21 = fn0800_AFCB(ds, ptrLoc0C_142, out dx_20);
	if ((ax_21 | dx_20) != 0x00)
	{
		ptrLoc0C_142 = DPB(ptrLoc0C, ax_21, 0);
		if (fn0800_BFC7(ptrLoc0C_142, dx_20) >=u 0x04)
		{
			selector es_153 = SLICE(ptrLoc06, selector, 16);
			if (((int16) Mem0[ds:(int16) Mem0[es_153:(word16) ptrLoc06 + 0x00:byte] + 0x2251:byte] & 0x0C) != 0x00 && (((int16) Mem0[ds:(int16) Mem0[es_153:ax_21 + 0x01:byte] + 0x2251:byte] & 0x0C) != 0x00 && (((int16) Mem0[ds:(int16) Mem0[es_153:ax_21 + 0x02:byte] + 0x2251:byte] & 0x0C) != 0x00 && (Mem0[es_153:ax_21 + 0x03:byte] == 0x2D || (Mem0[es_153:ax_21 + 0x03:byte] == 0x2B || (Mem0[ds:(int16) Mem0[es_153:ax_21 + 0x03:byte] + 0x2251:byte] & 0x02) != 0x00)))))
			{
				selector es_192 = SLICE(ptrLoc06, selector, 16);
				if (((int16) Mem0[ds:(int16) Mem0[es_192:(word16) ptrLoc06 + 0x03:byte] + 0x2251:byte] & 0x02) != 0x00 || ((int16) Mem0[ds:(int16) Mem0[es_192:ax_21 + 0x04:byte] + 0x2251:byte] & 0x02) != 0x00)
				{
					fn0800_B083(Mem0[ds:9950:word16], Mem0[ds:9952:word16], 0x00, 0x04);
					fn0800_C01E(DPB(ptrLoc12, Mem0[ds:9946:word16], 0), Mem0[ds:9948:word16], DPB(ptrLoc0E, ax_21, 0), 0x03);
					ptr32 es_bx_233 = Mem0[ds:9946:segptr32];
					Mem0[es_bx_233 + 0x03:byte] = 0x00;
					word16 dx_246;
					word16 ax_247 = fn0800_A471((byte) es_bx_233, ds, DPB(ptrLoc0C, ax_21 + 0x03, 0), out dx_246);
					word16 dx_264;
					word16 ax_265 = fn0800_8F18(0x0E10, dx_246, 0x00, ax_247, out dx_264);
					Mem266[ds:9956:word16] = dx_264;
					Mem267[ds:0x26E2:word16] = ax_265;
					Mem268[ds:0x26E6:word16] = 0x00;
					word16 si_269 = 0x03;
					while (Mem268[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + si_269:byte] != 0x00)
					{
						if ((Mem268[ds:(int16) Mem268[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + si_269:byte] + 0x2251:byte] & 0x0C) != 0x00)
						{
							if (fn0800_BFC7(DPB(ptrLoc0C, ax_21 + si_269, 0), dx_20) >=u 0x03)
							{
								selector es_306 = SLICE(ptrLoc06, selector, 16);
								if (((int16) Mem268[ds:(int16) Mem268[es_306:(word16) ptrLoc06 + 0x01 + si_269:byte] + 0x2251:byte] & 0x0C) != 0x00 && ((int16) Mem268[ds:(int16) Mem268[es_306:(ax_21 + 0x02) + si_269:byte] + 0x2251:byte] & 0x0C) != 0x00)
								{
									fn0800_C01E(DPB(ptrLoc12, Mem268[ds:9950:word16], 0), Mem268[ds:9952:word16], DPB(ptrLoc0E, ax_21 + si_269, 0), 0x03);
									Mem0[Mem268[ds:9950:segptr32] + 0x03:byte] = 0x00;
									Mem347[ds:0x26E6:word16] = 0x01;
								}
							}
							return di;
						}
						si_269 = si_269 + 0x01;
					}
					return di;
				}
			}
		}
	}
	Mem70[ds:0x26E6:word16] = 0x01;
	Mem71[ds:9956:word16] = 0x00;
	Mem72[ds:0x26E2:word16] = 18000;
	fn0800_BF9E(DPB(ptrLoc10, Mem72[ds:9946:word16], 0), Mem72[ds:9948:word16], DPB(ptrLoc0C_142, 9963, 0));
	fn0800_BF9E(DPB(ptrLoc10, Mem72[ds:9950:word16], 0), Mem72[ds:9952:word16], DPB(ptrLoc0C_142, 9967, 0));
	Mem100[ds:0x26E6:word16] = 0x01;
	Mem101[ds:9956:word16] = 0x00;
	Mem102[ds:0x26E2:word16] = 18000;
	fn0800_BF9E(DPB(ptrLoc10, Mem102[ds:9946:word16], 0), Mem102[ds:9948:word16], DPB(ptrLoc0C_142, 9963, 0));
	fn0800_BF9E(DPB(ptrLoc10, Mem102[ds:9950:word16], 0), Mem102[ds:9952:word16], DPB(ptrLoc0C_142, 9967, 0));
	return di;
}

word16 fn0800_C553(selector ds, word16 wArg02, word16 wArg04, word16 wArg06, byte bArg08)
{
	if (wArg04 == 0x00)
	{
		word16 si_135 = wArg06;
		if (wArg06 >=u 0x3B && (wArg02 + 0x46 & 0x03) == 0x00)
			si_135 = wArg06 - 0x01;
		wArg04 = 0x00;
		while (SEQ(ds, 9920)[wArg04 * 0x02] <=u si_135)
			wArg04 = wArg04 + 0x01;
	}
	else
	{
		if (wArg04 <u 0x03 || (wArg02 + 0x46 & 0x03) != 0x00)
			wArg06 = wArg06 - 0x01;
		wArg06 = wArg06 + SEQ(ds, 9920)[(wArg04 - 0x01) * 0x02];
	}
	word16 ax_35;
	if (wArg04 >=u 0x04)
	{
		if (wArg04 != 0x04)
		{
			if (wArg04 >u 0x0A)
				goto l0800_C62B;
			if (wArg04 != 0x0A)
				goto l0800_C626;
		}
		word16 cx_117;
		word16 bx_67 = wArg04 << 0x01;
		if (wArg02 > 0x10 && wArg04 == 0x04)
			cx_117 = Mem0[ds:bx_67 + 9918:word16] + 0x07;
		else
			cx_117 = Mem0[ds:bx_67 + 9920:word16];
		if (((byte) (wArg02 + 0x07B2) & 0x03) != 0x00)
			cx_117 = cx_117 - 0x01;
		word16 cx_97 = cx_117 - SEQ(0x00, ((wArg02 + 0x01 >> 0x02) + cx_117) + 0x0171) % 0x07;
		if (wArg04 == 0x04)
		{
			if (wArg06 >u cx_97)
			{
l0800_C626:
				ax_35 = 0x01;
				return ax_35;
			}
			if (wArg06 == cx_97 && bArg08 >=u 0x02)
				goto l0800_C626;
		}
		else if (wArg06 <u cx_97 || wArg06 == cx_97 && bArg08 <=u 0x01)
			goto l0800_C626;
	}
l0800_C62B:
	ax_35 = 0x00;
	return ax_35;
}

word16 fn0800_C632(selector ds, word16 wArg02, word16 wArg04, word16 wArg06, word16 wArg08, ptr16 & dlOut, ptr16 & dsOut)
{
	*dsOut = ds;
	*dlOut = dl;
	word16 ax_122;
	if (wArg02 >=u Mem0[ds:9448:word16])
		ax_122 = fn0800_8D2B(ds, 0x06);
	else
	{
		byte al_103 = (byte) (wArg08 + 0x01);
		if (wArg08 <u ~0x00)
			ax_122 = 0x00;
		else
		{
			if ((SEQ(ds, 0x24EA)[wArg02 * 0x02] & 0x0800) != 0x00)
			{
				word16 dx_369;
				al_103 = (byte) fn0800_8E29(0x00, ds, wArg02, 0x00, 0x00, 0x02, out dx_369);
			}
			if ((SEQ(ds, 0x24EA)[wArg02 * 0x02] & 0x4000) == 0x00)
			{
				byte dl_121;
				ax_122 = fn0800_C779(al_103, ds, wArg02, DPB(ptrLoc9A, wArg04, 0), wArg08, out dl_121);
			}
			else
			{
				SEQ(ds, 0x24EA)[wArg02 * 0x02] = SEQ(ds, 0x24EA)[wArg02 * 0x02] & ~0x0200;
				word16 wLoc08_137 = wArg08;
l0800_C727:
				word16 wLoc06_163 = fp - 0x90;
				if (wLoc08_137 == 0x00)
				{
					word16 si_311 = wLoc06_163 - (fp - 0x90);
					*dlOut = (byte) (0x00 - (si_311 <u 0x00));
					if (true)
					{
						byte dl_344;
						word16 ax_345 = fn0800_C779((byte) (fp - 0x90), ds, wArg02, DPB(ptrLoc9A, fp - 0x90, 0), si_311, out dl_344);
						*dlOut = (byte) ax_345;
						if (ax_345 != si_311)
						{
							if (ax_345 != ~0x00)
								goto l0800_C76A;
							goto l0800_C71A;
						}
					}
					ax_122 = wArg08;
					return ax_122;
				}
				wLoc08_137 = wLoc08_137 - 0x01;
				byte al_239 = Mem129[SLICE(ptrLoc0E, selector, 16):(word16) ptrLoc0E + 0x00:byte];
				if (al_239 == 0x0A)
				{
					Mem304[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] = 0x0D;
					wLoc06_163 = wLoc06_163 + 0x01;
				}
				Mem249[SLICE(ptrLoc06, selector, 16):(word16) ptrLoc06 + 0x00:byte] = al_239;
				word16 v23_250 = wLoc06_163 + 0x01;
				word16 dx_255 = v23_250 - (fp - 0x90);
				wLoc06_163 = v23_250;
				word16 bx_259 = 0x00 - (dx_255 <u 0x00);
				if (bx_259 < 0x00 || bx_259 == 0x00 && dx_255 <u 0x80)
					goto l0800_C731;
				word16 si_271 = v23_250 - (fp - 0x90);
				ptrLoc9A = DPB(ptrLoc9A, fp - 0x90, 0);
				byte dl_286;
				word16 ax_287 = fn0800_C779((byte) (fp - 0x90), ds, wArg02, ptrLoc9A, si_271, out dl_286);
				*dlOut = (byte) ax_287;
				if (ax_287 == si_271)
					goto l0800_C727;
				if (ax_287 != ~0x00)
					;
l0800_C71A:
				ax_122 = ~0x00;
			}
		}
	}
	return ax_122;
}

word16 fn0800_C779(byte al, selector ds, word16 wArg02, segptr32 ptrArg04, word16 wArg08, ptr16 & dlOut)
{
	*dlOut = dl;
	word16 wLoc04_37;
	word16 ax_24;
	if ((SEQ(ds, 0x24EA)[wArg02 * 0x02] & 0x01) != 0x00)
		wLoc04_37 = 0x05;
	else
	{
		dl_60 = (byte) ptrArg04;
		*dlOut = dl_60;
		word16 ax_61;
		if (!msdos_write_file(wArg02, wArg08, ptrArg04, out ax_61))
		{
			SEQ(ds, 0x24EA)[wArg02 * 0x02] = SEQ(ds, 0x24EA)[wArg02 * 0x02] | 0x1000;
			ax_24 = ax_61;
			return ax_24;
		}
		wLoc04_37 = ax_61;
	}
	ax_24 = fn0800_8D2B(ds, wLoc04_37);
	return ax_24;
}

