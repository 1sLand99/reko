// BENCHFN.c
// Generated by decompiling BENCHFN.EXE
// using Reko decompiler version 0.8.0.2.

#include "BENCHFN.h"

// 0800:0121: void __exit(Register word16 cx, Register word16 bx, Register Eq_5 bp, Register (memptr (ptr16 Eq_500) byte) si)
void __exit(word16 cx, word16 bx, Eq_5 bp, byte Eq_500::* si)
{
	struct Eq_7 * ds_5 = 0x0800->ptr01F8;
	word16 dx_7;
	struct Eq_12 Eq_45::* sp_9;
	(0x0800->*ds_5->ptr05DC)();
	cu8 al_25 = 0x00;
	byte ah_31 = 0x00;
	byte Eq_7::* si_22 = Eq_7::a0000;
	word16 cx_23;
	for (cx_23 = 0x2F; cx_23 != 0x00; --cx_23)
	{
		al_25 += ds_5->*si_22;
		ah_31 = (bool) (al_25 < 0x00) + ah_31;
		word16 ax_41 = DPB((word16) al_25, ah_31, 8);
		++si_22;
	}
	if (ax_41 != 3383)
		fn0800_01DA(0x19, 0x2F, ds_5);
	msdos_terminate((ss->*sp_9).b0002);
}

// 0800:0162: void fn0800_0162(Register (ptr16 Eq_58) ds)
void fn0800_0162(struct Eq_58 * ds)
{
	word32 es_bx_10 = msdos_get_interrupt_vector(0x00);
	ds->w0074 = (word16) es_bx_10;
	ds->ptr0076 = SLICE(es_bx_10, selector, 16);
	word32 es_bx_17 = msdos_get_interrupt_vector(0x04);
	ds->w0078 = (word16) es_bx_17;
	ds->ptr007A = SLICE(es_bx_17, selector, 16);
	word32 es_bx_24 = msdos_get_interrupt_vector(0x05);
	ds->w007C = (word16) es_bx_24;
	ds->ptr007E = SLICE(es_bx_24, selector, 16);
	word32 es_bx_31 = msdos_get_interrupt_vector(0x06);
	ds->w0080 = (word16) es_bx_31;
	ds->ptr0082 = SLICE(es_bx_31, selector, 16);
	msdos_set_interrupt_vector(0x00, (char *) cs + 344);
}

// 0800:01A5: Register word16 __restorezero(Register (ptr16 Eq_117) ds, Register out ptr16 dxOut)
word16 __restorezero(struct Eq_117 * ds, ptr16 & dxOut)
{
	msdos_set_interrupt_vector(0x00, ds->ptr0074);
	msdos_set_interrupt_vector(0x04, ds->ptr0078);
	msdos_set_interrupt_vector(0x05, ds->ptr007C);
	<anonymous> * ds_dx_36 = ds->ptr0080;
	msdos_set_interrupt_vector(0x06, ds_dx_36);
	dxOut = (word16) ds_dx_36;
	return 0x2506;
}

// 0800:01DA: Register word16 fn0800_01DA(Register word16 cx, Register word16 dx, Register (ptr16 Eq_7) ds)
word16 fn0800_01DA(word16 cx, word16 dx, struct Eq_7 * ds)
{
	char * ds_dx_9 = dx;
	word16 ax_10;
	msdos_write_file(0x02, cx, ds_dx_9, out ax_10);
	return 0x02;
}

// 0800:01E2: void _abort(Register Eq_5 bp, Register (memptr (ptr16 Eq_500) byte) si)
void _abort(Eq_5 bp, byte Eq_500::* si)
{
	__exit(0x1E, fn0800_01DA(0x1E, 0x56, 0x0800->ptr01F8), bp, si);
}

// 0800:01E9: void fn0800_01E9(Register word16 cx, Register word16 dx, Register Eq_5 bp, Register (memptr (ptr16 Eq_500) byte) si)
void fn0800_01E9(word16 cx, word16 dx, Eq_5 bp, byte Eq_500::* si)
{
	__exit(cx, fn0800_01DA(cx, dx, 0x0800->ptr01F8), bp, si);
}

// 0800:01FA: void _f3()
void _f3()
{
}

// 0800:01FF: void _f2()
void _f2()
{
	_f3();
	_f3();
	_f3();
	_f3();
	_f3();
	_f3();
	_f3();
	_f3();
	_f3();
	_f3();
}

// 0800:0222: void fn0800_0222()
void fn0800_0222()
{
	_f2();
	_f2();
	_f2();
	_f2();
	_f2();
	_f2();
	_f2();
	_f2();
	_f2();
	_f2();
}

// 0800:0245: void _f0()
void _f0()
{
	fn0800_0222();
	fn0800_0222();
	fn0800_0222();
	fn0800_0222();
	fn0800_0222();
	fn0800_0222();
	fn0800_0222();
	fn0800_0222();
	fn0800_0222();
}

// 0800:0265: void _main(Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register Eq_255 es, Register Eq_255 ds)
void _main(Eq_255 cx, Eq_255 dx, Eq_255 bx, Eq_255 es, Eq_255 ds)
{
	Eq_255 di_20;
	union Eq_255 Eq_299::* bp_36;
	Eq_255 bx_37;
	Eq_255 es_41;
	Eq_255 dx_40 = _scanf(404, dx, bx, _printf(cx, dx, bx, es, ds, 404, out di_20), di_20, es, ds, 0x01B0, out bx_37, out bp_36, out es_41);
	Eq_296 sp_43 = <invalid>;
	Eq_255 cx_52 = ss->*((word32) sp_43 + 0x02);
	ss->*((word32) sp_43 + 0x02) = ss->*(bp_36 - 0x02);
	ss->*sp_43 = ss->*(bp_36 - 0x04);
	(ss->*(sp_43 - 0x02)).t0000.u0 = 0x01B4;
	_printf(cx_52, dx_40, bx_37, es_41, ds, (ss->*(sp_43 - 0x02)).t0000, out di_135);
	(ss->*(bp_36 - 0x06)).u0 = 0x00;
	(ss->*(bp_36 - 0x08)).u0 = 0x01;
	while (true)
	{
		Eq_255 dx_78 = ss->*(bp_36 - 0x06);
		Eq_255 ax_79 = ss->*(bp_36 - 0x08);
		if (dx_78 >= ss->*(bp_36 - 0x02) && (dx_78 > ss->*(bp_36 - 0x02) || ax_79 > ss->*(bp_36 - 0x04)))
			break;
		_f0();
		Eq_255 v14_88 = (word16) (ss->*(bp_36 - 0x08)) + 0x01;
		ss->*(bp_36 - 0x08) = v14_88;
		Mem93[ss:bp_36 - 0x06 + 0x00:word16] = Mem89[ss:bp_36 - 0x06 + 0x00:word16] + (v14_88 <u 0x00);
	}
	(ss->*((word32) sp_43 + 0x02)).u0 = 0x01CE;
	_printf(cx_52, dx_78, bx_37, es_41, ds, ss->*((word32) sp_43 + 0x02), out di_136);
}

// 0800:02C5: Register word16 __IOERROR(Register (ptr16 Eq_414) ds, Stack Eq_415 wArg02)
word16 __IOERROR(struct Eq_414 * ds, Eq_415 wArg02)
{
	Eq_416 si_17;
	Eq_415 si_13 = wArg02;
	if (wArg02 >= 0x00)
	{
		if (wArg02 <= 88)
			goto l0800_02D8;
	}
	else
	{
		si_17 = -wArg02;
		if (si_17 <= 0x23)
		{
			ds->t01D8.u0 = ~0x00;
l0800_02F1:
			ds->t0094 = si_17;
			return ~0x00;
		}
	}
	si_13.u0 = 0x57;
l0800_02D8:
	ds->t01D8 = si_13;
	si_17.u1 = (int16) (ds->*((word32) si_13 + 474));
	goto l0800_02F1;
}

// 0800:0301: void _exit(Register word16 cx, Register word16 bx, Register word16 bp, Register (memptr (ptr16 Eq_500) byte) si, Register (ptr16 Eq_442) ds, Stack word16 wArg02)
void _exit(word16 cx, word16 bx, word16 bp, byte Eq_500::* si, struct Eq_442 * ds, word16 wArg02)
{
	int8 Top_29 = 0x00;
	mp16 sp_21 = fp - 0x02;
	while (true)
	{
		ui16 ax_11 = ds->w023E;
		--ds->w023E;
		if (ax_11 == 0x00)
			break;
		ui16 bx_18 = ds->w023E;
		(0x0800->*(ds->a05E8)[bx_18])();
	}
	word16 sp_32;
	word16 ax_33;
	word16 cx_34;
	word16 bx_37;
	int8 Top_38;
	(0x0800->*ds->ptr0234)();
	word16 sp_40;
	word16 ax_41;
	word16 cx_42;
	word16 bx_43;
	int8 Top_44;
	(0x0800->*ds->ptr0236)();
	word16 Eq_491::* sp_46;
	word16 cx_48;
	word16 bx_49;
	(0x0800->*ds->ptr0238)();
	ss->*(sp_46 - 0x02) = wArg02;
	__exit(cx_48, bx_49, fp - 0x02, si);
}

// 0800:0336: void __setargv(Register (ptr16 Eq_500) ds, Stack Eq_501 wArg00)
void __setargv(struct Eq_500 * ds, Eq_501 wArg00)
{
	Eq_5 es_32;
	0x0800->t0330 = wArg00;
	0x0800->ptr0332 = ds;
	Eq_5 es_11 = ds->t0090;
	cui16 ax_18 = DPB(DPB(ax, 0x00, 8), ds->b0080, 0);
	word16 si_27 = ds->w008A;
	cui16 cx_29 = 0x01;
	es_32 = es_11;
	if (ds->b0092 >= 0x03)
	{
		es_32 = ds->t008C;
		byte Eq_5::* di_33 = si_27 + 0x02;
		word16 cx_106 = 0x7F;
		while (cx_106 != 0x00)
		{
			di_33 = di_156 + 0x01;
			--cx_106;
			di_156 = di_33;
			if (es_32->*di_156 != 0x00)
				break;
		}
		byte cl_54 = (byte) cx_106;
		if (cx_106 == 0x00)
		{
			fn0800_03E7(es_11, si_27 + 0x02);
			return;
		}
		cx_29 = DPB(cx_106, cl_54 ^ 0x7F, 0);
	}
	Eq_526 di_72 = fp - ((ax_18 + 0x02) + cx_29 & ~0x01);
	if (di_72 < 0x00)
		fn0800_03E7(es_11, si_27 + 0x02);
	else
	{
		ss->*(di_72 - 0x02) = cx_29;
		cui16 cx_87 = cx_29 - 0x01;
		fn0800_0393(cx_87, 0x81, ax_18 + 0x01, es_11, si_27 + 0x02, di_72, ss, es_32);
	}
}

// 0800:038D: void fn0800_038D(Register word16 cx, Register Eq_583 dx, Register Eq_584 bx, Register Eq_5 bp, Register (memptr Eq_5 byte) si, Register Eq_526 di, Register Eq_5 ds)
void fn0800_038D(word16 cx, Eq_583 dx, Eq_584 bx, Eq_5 bp, byte Eq_5::* si, Eq_526 di, Eq_5 ds)
{
	fn0800_0393(cx - 0x01, dx, bx, bp, si, di, ss, ds);
}

// 0800:0393: void fn0800_0393(Register cui16 cx, Register Eq_583 dx, Register Eq_584 bx, Register Eq_5 bp, Register (memptr Eq_5 byte) si, Register Eq_526 di, Register (ptr16 Eq_562) es, Register Eq_5 ds)
void fn0800_0393(cui16 cx, Eq_583 dx, Eq_584 bx, Eq_5 bp, byte Eq_5::* si, Eq_526 di, struct Eq_562 * es, Eq_5 ds)
{
	for (; cx != 0x00; --cx)
	{
		es->*di = ds->*si;
		++si;
		di = (word32) di + 0x01;
	}
	es->*di = 0x00;
	byte Eq_562::* di_10 = (word32) di + 0x01;
	Eq_583 si_119 = dx;
	Eq_584 cx_117 = bx;
	cui16 ax_156 = cx;
	word16 bx_22 = cx + 0x01;
	while (true)
	{
		cui16 ax_116;
		fn0800_03BF(ax_156, cx_117, si_119, di_10, es, bp, out ax_116, out cx_117, out si_119);
		Eq_296 Z_35 = &Eq_299::tBADDCAFE;
		Eq_296 C_124 = &Eq_299::tBADDCAFE;
		byte al_128 = (byte) ax_116;
		if (!(Z_35 | C_124))
		{
			do
			{
				if (C_124)
				{
					word16 cx_45 = ss->*v4 + cx;
					struct Eq_500 * ds_46 = 0x0800->ptr0332;
					ds_46->w0084 = bx_22;
					ui16 bx_50 = (bx_22 + 0x01) * 0x02;
					byte Eq_500::* si_51 = v4 + 0x01;
					Eq_5 bp_53 = v4 + 0x01 - bx_50;
					if (bp_53 < 0x00)
					{
						fn0800_03E7(bp_53, v4 + 0x01);
						return;
					}
					else
					{
						ds_46->t0086 = bp_53;
						bp_61 = bp_53;
						do
						{
							Eq_5 bp_61;
							if (cx_45 == 0x00)
								break;
							ss->*bp_61 = si_51;
							bp_61 = (word32) bp_61 + 0x02;
							do
							{
								byte al_68 = ds_46->*si_51;
								++si_51;
								--cx_45;
							} while (al_68 != 0x00 && cx_45 != 0x00);
						} while (al_68 == 0x00);
						ss->*bp_61 = 0x00;
						0x0800->t0330();
						return;
					}
				}
				fn0800_03BF(ax_116, cx_117, si_119, di_10, es, bp, out ax_116, out cx_117, out si_119);
				Eq_296 Z_125 = &Eq_299::tBADDCAFE;
				&C_124.u0->t0000 = &Eq_299::tBADDCAFE;
				al_128 = (byte) ax_116;
			} while (Z_125 | C_124);
		}
		ax_156 = DPB(ax_116, al_128, 0);
		ax_156 = DPB(ax_116, al_128, 0);
		ax_156 = DPB(ax_116, al_128, 0);
		if (al_128 == 0x20 || (al_128 == 0x0D || al_128 == 0x09))
			ax_156 = DPB(ax_156, 0x00, 0);
	}
}

// 0800:03BF: FlagGroup Eq_296 fn0800_03BF(Register cui16 ax, Register Eq_584 cx, Register Eq_583 si, Register (memptr (ptr16 Eq_562) byte) di, Register (ptr16 Eq_562) es, Register Eq_5 ds, Register out ptr16 axOut, Register out Eq_584 cxOut, Register out Eq_583 siOut)
Eq_296 fn0800_03BF(cui16 ax, Eq_584 cx, Eq_583 si, byte Eq_562::* di, struct Eq_562 * es, Eq_5 ds, ptr16 & axOut, union Eq_584 & cxOut, union Eq_583 & siOut)
{
	word16 ax_65;
	word16 ax_63;
	word16 ax_61;
	byte ah_26 = SLICE(ax, byte, 8);
	cui16 ax_5 = ax;
	byte al_11 = (byte) ax;
	ax_5 = DPB(ax_61, ah_26, 8);
	ax_5 = DPB(ax_63, ah_26, 8);
	word16 ax_66 = DPB(ax_65, ah_26, 8);
	if (ax != 0x00)
	{
		es->*di = al_11;
		ax_61 = DPB(ax, al_11, 0);
		ax_63 = DPB(ax_5, al_11, 0);
	}
	word16 ax_68 = DPB(DPB(ax_66, ah_26, 0), al_11, 8);
	ax_65 = DPB(ax_5, al_11, 0);
	ptr16 ax_59 = DPB(ax_68, 0x00, 0);
	if (cx != 0x00)
	{
		byte al_40 = ds->*si;
		si = (word32) si + 0x01;
		--cx;
		ax_59 = DPB(ax_68, al_40 - 0x22, 0);
		if (al_40 != 0x22)
		{
			ax_59 = DPB(ax_68, al_40, 0);
			if (al_40 == 0x5C && ds->*((word32) si + 0x01) == 0x22)
			{
				ax_59 = DPB(ax_68, ds->*((word32) si + 0x01), 0);
				si = (word32) si + 0x02;
				cx -= 0x02;
			}
		}
	}
	axOut = ax_59;
	cxOut = cx;
	siOut = si;
	return &Eq_299::tBADDCAFE;
}

// 0800:03E7: void fn0800_03E7(Register Eq_5 bp, Register (memptr (ptr16 Eq_500) byte) si)
void fn0800_03E7(Eq_5 bp, byte Eq_500::* si)
{
	_abort(bp, si);
}

// 0800:0421: void __setenvp(Register Eq_5 bp, Register (memptr (ptr16 Eq_500) byte) si, Register (ptr16 Eq_414) ds)
void __setenvp(Eq_5 bp, byte Eq_500::* si, struct Eq_414 * ds)
{
	cu16 cx_6 = ds->w008A;
	Eq_799 ax_10 = _malloc(ds, cx_6);
	cu16 cx_116 = cx_6;
	Eq_799 di_112 = ax_10;
	if (ax_10 != 0x00)
	{
		struct Eq_500 * ds_31 = ds->ptr008C;
		si = &Eq_500::b0000;
		for (; cx_116 != 0x00; --cx_116)
		{
			ds->*di_112 = ds_31->*si;
			++si;
			di_112 = (word32) di_112 + 0x01;
		}
		Eq_799 ax_50 = _malloc(ds, ds->w008E);
		ds->t0088 = ax_50;
		Eq_799 di_182 = ax_10;
		Eq_799 bx_59 = ax_50;
		if (ax_50 != 0x00)
		{
			word16 ax_67 = 0x00;
			word16 cx_117 = ~0x00;
			do
			{
				ds->*bx_59 = di_182;
				byte al_119 = (byte) ax_67;
				bx_59 = (word32) bx_59 + 0x02;
				do
				{
					ax_67 = DPB(ax_67, al_119, 0);
					ax_67 = DPB(ax_67, al_119, 0);
					word16 ax_97 = DPB(ax_67, al_119, 0);
					ax_183 = ax_67;
					if (cx_117 == 0x00)
						break;
					di_182 = (word32) di_182 + 0x01;
					--cx_117;
					ax_184 = ax_67;
				} while (al_119 == ds->*di_182);
			} while (ds->*di_182 != al_119);
			ds->*bx_59 = ax_97;
			return;
		}
	}
	_abort(bp, si);
}

// 0800:0491: void ___pull_free_block(Register (ptr16 Eq_414) ds, Stack Eq_875 wArg02)
void ___pull_free_block(struct Eq_414 * ds, Eq_875 wArg02)
{
	Eq_875 ax_17 = ds->*((word32) wArg02 + 0x06);
	ds->t062A = ax_17;
	if (ax_17 == wArg02)
		ds->t062A.u0 = 0x00;
	else
	{
		struct Eq_883 Eq_414::* si_21 = ds->*((word32) wArg02 + 0x04);
		ds->*((word32) ds->t062A + 0x04) = si_21;
		(ds->*si_21).t0006 = ds->t062A;
	}
}

// 0800:04BF: Register (memptr (ptr16 Eq_414) Eq_900) fn0800_04BF(Register (ptr16 Eq_414) ds, Stack Eq_875 wArg02, Stack Eq_903 wArg04)
struct Eq_900 Eq_414::* fn0800_04BF(struct Eq_414 * ds, Eq_875 wArg02, Eq_903 wArg04)
{
	ds->*wArg02 -= wArg04;
	word16 si_21 = Mem19[ds:wArg02 + 0x00:word16] + wArg02;
	ds->*si_21 = (word16) wArg04.u0 + 0x01;
	ds->*((word16) si_21 + 0x02) = wArg02;
	if (ds->t0628 == wArg02)
		ds->t0628 = si_21;
	else
		Mem32[ds:si_21 + wArg04 + 0x02:word16] = si_21;
	return (word16) si_21 + 0x04;
}

// 0800:04F9: Register word16 fn0800_04F9(Register (ptr16 Eq_414) ds, Stack Eq_903 wArg02)
word16 fn0800_04F9(struct Eq_414 * ds, Eq_903 wArg02)
{
	word16 ax_43;
	Eq_875 ax_23 = ___sbrk(ds, wArg02 & ~0x00, 0x00);
	if (ax_23 == ~0x00)
		ax_43 = 0x00;
	else
	{
		ds->*((word32) ax_23 + 0x02) = ds->t0628;
		ds->*ax_23 = (word32) wArg02 + 0x01;
		ds->t0628 = ax_23;
		ax_43 = (word16) ((word32) ds->t0628 + 0x04);
	}
	return ax_43;
}

// 0800:0536: Register (memptr (ptr16 Eq_414) Eq_903) fn0800_0536(Register (ptr16 Eq_414) ds, Stack Eq_903 wArg02)
union Eq_903 Eq_414::* fn0800_0536(struct Eq_414 * ds, Eq_903 wArg02)
{
	union Eq_903 Eq_414::* ax_42;
	Eq_875 ax_23 = ___sbrk(ds, wArg02 & ~0x00, 0x00);
	if (ax_23 == ~0x00)
		ax_42 = &Eq_414::t0000;
	else
	{
		ds->t062C = ax_23;
		ds->t0628 = ax_23;
		ds->*ax_23 = (word32) wArg02 + 0x01;
		ax_42 = (union Eq_903 Eq_414::*) ((word32) ax_23 + 0x04);
	}
	return ax_42;
}

// 0800:0570: Register (memptr (ptr16 Eq_414) Eq_992) _malloc(Register (ptr16 Eq_414) ds, Stack cu16 wArg02)
struct Eq_992 Eq_414::* _malloc(struct Eq_414 * ds, cu16 wArg02)
{
	struct Eq_992 Eq_414::* ax_106;
	if (wArg02 != 0x00 && wArg02 <= ~0x0B)
	{
		Eq_903 ax_24 = wArg02 + 11 & ~0x07;
		if (ds->t062C == 0x00)
			ax_106 = fn0800_0536(ds, ax_24);
		else
		{
			Eq_875 si_29 = ds->t062A;
			if (si_29 != 0x00)
			{
				do
				{
					if (ds->*si_29 >= (word16) ax_24.u1 + 0x0028)
					{
						ax_106 = fn0800_04BF(ds, si_29, ax_24);
						return ax_106;
					}
					if (ds->*si_29 >= ax_24)
					{
						___pull_free_block(ds, si_29);
						ds->*si_29 = (word32) (ds->*si_29) + 0x01;
						ax_106 = (struct Eq_992 Eq_414::*) ((word32) si_29 + 0x04);
						return ax_106;
					}
					si_29 = ds->*((word32) si_29 + 0x06);
				} while (si_29 != ds->t062A);
			}
			ax_106 = fn0800_04F9(ds, ax_24);
		}
	}
	else
		ax_106 = &Eq_414::t0000;
	return ax_106;
}

// 0800:05E3: void ___brk(Register (ptr16 Eq_414) ds, Stack Eq_875 wArg02)
void ___brk(struct Eq_414 * ds, Eq_875 wArg02)
{
	if (wArg02 < fp - 0x0102)
		ds->t009E = wArg02;
	else
		ds->t0094.u0 = 0x08;
}

// 0800:0607: Register Eq_875 ___sbrk(Register (ptr16 Eq_414) ds, Stack cui16 wArg02, Stack word16 wArg04)
Eq_875 ___sbrk(struct Eq_414 * ds, cui16 wArg02, word16 wArg04)
{
	Eq_875 ax_29;
	Eq_875 ax_12 = (word32) ds->t009E + wArg02;
	if ((bool) (ax_12 < 0x0100) + ((bool) (ax_12 < 0x00) + wArg04) == 0x00 && (word16) ax_12.u0 + 0x0100 < fp - 0x02)
	{
		Eq_875 v13_30 = ds->t009E;
		ds->t009E = ax_12;
		ax_29 = v13_30;
	}
	else
	{
		ds->t0094.u0 = 0x08;
		ax_29.u0 = ~0x00;
	}
	return ax_29;
}

// 0800:063B: void _brk(Register (ptr16 Eq_414) ds, Stack Eq_875 wArg02)
void _brk(struct Eq_414 * ds, Eq_875 wArg02)
{
	___brk(ds, wArg02);
}

// 0800:065B: Register ci16 fn0800_065B(Register (ptr16 Eq_414) ds, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg02)
ci16 fn0800_065B(struct Eq_414 * ds, struct Eq_1097 Eq_414::* wArg02)
{
	ci16 ax_46;
	ci16 si_18 = (ds->*wArg02).w0000;
	ci16 wLoc04_63 = si_18;
	if (((ds->*wArg02).w0002 & 0x40) != 0x00)
		ax_46 = si_18;
	else
	{
		Eq_799 di_26 = (ds->*wArg02).t000A;
		while (true)
		{
			--si_18;
			if (si_18 == 0x00)
				break;
			di_26 = (word16) di_85 + 0x01;
			di_85 = di_26;
			if (ds->*di_85 == 0x0A)
			{
				++wLoc04_63;
				Mem38 = Mem44;
			}
		}
		ax_46 = wLoc04_63;
	}
	return ax_46;
}

// 0800:06A2: void _fseek(Register (ptr16 Eq_414) ds, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg02, Stack Eq_1133 dwArg04, Stack ui16 wArg06, Stack Eq_1135 wArg08)
void _fseek(struct Eq_414 * ds, struct Eq_1097 Eq_414::* wArg02, Eq_1133 dwArg04, ui16 wArg06, Eq_1135 wArg08)
{
	if (_fflush(ds, wArg02) == 0x00)
	{
		if (wArg08 == 0x01 && (ds->*wArg02).w0000 > 0x00)
		{
			dwArg04_120 = SEQ(wArg06, v14_45);
			Eq_1189 v16_v14_111 = dwArg04_120 - (int32) fn0800_065B(ds, wArg02);
			uint16 v14_45 = (word16) v16_v14_111;
			wArg06 = SLICE(v16_v14_111, word16, 16);
		}
		(ds->*wArg02).w0002 &= ~0x01A0;
		(ds->*wArg02).w0000 = 0x00;
		(ds->*wArg02).t000A = (ds->*wArg02).t0008;
		word16 dx_82;
		word16 ax_79 = _lseek(ds, (int16) (ds->*wArg02).b0004, dwArg04_120, wArg06, wArg08, out dx_82);
		if (dx_82 != ~0x00 || ax_79 != ~0x00)
			;
	}
}

// 0800:075B: void fn0800_075B(Register (ptr16 Eq_414) ds)
void fn0800_075B(struct Eq_414 * ds)
{
	word16 di_11 = 0x14;
	struct Eq_1097 Eq_414::* si_12 = &Eq_414::t0342;
	while (true)
	{
		--di_11;
		if (di_11 == 0x00)
			break;
		if (((ds->*si_12).w0002 & 0x0300) == 0x0300)
		{
			_fflush(ds, si_12);
			Mem51 = Mem30;
		}
		++si_12;
	}
}

// 0800:0782: Register word16 fn0800_0782(Register (ptr16 Eq_414) ds, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg02)
word16 fn0800_0782(struct Eq_414 * ds, struct Eq_1097 Eq_414::* wArg02)
{
	if (((ds->*wArg02).w0002 & 0x0200) != 0x00)
		fn0800_075B(ds);
	word16 ax_69;
	cu16 v10_28 = (ds->*wArg02).w0006;
	Eq_799 ax_33 = (ds->*wArg02).t0008;
	(ds->*wArg02).t000A = ax_33;
	ci16 ax_41 = _read(ds, (int16) (ds->*wArg02).b0004, ax_33, v10_28);
	(ds->*wArg02).w0000 = ax_41;
	if (ax_41 > 0x00)
	{
		(ds->*wArg02).w0002 &= ~0x20;
		ax_69 = 0x00;
	}
	else
	{
		if ((ds->*wArg02).w0000 == 0x00)
			(ds->*wArg02).w0002 = (ds->*wArg02).w0002 & 65151 | 0x20;
		else
		{
			(ds->*wArg02).w0000 = 0x00;
			(ds->*wArg02).w0002 |= 0x10;
		}
		ax_69 = ~0x00;
	}
	return ax_69;
}

// 0800:07F2: void _fgetc(Register (ptr16 Eq_414) ds, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg02)
void _fgetc(struct Eq_414 * ds, struct Eq_1097 Eq_414::* wArg02)
{
	do
	{
		ci16 v8_18 = (ds->*wArg02).w0000 - 0x01;
		(ds->*wArg02).w0000 = v8_18;
		if (v8_18 >= 0x00)
		{
			(ds->*wArg02).t000A = (word32) (ds->*wArg02).t000A + 0x01;
			return;
		}
		ci16 v15_22 = (ds->*wArg02).w0000 + 0x01;
		(ds->*wArg02).w0000 = v15_22;
		if (v15_22 < 0x00 || ((ds->*wArg02).w0002 & 0x0110) != 0x00)
		{
			(ds->*wArg02).w0002 |= 0x10;
			return;
		}
		while (true)
		{
			(ds->*wArg02).w0002 |= 0x80;
			if ((ds->*wArg02).w0006 != 0x00)
				break;
			if (ds->w04AA != 0x00 || wArg02 != &Eq_414::t0342)
			{
				do
				{
					if (((ds->*wArg02).w0002 & 0x0200) != 0x00)
						fn0800_075B(ds);
					if (__read(ds, (int16) (ds->*wArg02).b0004, fp - 0x03, 0x01) != 0x01)
					{
						if (_eof(ds, (int16) (ds->*wArg02).b0004) != 0x01)
							(ds->*wArg02).w0002 |= 0x10;
						else
							(ds->*wArg02).w0002 = (ds->*wArg02).w0002 & 65151 | 0x20;
						return;
					}
					if (bLoc03 != 0x0D)
						break;
					Mem44 = Mem73;
				} while (((ds->*wArg02).w0002 & 0x40) == 0x00);
				(ds->*wArg02).w0002 &= ~0x20;
				return;
			}
			if (_isatty((int16) (ds->*wArg02).b0004) == 0x00)
				(ds->*wArg02).w0002 &= ~0x0200;
			ci16 ax_158;
			if (((ds->*wArg02).w0002 & 0x0200) != 0x00)
				ax_158 = 0x01;
			else
				ax_158 = 0x00;
			_setvbuf(ds, wArg02, 0x00, ax_158, 0x0200);
			Mem31 = Mem174;
		}
	} while (fn0800_0782(ds, wArg02) == 0x00);
}

// 0800:08F2: Register cui16 _isatty(Stack int16 wArg02)
cui16 _isatty(int16 wArg02)
{
	cui16 dx_10;
	msdos_ioctl_get_device_info(wArg02, out dx_10);
	return dx_10 & 0x80;
}

// 0800:0904: void _setvbuf(Register (ptr16 Eq_414) ds, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg02, Stack Eq_799 wArg04, Stack ci16 wArg06, Stack cu16 wArg08)
void _setvbuf(struct Eq_414 * ds, struct Eq_1097 Eq_414::* wArg02, Eq_799 wArg04, ci16 wArg06, cu16 wArg08)
{
	if ((ds->*wArg02).ptr000E != wArg02 || (wArg06 > 0x02 || wArg08 > 0x7FFF))
		return;
	if (ds->w04AC == 0x00 && wArg02 == &Eq_414::t0352)
		ds->w04AC = 0x01;
	else if (ds->w04AA == 0x00 && wArg02 == &Eq_414::t0342)
		ds->w04AA = 0x01;
	if ((ds->*wArg02).w0000 != 0x00)
		_fseek(ds, wArg02, 0x00, 0x00, 0x01);
	if (((ds->*wArg02).w0002 & 0x04) != 0x00)
		_free(ds, (ds->*wArg02).t0008);
	(ds->*wArg02).w0002 &= ~0x0C;
	(ds->*wArg02).w0006 = 0x00;
	(ds->*wArg02).t0008 = &(ds->*wArg02).b0004 + 0x01;
	(ds->*wArg02).t000A = &(ds->*wArg02).b0004 + 0x01;
	if (wArg06 == 0x02 || wArg08 <= 0x00)
		return;
	ds->w0234 = 0x09D6;
	if (wArg04 == 0x00)
	{
		Eq_799 ax_125 = _malloc(ds, wArg08);
		wArg04 = ax_125;
		if (ax_125 == 0x00)
			return;
		(ds->*wArg02).w0002 |= 0x04;
	}
	(ds->*wArg02).t000A = wArg04;
	(ds->*wArg02).t0008 = wArg04;
	(ds->*wArg02).w0006 = wArg08;
	if (wArg06 == 0x01)
		(ds->*wArg02).w0002 |= 0x08;
}

// 0800:09F7: Register Eq_1418 _read(Register (ptr16 Eq_414) ds, Stack int16 wArg02, Stack Eq_799 wArg04, Stack cu16 wArg06)
Eq_1418 _read(struct Eq_414 * ds, int16 wArg02, Eq_799 wArg04, cu16 wArg06)
{
	Eq_1418 ax_153;
	if (wArg06 >= 0x01 && ((&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] & 0x0200) == 0x00)
	{
		do
		{
			Eq_1418 ax_40 = __read(ds, wArg02, wArg04, wArg06);
			if (ax_40 < 0x01 || ((&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] & 0x8000) != 0x00)
			{
				ax_153 = ax_40;
				return ax_153;
			}
			Eq_1418 cx_112;
			Eq_799 si_57 = wArg04;
			Eq_799 di_140 = wArg04;
			do
			{
				byte al_68 = ds->*si_57;
				si_57 = (word32) si_57 + 0x01;
				if (al_68 == 0x1A)
				{
					Eq_1169 cx_81 = -cx_112;
					_lseek(ds, wArg02, cx_81, 0x00 - (cx_81 == 0x00), 0x02, out dx_96);
					(&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] |= 0x0200;
					goto l0800_0AA7;
				}
				if (al_68 != 0x0D)
				{
					ds->*di_140 = al_68;
					di_140 = (word32) di_140 + 0x01;
					--cx_112;
					if (cx_112 == 0x00)
						goto l0800_0A7F;
					continue;
				}
				--cx_112;
			} while (cx_112 != 0x00);
			__read(ds, wArg02, fp - 0x03, 0x01);
			ds->*di_140 = bLoc03;
			di_140 = (word32) di_140 + 0x01;
l0800_0A7F:
		} while (di_140 == wArg04);
l0800_0AA7:
		ax_153 = di_140 - wArg04;
	}
	else
		ax_153.u0 = 0x00;
	return ax_153;
}

// 0800:0AB3: Register Eq_415 __read(Register (ptr16 Eq_414) ds, Stack int16 wArg02, Stack Eq_799 wArg04, Stack cu16 wArg06)
Eq_415 __read(struct Eq_414 * ds, int16 wArg02, Eq_799 wArg04, cu16 wArg06)
{
	Eq_415 ax_15;
	if (msdos_read_file(wArg02, wArg06, wArg04, out ax_15))
		ax_15 = __IOERROR(ds, ax_15);
	return ax_15;
}

// 0800:0ACF: Register Eq_1715 _write(Register (ptr16 Eq_414) ds, Stack int16 wArg02, Stack Eq_799 wArg04, Stack Eq_1715 wArg06)
Eq_1715 _write(struct Eq_414 * ds, int16 wArg02, Eq_799 wArg04, Eq_1715 wArg06)
{
	Eq_1715 ax_141;
	if (wArg06 >= 0x01)
	{
		if (((&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] & 0x8000) == 0x00)
		{
			(&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] &= ~0x0200;
			Eq_799 wLoc86_191 = wArg04;
			Eq_1715 wLoc8A_192 = wArg06;
			Eq_1747 si_102 = fp - 0x84;
			while (wLoc8A_192 != 0x00)
			{
				Eq_1715 v20_85 = wLoc8A_192 - 0x01;
				wLoc8A_192 = v20_85;
				wLoc86_191 = (word32) wLoc86_191 + 0x01;
				byte al_90 = ds->*wLoc86_191;
				if (al_90 == 0x0A)
				{
					ds->*si_102 = 0x0D;
					si_102 = (word32) si_102 + 0x01;
				}
				ds->*si_102 = al_90;
				si_102 = (word32) si_102 + 0x01;
				if (si_102 - (fp - 0x84) < 0x80)
					continue;
				Eq_1715 di_112 = si_102 - (fp - 0x84);
				Eq_1715 ax_123 = __write(ds, wArg02, fp - 0x84, di_112);
				if (ax_123 != di_112)
				{
					if (ax_123 < 0x00)
						ax_141.u0 = ~0x00;
					else
						ax_141 = (word32) ax_123 + (wArg06 - v20_85) - di_112;
					return ax_141;
				}
				si_102 = fp - 0x84;
			}
			Eq_1715 di_45 = si_102 - (fp - 0x84);
			if (di_45 > 0x00)
			{
				Eq_1715 ax_62 = __write(ds, wArg02, fp - 0x84, di_45);
				if (ax_62 != di_45)
				{
					if (ax_62 < 0x00)
						ax_141.u0 = ~0x00;
					else
						ax_141 = wArg06 + ax_62 - di_45;
					return ax_141;
				}
			}
			ax_141 = wArg06;
			return ax_141;
		}
		else
		{
			ax_141 = __write(ds, wArg02, wArg04, wArg06);
			return ax_141;
		}
	}
	else
	{
		ax_141.u0 = 0x00;
		return ax_141;
	}
}

// 0800:0BE2: Register Eq_415 __write(Register (ptr16 Eq_414) ds, Stack int16 wArg02, Stack Eq_799 wArg04, Stack Eq_1715 wArg06)
Eq_415 __write(struct Eq_414 * ds, int16 wArg02, Eq_799 wArg04, Eq_1715 wArg06)
{
	if (((&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] & 0x0800) != 0x00)
		_lseek(ds, wArg02, 0x00, 0x00, 0x02, out dx_101);
	Eq_415 ax_51;
	Eq_415 ax_46;
	if (!msdos_write_file(wArg02, wArg06, wArg04, out ax_46))
	{
		(&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] |= 0x1000;
		ax_51 = ax_46;
	}
	else
		ax_51 = __IOERROR(ds, ax_46);
	return ax_51;
}

// 0800:0C28: Register Eq_415 _lseek(Register (ptr16 Eq_414) ds, Stack int16 wArg02, Stack Eq_1169 wArg04, Stack ui16 wArg06, Stack Eq_1135 bArg08, Register out Eq_1169 dxOut)
Eq_415 _lseek(struct Eq_414 * ds, int16 wArg02, Eq_1169 wArg04, ui16 wArg06, Eq_1135 bArg08, union Eq_1169 & dxOut)
{
	(&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] &= ~0x0200;
	Eq_415 ax_23 = DPB(DPB(ax, 66, 8), bArg08, 0);
	Eq_1169 dx_19 = wArg04;
	if (msdos_set_file_position(wArg02, SEQ(wArg06, wArg04), bArg08, SEQ(wArg04, ax_23)))
	{
		word32 dx_ax_34 = (word32) __IOERROR(ds, ax_23);
		ax_23 = (word16) dx_ax_34;
		dx_19 = SLICE(dx_ax_34, word16, 16);
	}
	dxOut = dx_19;
	return ax_23;
}

// 0800:0C53: Register word16 __LONGTOA(Register Eq_255 ds, Stack Eq_255 bArg04, Stack Eq_255 wArg06, Stack Eq_255 wArg08, Stack Eq_255 wArg0A, Stack Eq_255 wArg0C)
word16 __LONGTOA(Eq_255 ds, Eq_255 bArg04, Eq_255 wArg06, Eq_255 wArg08, Eq_255 wArg0A, Eq_255 wArg0C)
{
	cu8 bl_28 = (byte) wArg06;
	struct Eq_1906 Eq_1950::* bp_100 = fp - 0x02;
	Eq_255 di_126 = wArg08;
	Eq_255 es_133 = ds;
	mp16 sp_139 = fp - 0x2A;
	uint16 bx_84 = DPB(wArg06, bl_28, 0);
	if (wArg06 > 0x24 || bl_28 < 0x02)
	{
l0800_0CC1:
		es_133->*di_126 = 0x00;
		word16 Eq_1950::* sp_147 = sp_139 + 0x02;
		return ss->*sp_147;
	}
	Eq_255 ax_31 = wArg0A;
	Eq_255 cx_33 = wArg0C;
	if (wArg0C < 0x00 && bArg04 != 0x00)
	{
		ds->*wArg08 = 0x2D;
		ax_31 = -wArg0A;
		di_126 = (word32) wArg08 + 0x01;
		cx_33 = -wArg0C - (ax_31 == 0x00);
	}
	byte Eq_255::* si_108 = fp - 0x24;
	if (cx_33 != 0x00)
	{
		do
		{
			uint32 dx_ax_55 = (uint32) (uint16) cx_33;
			uint32 dx_ax_63 = SEQ((uint16) (dx_ax_55 % bx_84), ax_31);
			ds->*si_108 = (byte) (uint16) (dx_ax_63 % bx_84);
			Eq_255 ax_59 = (uint16) (dx_ax_55 /u bx_84);
			cx_33 = ax_59;
			ax_31 = (uint16) (dx_ax_63 /u bx_84);
			++si_108;
		} while (ax_59 != 0x00);
l0800_0CA4:
		if (ax_31 == 0x00)
		{
			word16 cx_105;
			do
			{
				byte al_118;
				--si_108;
				cu8 al_112 = ds->*si_108;
				if (al_112 < 0x0A)
					al_118 = al_112 + 0x30;
				else
					al_118 = al_112 - 0x0A + (ss->*bp_100).b0004;
				es_133->*di_126 = al_118;
				di_126 = (word32) di_126 + 0x01;
				--cx_105;
			} while (cx_105 != 0x00);
			goto l0800_0CC1;
		}
	}
	uint32 dx_ax_82 = (uint32) (uint16) ax_31;
	ds->*si_108 = (byte) (uint16) (dx_ax_82 % bx_84);
	ax_31 = (uint16) (dx_ax_82 /u bx_84);
	++si_108;
	goto l0800_0CA4;
}

// 0800:0D5F: Register Eq_415 _eof(Register (ptr16 Eq_414) ds, Stack int16 wArg02)
Eq_415 _eof(struct Eq_414 * ds, int16 wArg02)
{
	Eq_415 ax_101;
	if (((&(ds->*(ds->*ds).a0482))[wArg02 * 0x02] & 0x0200) != 0x00)
	{
		ax_101.u0 = 0x01;
		return ax_101;
	}
	Eq_415 ax_16 = 0x4400;
	byte dl_20 = (byte) dx_18;
	word16 dx_18;
	if (!msdos_ioctl_get_device_info(wArg02, out dx_18))
	{
		if ((dl_20 & 0x80) != 0x00)
		{
l0800_0DBF:
			ax_101.u0 = 0x00;
			return ax_101;
		}
		ax_16.u0 = 0x4201;
		if (!msdos_set_file_position(wArg02, 0x00, 0x01, 0x4201))
		{
			ax_16.u0 = 0x4202;
			if (!msdos_set_file_position(wArg02, 0x00, 0x02, 0x4202))
			{
				ax_16.u0 = 0x4200;
				if (!msdos_set_file_position(wArg02, 0x4201, 0x00, 0x42014200))
				{
					if (true && (false || true))
					{
						ax_101.u0 = 0x01;
						return ax_101;
					}
					goto l0800_0DBF;
				}
			}
		}
	}
	ax_101 = __IOERROR(ds, ax_16);
	return ax_101;
}

// 0800:0DCD: Register word16 _fflush(Register (ptr16 Eq_414) ds, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg02)
word16 _fflush(struct Eq_414 * ds, struct Eq_1097 Eq_414::* wArg02)
{
	word16 ax_118;
	if ((ds->*wArg02).ptr000E != wArg02)
		ax_118 = ~0x00;
	else if ((ds->*wArg02).w0000 >= 0x00)
	{
		if (((ds->*wArg02).w0002 & 0x08) != 0x00 || (ds->*wArg02).t000A == &(ds->*wArg02).b0004 + 0x01)
		{
			(ds->*wArg02).w0000 = 0x00;
			if ((ds->*wArg02).t000A == &(ds->*wArg02).b0004 + 0x01)
				(ds->*wArg02).t000A = (ds->*wArg02).t0008;
		}
		ax_118 = 0x00;
	}
	else
	{
		word16 di_23 = (ds->*wArg02).w0006 + (ds->*wArg02).w0000;
		(ds->*wArg02).w0000 -= di_23 + 0x01;
		Eq_799 ax_30 = (ds->*wArg02).t0008;
		(ds->*wArg02).t000A = ax_30;
		if (_write(ds, (int16) (ds->*wArg02).b0004, ax_30, di_23 + 0x01) != di_23 + 0x01 && ((ds->*wArg02).w0002 & 0x0200) == 0x00)
		{
			(ds->*wArg02).w0002 |= 0x10;
			ax_118 = ~0x00;
		}
		else
			ax_118 = 0x00;
	}
	return ax_118;
}

// 0800:0E4B: Register word16 _printf(Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register Eq_255 es, Register Eq_255 ds, Stack Eq_255 wArg02, Register out ptr16 diOut)
word16 _printf(Eq_255 cx, Eq_255 dx, Eq_255 bx, Eq_255 es, Eq_255 ds, Eq_255 wArg02, ptr16 & diOut)
{
	ptr16 di_27;
	word16 si_28 = __VPRINTER(cx, dx, bx, es, ds, fp + 0x04, wArg02, out di_27);
	diOut = di_27;
	return si_28;
}

// 0800:0E64: void __fputc(Register (ptr16 Eq_414) ds, Stack byte bArg02, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg04)
void __fputc(struct Eq_414 * ds, byte bArg02, struct Eq_1097 Eq_414::* wArg04)
{
	--(ds->*wArg04).w0000;
	_fputc(ds, (int16) bArg02, wArg04);
}

// 0800:0E7D: void _fputc(Register (ptr16 Eq_414) ds, Stack Eq_2212 bArg02, Stack (memptr (ptr16 Eq_414) Eq_1097) wArg04)
void _fputc(struct Eq_414 * ds, Eq_2212 bArg02, struct Eq_1097 Eq_414::* wArg04)
{
	while (true)
	{
		ci16 v9_20 = (ds->*wArg04).w0000 + 0x01;
		(ds->*wArg04).w0000 = v9_20;
		if (v9_20 < 0x00)
			break;
		--(ds->*wArg04).w0000;
		if (((ds->*wArg04).w0002 & 0x90) != 0x00 || ((ds->*wArg04).w0002 & 0x02) == 0x00)
		{
			(ds->*wArg04).w0002 |= 0x10;
			return;
		}
		(ds->*wArg04).w0002 |= 0x0100;
		if ((ds->*wArg04).w0006 == 0x00)
		{
			if ((bArg02 == 0x0A && (((ds->*wArg04).w0002 & 0x40) == 0x00 && __write(ds, (int16) (ds->*wArg04).b0004, 0x04E0, 0x01) != 0x01) || __write(ds, (int16) (ds->*wArg04).b0004, fp + 0x02, 0x01) != 0x01) && ((ds->*wArg04).w0002 & 0x0200) == 0x00)
				(ds->*wArg04).w0002 |= 0x10;
			return;
		}
		if ((ds->*wArg04).w0000 != 0x00)
		{
			if (_fflush(ds, wArg04) != 0x00)
				return;
		}
		else
			(ds->*wArg04).w0000 = ~0x00 - (ds->*wArg04).w0006;
	}
	(ds->*wArg04).t000A = (word32) (ds->*wArg04).t000A + 0x01;
	ds->*((ds->*wArg04).t000A - 0x01) = bArg02;
	if (((ds->*wArg04).w0002 & 0x08) == 0x00 || bArg02 != 0x0A && bArg02 != 0x0D || _fflush(ds, wArg04) == 0x00)
		;
}

// 0800:1044: void __REALCVT(Register Eq_255 ds)
void __REALCVT(Eq_255 ds)
{
	(*((word32) ds + 0x05E0))();
}

// 0800:1048: Register (memptr Eq_255 Eq_2367) fn0800_1048(Register (memptr Eq_255 Eq_2367) di, Register Eq_255 es, Register Eq_255 ds, Stack Eq_255 wArg02)
struct Eq_2367 Eq_255::* fn0800_1048(struct Eq_2367 Eq_255::* di, Eq_255 es, Eq_255 ds, Eq_255 wArg02)
{
	bcu8 dh_13 = SLICE(wArg02, byte, 8);
	(es->*di).b0000 = (uint16) (dh_13 >> 0x04) + 0x04E9;
	(es->*di).b0001 = (uint16) (dh_13 & 0x0F) + 0x04E9;
	bcu8 dl_29 = (byte) wArg02;
	(es->*di).b0002 = (uint16) (dl_29 >> 0x04) + 0x04E9;
	(es->*di).b0003 = (uint16) (dl_29 & 0x0F) + 0x04E9;
	return &(ds->*di).b0003 + 0x01;
}

// 0800:1073: Register word16 __VPRINTER(Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register Eq_255 es, Register Eq_255 ds, Stack Eq_255 wArg02, Stack Eq_255 wArg04, Register out ptr16 diOut)
word16 __VPRINTER(Eq_255 cx, Eq_255 dx, Eq_255 bx, Eq_255 es, Eq_255 ds, Eq_255 wArg02, Eq_255 wArg04, ptr16 & diOut)
{
	ci8 bLoc57_1321 = 0x50;
	Eq_296 sp_1023 = fp - 0xA0;
	struct Eq_2420 Eq_255::* wLoc98_1324 = fp - 0x56;
l0800_10D6:
	struct Eq_2420 Eq_255::* di_1007 = wLoc98_1324;
l0800_10DA:
	Eq_255 si_1130 = wArg04;
	while (true)
	{
		byte al_37 = ds->*si_1130;
		si_1130 = (word16) si_1130 + 0x01;
		byte al_1075 = al_37;
		word16 ax_1140 = DPB(ax, al_37, 0);
		if (al_37 == 0x00)
			break;
		if (al_37 == 0x25)
		{
			al_1075 = ds->*si_1130;
			ax_1140 = DPB(ax, al_1075, 0);
			struct Eq_2434 Eq_255::* ax_1180 = DPB(ax, al_1075, 0);
			si_1130 = (word16) si_1130 + 0x01;
			if (al_1075 != 0x25)
			{
				wLoc98_1324 = di_1007;
				word16 cx_1237 = 0x00;
				cu8 ch_1225 = 0x00;
				Eq_255 wLoc8E_1329 = 0x00;
				cui16 wLoc9A_1330 = 0x00;
				byte bLoc8F_1331 = 0x00;
				Eq_255 wLoc94_1332 = ~0x00;
				Eq_255 wLoc92_1333 = ~0x00;
				Mem74 = Mem62;
				while (true)
				{
					Eq_255 ax_65 = DPB(ax_1180, 0x00, 8);
					byte dl_129 = (byte) ax_65;
					cu8 bl_68 = (byte) ax_65;
					cx = DPB(cx_1237, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					word16 cx_1238 = DPB(cx_1237, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					word16 cx_1246 = DPB(cx_1237, ch_1225, 8);
					cx = DPB(cx, ch_1225, 8);
					cx_1246 = (word16) DPB(cx, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					cx_1238 = (word16) DPB(cx, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					cx_1238 = DPB(cx_1237, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					word16 cx_1268 = DPB(cx_1237, ch_1225, 8);
					cx_1268 = DPB(cx_1237, ch_1225, 8);
					cx_1238 = DPB(cx_1268, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					cx = DPB(cx_1237, ch_1225, 8);
					dx = ax_65;
					dx = DPB(ax_65, dl_129, 0);
					dx = DPB(ax_65, dl_129, 0);
					dx_225 = DPB(ax_65, dl_129, 0);
					Eq_255 dx_225 = DPB(ax_65, dl_129, 0);
					dx_225 = DPB(ax_65, dl_129, 0);
					dx = DPB(ax_65, dl_129, 0);
					bx = DPB(ax_65, bl_68 - 0x20, 0);
					if (bl_68 >= 0x80)
						break;
					bx = DPB(ax_65, ds->*((word32) bx + 0x04F9), 0);
					Eq_255 ax_1181 = bx;
					if (bx > 0x17)
						goto l0800_1560;
					byte bLoc95_1375;
					Eq_255 cx_170;
					Eq_2557 di_140;
					ui16 bx_447;
					ui16 bx_446;
					ui16 bx_445;
					byte bh_335;
					Eq_255 dx_354;
					Eq_255 ax_353;
					bx <<= 0x01;
					cx_1981 = cx;
					switch (bx)
					{
					case 0x00:
						if (ch_1225 > 0x00)
							goto l0800_1175;
						if (bLoc8F_1331 != 0x2B)
						{
							bLoc8F_1331 = dl_129;
							Mem994 = Mem983;
						}
						break;
					case 0x01:
						if (ch_1225 > 0x00)
							goto l0800_1175;
						wLoc9A_1330 |= 0x01;
						Mem992 = Mem976;
						break;
					case 0x02:
						ax_1181 = ds->*wArg02;
						wArg02 = (word32) wArg02 + 0x02;
						if (ch_1225 < 0x02)
						{
							wLoc94_1332 = ax_1181;
							ch_1225 = 0x03;
							cx_1246 = DPB(cx_1237, 0x03, 8);
							Mem993 = Mem971;
							goto l0800_11E5;
						}
						if (ch_1225 != 0x04)
							goto l0800_11CE;
						++ch_1225;
						wLoc92_1333 = ax_1181;
						cx_1238 = DPB(cx_1237, ch_1225, 8);
						Mem992 = Mem968;
						break;
					case 0x03:
						if (ch_1225 > 0x00)
							goto l0800_1175;
						wLoc9A_1330 |= 0x02;
						Mem992 = Mem957;
						break;
					case 0x04:
						if (ch_1225 >= 0x04)
							goto l0800_11CE;
						ch_1225 = 0x04;
						cx_1238 = DPB(cx_1237, 0x04, 8);
						break;
					case 0x05:
l0800_1200:
						dx = bx;
						Eq_255 ax_911 = (int16) (dl_129 - 0x30);
						if (ch_1225 <= 0x02)
						{
							ch_1225 = 0x02;
							cx_1246 = DPB(cx_1981, 0x02, 8);
							cx_1238 = DPB(cx_1981, 0x02, 8);
							wLoc94_1332 = ax_911;
							ax_1181 = wLoc94_1332;
							Mem993 = Mem937;
							if (wLoc94_1332 < 0x00)
								goto l0800_11E5;
							ax_1181 = (wLoc94_1332 << 0x03) + (wLoc94_1332 << 0x01);
							wLoc94_1332 = ax_911 + ax_1181;
							Mem992 = Mem949;
						}
						else
						{
							if (ch_1225 != 0x04)
							{
l0800_11CE:
								goto l0800_1560;
							}
							wLoc92_1333 = ax_911;
							ax_1181 = wLoc92_1333;
							Mem993 = Mem921;
							if (wLoc92_1333 < 0x00)
								goto l0800_11E5;
							ax_1181 = (wLoc92_1333 << 0x03) + (wLoc92_1333 << 0x01);
							wLoc92_1333 = ax_911 + ax_1181;
							Mem992 = Mem933;
						}
						break;
					case 0x06:
						wLoc9A_1330 |= 0x10;
						ch_1225 = 0x05;
						cx_1238 = DPB(cx_1237, 0x05, 8);
						Mem992 = Mem900;
						break;
					case 0x07:
						wLoc9A_1330 = (wLoc9A_1330 | 0x0100) & ~0x10;
						ch_1225 = 0x05;
						cx_1238 = DPB(cx_1237, 0x05, 8);
						Mem992 = Mem895;
						break;
					case 0x08:
						wLoc9A_1330 = wLoc9A_1330 & ~0x10 | 0x80;
						ch_1225 = 0x05;
						cx_1238 = DPB(cx_1237, 0x05, 8);
						Mem992 = Mem887;
						break;
					case 0x09:
						cx_1982 = cx;
						if (ch_1225 > 0x00)
							goto l0800_1200;
						if ((wLoc9A_1330 & 0x02) == 0x00)
						{
							wLoc9A_1330 |= 0x08;
							ch_1225 = 0x01;
							cx_1238 = DPB(cx_1237, 0x01, 8);
							Mem992 = Mem879;
						}
						else
						{
l0800_11E5:
							cx_1238 = DPB(cx_1246, ch_1225, 8);
						}
						break;
					case 0x0A:
						int32 dx_ax_362 = (int32) (ds->*wArg02);
						bh_335 = 0x0A;
						bx_445 = DPB(bx << 0x01, 0x0A, 8);
						bLoc95_1375 = 0x01;
						ax_353 = (word16) dx_ax_362;
						dx_354 = SLICE(dx_ax_362, word16, 16);
						goto l0800_12A2;
					case 11:
						bh_335 = 0x08;
						bx_447 = DPB(bx << 0x01, 0x08, 8);
						goto l0800_127A;
					case 0x0C:
						bh_335 = 0x0A;
						bx_446 = DPB(bx << 0x01, 0x0A, 8);
						goto l0800_127F;
					case 0x0D:
						bh_335 = 0x10;
						bx_447 = DPB(DPB(bx << 0x01, 0x10, 8), dl_129 + 233, 0);
l0800_127A:
						bx_446 = DPB(bx_447, bh_335, 8);
						bLoc8F_1331 = 0x00;
l0800_127F:
						bx_445 = DPB(bx_446, bh_335, 8);
						bLoc95_1375 = 0x00;
						ax_353 = ds->*wArg02;
						dx_354.u0 = 0x00;
l0800_12A2:
						struct Eq_2799 Eq_255::* di_364 = (word32) wArg02 + 0x01;
						ui16 bx_444 = DPB(bx_445, bh_335, 8);
						bx_444 = DPB(bx_445, bh_335, 8);
						ui16 bx_457 = DPB(bx_444, bh_335, 8);
						bx_457 = DPB(bx_444, bh_335, 8);
						bx = DPB(bx_444, bh_335, 8);
						bx = DPB(bx_457, bh_335, 8);
						Eq_255 bx_462 = DPB(bx, bh_335, 8);
						Eq_255 di_365 = &(ds->*di_364).t0001;
						wArg04 = si_1130;
						if ((wLoc9A_1330 & 0x10) != 0x00)
						{
							dx_354 = (ds->*di_364).t0001;
							di_365 = (char *) &(ds->*di_364).t0001 + 0x02;
						}
						wArg02 = di_365;
						ax = ax_353;
						bx_1979 = bx_457;
						if (ax_353 == 0x00)
						{
							dx = dx_354;
							bx_1980 = bx_457;
							if (dx_354 != 0x00)
								goto l0800_12F1;
							bx_1978 = bx;
							if (wLoc92_1333 == 0x00)
							{
								cx = wLoc94_1332;
								if (wLoc94_1332 != 0x00 && wLoc94_1332 != ~0x00)
								{
									byte dl_851;
									if ((wLoc9A_1330 & 0x08) != 0x00)
									{
										dl_851 = 0x30;
										dx = DPB(dx_354, 0x30, 0);
									}
									else
									{
										dl_851 = 0x20;
										dx = DPB(dx_354, 0x20, 0);
									}
									do
									{
										dx = DPB(dx, dl_851, 0);
										ax = DPB(wLoc9A_1330 & 0x08, dl_851, 0);
										di_1007 = fn0800_1099(dl_851, cx, dx, bx, fp - 0x02, di_1007, es, ds);
										sp_1023 = (word32) sp_1023 + 0x0000FFFE;
										--cx;
									} while (cx != 0x00);
								}
								Mem32 = Mem383;
								goto l0800_10DA;
							}
						}
						else
						{
l0800_12F1:
							wLoc9A_1330 |= 0x04;
						}
						union Eq_255 Eq_255::* sp_414 = sp_1023 - 0x02;
						ss->*sp_414 = dx_354;
						ss->*(sp_414 - 0x02) = ax_353;
						ss->*(sp_414 - 0x04) = fp - 0x89;
						Eq_255 ax_434 = (int16) bh_335;
						ss->*(sp_414 - 0x06) = ax_434;
						ss->*(sp_414 - 0x08) = DPB(ax_434, bLoc95_1375, 0);
						ss->*(sp_414 - 0x0A) = bx_462;
						di_140 = __LONGTOA(ds, ss->*(sp_414 - 0x08), ss->*(sp_414 - 0x06), ss->*(sp_414 - 0x04), ss->*(sp_414 - 0x02), ss->*sp_414);
						ss->*sp_414 = ss;
						es = ss->*sp_414;
						sp_1023 = (char *) sp_414 + 0x02;
						dx_225 = wLoc92_1333;
						if (wLoc92_1333 <= 0x00)
							goto l0800_1427;
						goto l0800_1437;
					case 0x0E:
						union Eq_255 Eq_255::* sp_268 = sp_1023 - 0x02;
						ss->*sp_268 = ds->*wArg02;
						struct Eq_2367 Eq_255::* di_265 = fp - 0x8A;
						wArg02 = (word32) wArg02 + 0x02;
						if ((wLoc9A_1330 & 0x20) != 0x00)
						{
							ss->*(sp_268 - 0x02) = ds->*((word32) wArg02 + 0x02);
							ss->*(sp_268 - 0x04) = ss;
							Eq_255 es_285 = ss->*(sp_268 - 0x04);
							byte Eq_255::* di_290 = fn0800_1048(fp - 0x8A, es_285, ds, ss->*(sp_268 - 0x02));
							es_285->*di_290 = 0x3A;
							wArg02 = (word32) wArg02 + 0x04;
							di_265 = (struct Eq_2367 Eq_255::*) (di_290 + 0x01);
						}
						ss->*(sp_268 - 0x02) = ss;
						es = ss->*(sp_268 - 0x02);
						byte Eq_255::* di_312 = fn0800_1048(di_265, es, ds, ss->*sp_268);
						ds->*di_312 = 0x00;
						sp_1023 = (char *) sp_268 + 0x02;
						wLoc9A_1330 &= ~0x04;
						Eq_255 di_327 = di_312 - (fp - 0x8A);
						di_140 = fp - 0x8A;
						dx_225 = wLoc92_1333;
						if (wLoc92_1333 <= di_327)
							dx_225 = di_327;
						Mem488 = Mem324;
						goto l0800_1427;
					case 0x0F:
						Eq_255 cx_204 = wLoc92_1333;
						if (wLoc92_1333 < 0x00)
							cx_204.u0 = 0x06;
						int16 wLoc06_1359;
						Eq_255 ax_239;
						union Eq_255 Eq_255::* sp_210 = sp_1023 - 0x02;
						ss->*sp_210 = wArg02;
						ss->*(sp_210 - 0x02) = cx_204;
						ss->*(sp_210 - 0x04) = fp - 0x89;
						ss->*(sp_210 - 0x06) = dx_225;
						ss->*(sp_210 - 0x08) = wLoc9A_1330 & 0x01;
						if ((wLoc9A_1330 & 0x80) != 0x00)
						{
							ax_239.u0 = 0x02;
							wLoc06_1359 = 0x04;
						}
						else if ((wLoc9A_1330 & 0x0100) != 0x00)
						{
							ax_239.u0 = 0x08;
							wLoc06_1359 = 0x0A;
						}
						else
						{
							wLoc06_1359 = 0x08;
							ax_239.u0 = 0x06;
						}
						ss->*(sp_210 - 0x0A) = ax_239;
						__REALCVT(ds);
						Eq_296 sp_251 = &Eq_299::tBADDCAFE;
						ss->*(sp_251 - 0x02) = ss;
						wArg02 = (word32) wArg02 + wLoc06_1359;
						es = ss->*(sp_251 - 0x02);
						sp_1023 = sp_251;
						di_140 = fp - 0x89;
l0800_1427:
						if ((wLoc9A_1330 & 0x08) != 0x00)
						{
							dx_225 = wLoc94_1332;
							if (wLoc94_1332 > 0x00)
							{
l0800_1437:
								Eq_255 cx_504 = fn0800_108C(di_140, es);
								if (es->*di_140.u0 == 0x2D)
									--cx_504;
								dx_225 -= cx_504;
								if (dx_225 > 0x00)
								{
									wLoc8E_1329 = dx_225;
									Mem527 = Mem524;
								}
							}
						}
						if (bLoc8F_1331 != 0x00 && es->*di_140.u0 != 0x2D)
						{
							--di_140;
							es->*di_140.u0 = bLoc8F_1331;
							wchar_t v40_540 = wLoc8E_1329 - 0x01;
							wLoc8E_1329 = (bool) (v40_540 < 0x00) + v40_540;
						}
						cx_170 = fn0800_108C(di_140, es);
						goto l0800_1468;
					case 0x10:
						union Eq_255 Eq_255::* sp_189 = sp_1023 - 0x02;
						ss->*sp_189 = ss;
						wArg02 = (word32) wArg02 + 0x02;
						es = ss->*sp_189;
						sp_1023 = (char *) sp_189 + 0x02;
						di_140 = fp - 0x89;
						cx_170.u0 = 0x01;
						Mem567 = Mem198;
						goto l0800_1468;
					case 0x11:
						bool Z_154;
						if ((wLoc9A_1330 & 0x20) == 0x00)
						{
							Eq_2557 di_144 = ds->*wArg02;
							union Eq_255 Eq_255::* sp_147 = sp_1023 - 0x02;
							ss->*sp_147 = ds;
							wArg02 = (word32) wArg02 + 0x02;
							es = ss->*sp_147;
							di_140 = di_144;
							Z_154 = SLICE(cond(di_144), bool, 2);
						}
						else
						{
							Eq_2769 es_di_135 = ds->*wArg02;
							es = SLICE(es_di_135, selector, 16);
							di_140 = (word16) es_di_135;
							wArg02 = (word32) wArg02 + 0x04;
							Z_154 = SLICE(cond(es | di_140), bool, 2);
							Mem179 = Mem137;
						}
						if (!Z_154)
						{
							union Eq_255 Eq_255::* sp_158 = sp_1023 - 0x02;
							ss->*sp_158 = ds;
							es = ss->*sp_158;
							di_140.u0 = 0x04E2;
						}
						cx_170 = fn0800_108C(di_140, es);
						if (cx_170 > wLoc92_1333)
							cx_170 = wLoc92_1333;
l0800_1468:
						wArg04 = si_1130;
						Eq_2557 si_1197 = di_140;
						Eq_255 bx_571 = wLoc94_1332;
						ax = wLoc9A_1330 & 0x05;
						if (ax == 0x05)
						{
							ax = DPB(ax, dl_129, 8);
							ax = DPB(ax, dl_129, 8);
							ax = DPB(ax, dl_129, 8);
							if (dl_129 != 111)
							{
								if (dl_129 == 0x78 || dl_129 == 88)
								{
									Eq_255 v37_592 = wLoc8E_1329 - 0x02;
									wLoc9A_1330 |= 0x40;
									bx_571 = wLoc94_1332 - 0x02;
									wLoc8E_1329 = v37_592;
									Mem609 = Mem593;
									if (v37_592 < 0x00)
									{
										wLoc8E_1329.u0 = 0x00;
										Mem609 = Mem596;
									}
								}
l0800_14B5:
								cx = cx_170 + wLoc8E_1329;
								if ((wLoc9A_1330 & 0x02) == 0x00)
								{
									for (; bx_571 > cx; --bx_571)
									{
										ax = DPB(ax, 0x20, 0);
										di_1007 = fn0800_1099(0x20, cx, dx_225, bx_571, fp - 0x02, di_1007, es, ds);
										sp_1023 = (word32) sp_1023 + 0x0000FFFE;
									}
								}
								if ((wLoc9A_1330 & 0x40) != 0x00)
								{
									ax = DPB(ax, dl_129, 0);
									di_1007 = fn0800_1099(dl_129, cx, dx_225, bx_571, fp - 0x02, fn0800_1099(0x30, cx, dx_225, bx_571, fp - 0x02, di_1007, es, ds), es, ds);
									sp_1023 = (word32) sp_1023 + 0x0000FFFC;
								}
								dx = wLoc8E_1329;
								if (wLoc8E_1329 > 0x00)
								{
									byte al_729 = es->*di_140.u0;
									Eq_255 cx_719 = cx - wLoc8E_1329;
									bx_571 -= wLoc8E_1329;
									ax = DPB(ax, al_729, 0);
									ax = DPB(ax, al_729, 0);
									ax = DPB(ax, al_729, 0);
									if (al_729 == 0x2D || (al_729 == 0x20 || al_729 == 0x2B))
									{
										byte al_740 = ds->*di_140.u0;
										ax = DPB(ax, al_740, 0);
										si_1197 = (word16) di_140.u0 + 0x01;
										di_1007 = fn0800_1099(al_740, cx_719, wLoc8E_1329, bx_571, fp - 0x02, di_1007, es, ds);
										sp_1023 = (word32) sp_1023 + 0x0000FFFE;
										--cx_719;
										--bx_571;
									}
									Eq_255 cx_765 = wLoc8E_1329;
									if (wLoc8E_1329 != 0x00)
									{
										do
										{
											ax = DPB(ax, 0x30, 0);
											di_1007 = fn0800_1099(0x30, cx_765, cx_719, bx_571, fp - 0x02, di_1007, es, ds);
											sp_1023 = (word32) sp_1023 + 0x0000FFFE;
											--cx_765;
										} while (cx_765 != 0x00);
									}
									dx = cx_765;
									cx = cx_719;
								}
								if (cx != 0x00)
								{
									bx_571 -= cx;
									do
									{
										byte al_797 = ds->*si_1197;
										(ds->*di_1007).b0000 = al_797;
										ci8 v42_804 = bLoc57_1321 - 0x01;
										ax = DPB(ax, al_797, 0);
										si_1197 = (word32) si_1197 + 0x01;
										++di_1007;
										bLoc57_1321 = v42_804;
										if (v42_804 <= 0x00)
											di_1007 = fn0800_10A1(cx, dx, bx_571, fp - 0x02, di_1007, es);
										--cx;
										Mem796 = Mem805;
										Mem1112 = Mem805;
									} while (cx != 0x00);
								}
								bx = bx_571;
								if (bx_571 > 0x00)
								{
									cx = bx_571;
									do
									{
										ax = DPB(ax, 0x20, 0);
										di_1007 = fn0800_1099(0x20, cx, dx, bx_571, fp - 0x02, di_1007, es, ds);
										sp_1023 = (word32) sp_1023 + 0x0000FFFE;
										--cx;
									} while (cx != 0x00);
								}
								goto l0800_10DA;
							}
							if (wLoc8E_1329 <= 0x00)
							{
								wLoc8E_1329.u0 = 0x01;
								Mem610 = Mem599;
							}
						}
						goto l0800_14B5;
					case 0x12:
						struct Eq_2710 Eq_255::* di_105;
						wArg04 = si_1130;
						if ((wLoc9A_1330 & 0x20) == 0x00)
						{
							di_105 = ds->*wArg02;
							union Eq_255 Eq_255::* sp_110 = sp_1023 - 0x02;
							ss->*sp_110 = ds;
							wArg02 = (word32) wArg02 + 0x02;
							es = ss->*sp_110;
						}
						else
						{
							Eq_2739 es_di_101 = ds->*wArg02;
							es = SLICE(es_di_101, selector, 16);
							di_105 = (word16) es_di_101;
							wArg02 = (word32) wArg02 + 0x04;
						}
						Eq_255 ax_120 = DPB(0x50, 0x50 - bLoc57_1321, 0);
						(es->*di_105).t0000 = ax_120;
						ax = ax_120;
						goto l0800_10D6;
					case 0x13:
					case 0x14:
					case 0x15:
l0800_1560:
						Eq_255 si_1006 = si_1130;
						byte al_1008 = 0x25;
						do
						{
							di_1007 = fn0800_1099(al_1008, cx, dx, bx, fp - 0x02, di_1007, es, ds);
							byte al_1027 = ds->*si_1006;
							sp_1023 = (word32) sp_1023 + 0x0000FFFE;
							si_1006 = (word32) si_1006 + 0x01;
							al_1008 = al_1027;
						} while (al_1027 != 0x00);
						goto l0800_1572;
					case 22:
						wLoc9A_1330 &= ~0x20;
						ch_1225 = 0x05;
						cx_1238 = DPB(cx_1237, 0x05, 8);
						Mem992 = Mem91;
						break;
					case 0x17:
						wLoc9A_1330 |= 0x20;
						ch_1225 = 0x05;
						cx_1238 = DPB(cx_1237, 0x05, 8);
						Mem992 = Mem86;
						break;
					}
					cx_1237 = DPB(cx_1238, ch_1225, 8);
					ax_1180 = (struct Eq_2434 Eq_255::*) DPB(ax_1181, ds->*si_1130, 0);
					si_1130 = (word16) si_1130 + 0x01;
				}
l0800_1175:
				goto l0800_1560;
			}
		}
		(ds->*di_1007).b0000 = al_1075;
		ci8 v15_1082 = bLoc57_1321 - 0x01;
		ax = DPB(ax_1140, al_1075, 0);
		++di_1007;
		bLoc57_1321 = v15_1082;
		Mem36 = Mem1083;
		if (v15_1082 <= 0x00)
		{
			di_1007 = fn0800_10A1(cx, dx, bx, fp - 0x02, di_1007, es);
			Mem36 = Mem1083;
		}
	}
l0800_1572:
	if (bLoc57_1321 < 0x50)
		fn0800_10A1(cx, dx, bx, fp - 0x02, di_1007, es);
	struct Eq_2475 Eq_255::* sp_1059 = (word32) sp_1023 + 0x02;
	word16 si_1070 = (ss->*sp_1059).w0002;
	diOut = (ss->*sp_1059).ptr0000;
	return si_1070;
}

// 0800:108C: Register word16 fn0800_108C(Register Eq_2557 di, Register Eq_255 es)
word16 fn0800_108C(Eq_2557 di, Eq_255 es)
{
	word16 cx_12 = ~0x00;
	while (cx_12 != 0x00)
	{
		di = (word16) di_45 + 0x01;
		--cx_12;
		di_45 = di;
		if (es->*di_45 != 0x00)
			return ~cx_12 - 0x01;
	}
	return ~cx_12 - 0x01;
}

// 0800:1099: Register (memptr Eq_255 Eq_2420) fn0800_1099(Register byte al, Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register (memptr Eq_255 Eq_2467) bp, Register (memptr Eq_255 Eq_2420) di, Register Eq_255 es, Register Eq_255 ds)
struct Eq_2420 Eq_255::* fn0800_1099(byte al, Eq_255 cx, Eq_255 dx, Eq_255 bx, struct Eq_2467 Eq_255::* bp, struct Eq_2420 Eq_255::* di, Eq_255 es, Eq_255 ds)
{
	(ds->*di).b0000 = al;
	Eq_3368 v9_11 = ss->*(bp - 0x55) - 0x01;
	ss->*(bp - 0x55) = v9_11;
	if (v9_11 <= 0x00)
		return di + 0x01;
	return fn0800_10A1(cx, dx, bx, bp, di + 0x01, es);
}

// 0800:10A1: Register (memptr Eq_255 Eq_2420) fn0800_10A1(Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register (memptr Eq_255 Eq_2467) bp, Register (memptr Eq_255 Eq_2420) di, Register Eq_255 es)
struct Eq_2420 Eq_255::* fn0800_10A1(Eq_255 cx, Eq_255 dx, Eq_255 bx, struct Eq_2467 Eq_255::* bp, struct Eq_2420 Eq_255::* di, Eq_255 es)
{
	word16 di_20 = di - (bp - 0x54);
	word16 ax_34;
	(0x0800->*(ss->*bp).ptr000A)();
	if (ax_34 == 0x00)
		(ss->*(bp - 0x02)).t0000.u1 = 0x01;
	(ss->*(bp - 0x55)).t0000.u0 = 0x50;
	(ss->*(bp - 88)).t0000.u1 = (word16) (ss->*(bp - 88)).t0000.u1 + di_20;
	return bp - 0x54;
}

// 0800:1596: void fn0800_1596(Register (ptr16 Eq_414) ds, Stack Eq_875 wArg02)
void fn0800_1596(struct Eq_414 * ds, Eq_875 wArg02)
{
	if (ds->t062A != 0x00)
	{
		Eq_875 di_23 = ds->*((word32) ds->t062A + 0x06);
		ds->*((word32) ds->t062A + 0x06) = wArg02;
		ds->*((word32) di_23 + 0x04) = wArg02;
		ds->*((word32) wArg02 + 0x06) = di_23;
		ds->*((word32) wArg02 + 0x04) = ds->t062A;
	}
	else
	{
		ds->t062A = wArg02;
		ds->*((word32) wArg02 + 0x04) = wArg02;
		ds->*((word32) wArg02 + 0x06) = wArg02;
	}
}

// 0800:15CF: void fn0800_15CF(Register (ptr16 Eq_414) ds, Stack Eq_875 wArg02, Stack Eq_875 wArg04)
void fn0800_15CF(struct Eq_414 * ds, Eq_875 wArg02, Eq_875 wArg04)
{
	ds->*wArg02 += ds->*wArg04;
	if (ds->t0628 == wArg04)
		ds->t0628 = wArg02;
	else
		(word32) wArg04 + ds->*wArg04 + 0x02 = wArg02;
	___pull_free_block(ds, wArg04);
}

// 0800:1606: void fn0800_1606(Register (ptr16 Eq_414) ds)
void fn0800_1606(struct Eq_414 * ds)
{
	if (ds->t062C == ds->t0628)
	{
		_brk(ds, ds->t062C);
		ds->t0628.u0 = 0x00;
		ds->t062C.u0 = 0x00;
	}
	else
	{
		Eq_875 si_13 = ds->*((word32) ds->t0628 + 0x02);
		if ((ds->*si_13 & 0x01) == 0x00)
		{
			___pull_free_block(ds, si_13);
			if (si_13 == ds->t062C)
			{
				ds->t0628.u0 = 0x00;
				ds->t062C.u0 = 0x00;
			}
			else
				ds->t0628 = ds->*((word32) si_13 + 0x02);
			_brk(ds, si_13);
		}
		else
		{
			_brk(ds, ds->t0628);
			ds->t0628 = si_13;
		}
	}
}

// 0800:165F: void fn0800_165F(Register (ptr16 Eq_414) ds, Stack Eq_875 wArg02)
void fn0800_165F(struct Eq_414 * ds, Eq_875 wArg02)
{
	--ds->*wArg02;
	Eq_875 si_16 = wArg02;
	Eq_875 ax_21 = (word32) wArg02 + ds->*wArg02;
	Eq_875 di_23 = ds->*((word32) wArg02 + 0x02);
	if ((ds->*di_23 & 0x01) == 0x00 && wArg02 != ds->t062C)
	{
		ds->*di_23 += ds->*wArg02;
		ds->*((word32) ax_21 + 0x02) = di_23;
		si_16 = di_23;
	}
	else
		fn0800_1596(ds, wArg02);
	if ((ds->*ax_21 & 0x01) == 0x00)
		fn0800_15CF(ds, si_16, ax_21);
}

// 0800:16AD: void _free(Register (ptr16 Eq_414) ds, Stack Eq_799 wArg02)
void _free(struct Eq_414 * ds, Eq_799 wArg02)
{
	if (wArg02 != 0x00)
	{
		if ((word32) wArg02 + 0x0000FFFC == ds->t0628)
			fn0800_1606(ds);
		else
			fn0800_165F(ds, (word32) wArg02 + 0x0000FFFC);
	}
}

// 0800:16D4: Register Eq_255 _scanf(Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register word16 si, Register Eq_255 di, Register Eq_255 es, Register Eq_255 ds, Stack Eq_274 wArg02, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out (ptr16 Eq_277) esOut)
Eq_255 _scanf(Eq_255 cx, Eq_255 dx, Eq_255 bx, word16 si, Eq_255 di, Eq_255 es, Eq_255 ds, Eq_274 wArg02, ptr16 & bxOut, ptr16 & bpOut, struct Eq_277 & esOut)
{
	ptr16 Eq_3645::* bp_32;
	struct Eq_277 * es_35;
	ptr16 bx_39;
	Eq_255 dx_40 = __scanner(cx, dx, bx, fp - 0x02, si, di, es, ds, 0x07F2, 7525, 0x0342, wArg02, out bx_39, out bp_32, out es_35);
	ptr16 bp_47 = ss->*bp_32;
	bxOut = bx_39;
	bpOut = bp_47;
	esOut = es_35;
	return dx_40;
}

// 0800:16F3: Register Eq_255 __scanner(Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register mp16 bp, Register word16 si, Register Eq_255 di, Register Eq_255 es, Register Eq_255 ds, Stack Eq_255 wArg02, Stack Eq_255 wArg04, Stack Eq_255 wArg06, Stack Eq_274 wArg08, Register out Eq_255 bxOut, Register out ptr16 bpOut, Register out (ptr16 Eq_3633) esOut)
Eq_255 __scanner(Eq_255 cx, Eq_255 dx, Eq_255 bx, mp16 bp, word16 si, Eq_255 di, Eq_255 es, Eq_255 ds, Eq_255 wArg02, Eq_255 wArg04, Eq_255 wArg06, Eq_274 wArg08, union Eq_255 & bxOut, ptr16 & bpOut, struct Eq_3633 & esOut)
{
	int8 Top_1176 = 0x00;
	word16 wLoc2A_1187 = 0x00;
	Eq_255 wLoc28_1188 = 0x00;
	Eq_296 sp_1149 = fp - 0x32;
	es_1041 = es;
	di_1049 = di;
l0800_1723:
	Eq_255 di_1049;
	Eq_255 es_1041;
	Eq_274 si_26 = wArg08;
	do
	{
l0800_1726:
		byte al_30 = ds->*si_26;
		si_26 = (word16) si_26 + 0x01;
		byte al_32 = al_30;
		if (al_30 == 0x00)
		{
			ptr16 bp_42;
			struct Eq_3633 * es_45;
			fn0800_1AEB(cx, fp - 0x02, si_26, di_1049, es_1041, out cx_1682, out bp_42, out si_1683, out di_1684, out es_45);
			bxOut = bx;
			bpOut = bp_42;
			esOut = es_45;
			return dx;
		}
		if (al_30 == 0x25)
		{
			wLoc24.u0 = ~0x00;
			bLoc2B = 0x00;
			Mem59 = Mem56;
			while (true)
			{
				si_26 = (word16) si_26 + 0x01;
				Eq_255 ax_62 = (int16) (ds->*si_26);
				wArg08 = si_26;
				di_1049 = ax_62;
				if (ax_62 < 0x00)
					goto l0800_17E6;
				Eq_255 bx_78 = DPB(DPB(bx, ds->*((word16) ax_62 + 0x055A), 0), 0x00, 8);
				Eq_255 ax_711 = bx_78;
				al_32 = (byte) bx_78;
				if (bx_78 > 0x15)
					break;
				Eq_255 ax_122;
				Eq_255 si_121;
				bx = bx_78 << 0x01;
				switch (bx_78)
				{
				case 0x00:
				case 0x01:
				case 0x02:
l0800_17E6:
					ptr16 bp_797;
					struct Eq_3633 * es_800;
					fn0800_1AEB(cx, fp - 0x02, si_26, ax_62, es_1041, out cx_1688, out bp_797, out si_1689, out di_1690, out es_800);
					bxOut = bx;
					bpOut = bp_797;
					esOut = es_800;
					return dx;
				case 0x03:
					goto l0800_172F;
				case 0x04:
					bLoc2B |= 0x01;
					Mem59 = Mem787;
					break;
				case 0x05:
					wLoc24 = ax_62 - 0x30;
					Mem59 = Mem774;
					wLoc24_1725 = wLoc24;
					if (wLoc24_1725 >= 0x00)
					{
						dx = SLICE(wLoc24_1725 * 0x0A, word16, 16);
						wLoc24 = (word16) (ax_62 - 0x30) + (word16) (wLoc24_1725 * 0x0A);
						Mem59 = Mem784;
					}
					break;
				case 0x06:
					if ((bLoc2B & 0x01) == 0x00)
						di_1049 = fn0800_1708(fp - 0x02, ds, out es_1041);
					Eq_274 si_1137 = wLoc24_1725;
					if (wLoc24_1725 < 0x00)
						si_1137.u0 = 0x01;
					Mem763 = Mem65;
					if (wLoc24_1725 != 0x00)
					{
						do
						{
							Eq_255 v49_698 = (word32) wLoc28_1188 + 0x01;
							struct Eq_4264 Eq_255::* sp_702 = sp_1149 - 0x02;
							(ss->*sp_702).t0000 = es_1041;
							(ss->*(sp_702 - 0x02)).t0000 = wArg06;
							struct Eq_4275 Eq_255::* sp_708;
							Eq_255 ax_712;
							(0x0800->*wArg02)();
							byte al_730 = (byte) ax_712;
							wLoc28_1188 = v49_698;
							ax_712 = DPB(ax_712, al_730, 0);
							cx = (ss->*sp_708).t0000;
							es_1041 = (ss->*sp_708).t0002;
							sp_1149 = (char *) &(ds->*sp_708).t0002 + 0x02;
							if ((bLoc2B & 0x01) == 0x00)
							{
								es_1041->*di_1049 = al_730;
								di_1049 = (word16) di_1049 + 0x01;
							}
							ax_711 = ax_712;
							if (ax_712 < 0x00)
							{
								ptr16 bp_746;
								struct Eq_3633 * es_749;
								fn0800_1AEB(cx, fp - 0x02, si_1137, di_1049, es_1041, out cx_1699, out bp_746, out si_1700, out di_1701, out es_749);
								bxOut = bx;
								bpOut = bp_746;
								esOut = es_749;
								return dx;
							}
							--si_1137;
						} while (si_1137 > 0x00);
					}
					if ((bLoc2B & 0x01) == 0x00)
					{
						++wLoc2A_1187;
						Mem1016 = Mem770;
					}
					goto l0800_1723;
				case 0x07:
				case 0x08:
					si_121.u0 = 0x0A;
					goto l0800_1844;
				case 0x09:
					si_121.u0 = 0x00;
					goto l0800_1844;
				case 0x0A:
					struct Eq_3809 Eq_255::* sp_466 = sp_1149 - 0x02;
					(ss->*sp_466).t0000 = fp - 0x26;
					(ss->*(sp_466 - 0x02)).t0000 = fp - 0x28;
					(ss->*(sp_466 - 0x04)).t0000 = wLoc24_1725 & 0x7FFF;
					(ss->*(sp_466 - 0x06)).t0000 = wArg06;
					(ss->*(sp_466 - 0x08)).t0000 = wArg04;
					(ss->*(sp_466 - 0x0A)).t0000 = wArg02;
					__scantod(ds);
					Eq_296 sp_486 = &Eq_299::tBADDCAFE;
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B & 0x01) != 0x00)
						{
							Top_1176 = __scanpop(ds);
							&sp_1149.u0->t0000 = &Eq_299::tBADDCAFE;
						}
						else
						{
							word16 ax_529;
							di_1049 = fn0800_1708(fp - 0x02, ds, out es_1041);
							++wLoc2A_1187;
							if ((bLoc2B & 0x04) != 0x00)
								ax_529 = 0x04;
							else if ((bLoc2B & 0x08) != 0x00)
								ax_529 = 0x08;
							else
								ax_529 = 0x00;
							ss->*((word32) sp_486 + 0x0A) = ax_529;
							ss->*((word32) sp_486 + 0x08) = di_1049;
							Eq_296 sp_543 = &Eq_299::tBADDCAFE;
							Top_1176 = __scanrslt(ds);
							sp_1149 = (word32) sp_543 + 0x04;
						}
						goto l0800_1723;
					}
					__scanpop(ds);
					if (wLoc26 < 0x00)
					{
						ptr16 bp_495;
						struct Eq_3633 * es_498;
						fn0800_1AEB(cx, fp - 0x02, si_26, ax_62, es_1041, out cx_1709, out bp_495, out si_1710, out di_1711, out es_498);
						bxOut = bx_78 << 0x01;
						bpOut = bp_495;
						esOut = es_498;
						return dx;
					}
					else
					{
						ptr16 bp_507;
						struct Eq_3633 * es_509;
						fn0800_1AFF(fp - 0x02, out bp_507, out si_1707, out di_1708, out es_509);
						bxOut = bx_78 << 0x01;
						bpOut = bp_507;
						esOut = es_509;
						return dx;
					}
				case 11:
					bLoc2B |= 0x08;
					Mem59 = Mem462;
					break;
				case 0x0C:
					bLoc2B |= 0x02;
					Mem59 = Mem458;
					break;
				case 0x0D:
					bLoc2B |= 0x04;
					Mem59 = Mem454;
					break;
				case 0x0E:
					si_121.u0 = 0x08;
					goto l0800_1844;
				case 0x0F:
					Eq_3864 bp_427;
					Eq_3865 bx_428;
					Eq_255 cx_429;
					Eq_255 di_430;
					Eq_255 es_431;
					Eq_274 si_432;
					Eq_255 ax_426 = fn0800_196F(bx_78, cx, bx_78 << 0x01, fp - 0x02, si_26, ax_62, es_1041, ds, out cx_429, out bx_428, out bp_427, out si_432, out di_430, out es_431);
					ptr16 bp_440;
					Eq_255 bx_441;
					struct Eq_3633 * es_444;
					fn0800_196F(ax_426, cx_429, bx_428, bp_427, si_432, di_430, es_431, ds, out cx_1694, out bx_441, out bp_440, out si_1695, out di_1696, out es_444);
					bxOut = bx_441;
					bpOut = bp_440;
					esOut = es_444;
					return dx;
				case 0x10:
					struct Eq_3897 Eq_255::* sp_131 = sp_1149 - 0x02;
					(ss->*sp_131).t0000 = ss;
					es_1041 = (ss->*sp_131).t0000;
					sp_1149 = &(ds->*sp_131).t0002;
					word16 Eq_255::* di_135 = fp - 0x22;
					word16 cx_136;
					for (cx_136 = 0x10; cx_136 != 0x00; --cx_136)
					{
						es_1041->*di_135 = 0x00;
						++di_135;
					}
					cu8 al_1056 = ds->*si_26;
					byte v42_145 = bLoc2B & ~0x10;
					word16 ax_1057 = (word16) al_1056;
					Eq_274 si_1080 = (word16) si_26 + 0x01;
					bLoc2B = v42_145;
					Mem1076 = Mem146;
					if (al_1056 == 0x5E)
					{
						al_1056 = ds->*((word16) si_26 + 0x01);
						bLoc2B = v42_145 | 0x10;
						ax_1057 = DPB(ax_1057, al_1056, 0);
						si_1080 = (word16) si_26 + 0x02;
						Mem1076 = Mem151;
					}
					cu16 ax_1061 = DPB(DPB(ax_1057, 0x00, 8), al_1056, 0);
l0800_1A23:
					cu16 ax_1062 = DPB(ax_1061, al_1056, 0);
					Mem173[ss:fp - 0x22 + (ax_1062 >>u 0x03):byte] = Mem171[ss:fp - 0x22 + (ax_1062 >>u 0x03):byte] | 0x80;
					cu8 dl_1131 = al_1056;
					word16 dx_1110 = DPB(dx, al_1056, 0);
					di_1049 = ax_1062 >> 0x03;
					cx.u0 = 0x8007;
					while (true)
					{
						al_1056 = ds->*si_1080;
						byte ch_1132 = SLICE(cx, byte, 8);
						dx = DPB(dx_1724, dl_1131, 0);
						dx = DPB(dx_1724, dl_1131, 0);
						dx = DPB(dx_1724, dl_1131, 0);
						dx_1110 = DPB(dx_1724, dl_1131, 0);
						Eq_255 dx_1122 = DPB(dx_1724, dl_1131, 0);
						dx = DPB(dx_1724, dl_1131, 0);
						ax_1061 = DPB(ax_1721, al_1056, 0);
						ax_1061 = DPB(ax_1721, al_1056, 0);
						wchar_t ax_1072 = DPB(ax_1721, al_1056, 0);
						ax_1061 = DPB(ax_1721, al_1056, 0);
						si_1080 = (word32) si_1080 + 0x01;
						if (al_1056 == 0x00)
							break;
						if (al_1056 == 0x5D)
						{
							Eq_274 v61_194 = wLoc24_1725 & 0x7FFF;
							wArg08 = si_1080;
							wLoc24 = v61_194;
							Eq_274 si_197 = v61_194;
							Mem213 = Mem195;
							if ((bLoc2B & 0x01) == 0x00)
							{
								di_1049 = fn0800_1708(fp - 0x02, ds, out es_1041);
								Mem213 = Mem195;
							}
							while (true)
							{
								Eq_274 si_208 = si_197 - 0x01;
								if (si_208 < 0x00)
									break;
								Eq_255 v66_214 = (word32) wLoc28_1188 + 0x01;
								struct Eq_4527 Eq_255::* sp_218 = sp_1149 - 0x02;
								(ss->*sp_218).t0000 = es_1041;
								(ss->*(sp_218 - 0x02)).t0000 = wArg06;
								struct Eq_4538 Eq_255::* sp_224;
								wchar_t ax_227;
								Eq_255 bx_232;
								(0x0800->*wArg02)();
								wLoc28_1188 = v66_214;
								Eq_255 cx_238 = (ss->*sp_224).t0000;
								es_1041 = (ss->*sp_224).t0002;
								sp_1149 = (char *) &(ss->*sp_224).t0002 + 0x02;
								if (ax_227 < 0x00)
								{
									if ((word32) si_208 + 0x01 >= v61_194)
									{
										ptr16 bp_250;
										struct Eq_3633 * es_253;
										fn0800_1AEB(cx_238, fp - 0x02, (word32) si_208 + 0x01, di_1049, es_1041, out cx_1712, out bp_250, out si_1713, out di_1714, out es_253);
										bxOut = bx_232;
										bpOut = bp_250;
										esOut = es_253;
										return dx;
									}
									if ((bLoc2B & 0x01) != 0x00)
									{
										ptr16 bp_265;
										struct Eq_3633 * es_268;
										fn0800_1AEB(cx_238, fp - 0x02, (word32) si_208 + 0x01, di_1049, es_1041, out cx_1715, out bp_265, out si_1716, out di_1717, out es_268);
										bxOut = bx_232;
										bpOut = bp_265;
										esOut = es_268;
										return dx;
									}
									else
									{
										es_1041->*di_1049 = 0x00;
										Eq_255 di_278 = (word32) di_1049 + 0x01;
										ptr16 bp_283;
										struct Eq_3633 * es_286;
										fn0800_1AEB(cx_238, fp - 0x02, (word32) si_208 + 0x01, di_278, es_1041, out cx_1718, out bp_283, out si_1719, out di_1720, out es_286);
										bxOut = bx_232;
										bpOut = bp_283;
										esOut = es_286;
										return dx;
									}
								}
								byte al_328 = (byte) ax_227;
								cx.u0 = 0x8007;
								si_197 = si_208;
								Eq_255 ax_1095 = DPB(ax_227, al_328, 0);
								ax_1095 = DPB(ax_227, al_328, 0);
								ax_1072 = (wchar_t) DPB(ax_1095, al_328, 0);
								ax_1072 = (wchar_t) DPB(ax_1095, al_328, 0);
								bx = ax_227 >> 0x03;
								if ((Mem223[ss:fp - 0x22 + (ax_227 >>u 0x03):byte] & 0x80) != 0x00)
								{
									ax_1722 = ax_1095;
									if ((bLoc2B & 0x10) != 0x00)
										goto l0800_1AB6;
								}
								else
								{
									ax_1723 = ax_1095;
									if ((bLoc2B & 0x10) == 0x00)
									{
l0800_1AB6:
										(ss->*sp_224).t0002 = es_1041;
										(ss->*sp_224).t0000 = wArg06;
										(ss->*(sp_224 - 0x02)).t0000 = ax_1095;
										struct Eq_4600 Eq_255::* sp_347;
										(0x0800->*wArg04)();
										cx = (ss->*sp_347).t0002;
										es_1041 = (ss->*sp_347).t0004;
										sp_1149 = (char *) &(ss->*sp_347).t0004 + 0x02;
										Mem375 = Mem369;
										if ((word32) si_208 + 0x01 < v61_194)
											break;
										goto l0800_1AD3;
									}
								}
								if ((bLoc2B & 0x01) == 0x00)
								{
									es_1041->*di_1049 = al_328;
									di_1049 = (word32) di_1049 + 0x01;
								}
							}
							if ((bLoc2B & 0x01) == 0x00)
							{
								++wLoc2A_1187;
l0800_1AD3:
								es_1041->*di_1049 = 0x00;
								di_1049 = (word32) di_1049 + 0x01;
							}
							goto l0800_1723;
						}
						if (al_1056 != 0x2D || (dl_1131 > ds->*si_1080 || ds->*si_1080 == 0x5D))
							goto l0800_1A23;
						cu8 al_398 = ds->*si_1080 - dl_1131;
						si_1080 = (word32) si_1080 + 0x01;
						ax_1062 = DPB(ax_1721, al_398, 0);
						ax_1721 = ax_1062;
						dx_1724 = dx_1110;
						if (al_398 != 0x00)
						{
							cu8 dl_401 = dl_1131 + al_398;
							dx_1110 = DPB(dx_1724, dl_401, 0);
							dl_1131 = dl_401;
							do
							{
								ch_1132 = __rol(ch_1132, 0x01);
								di_1049 += (ch_1132 & 0x80) != 0x00;
								Mem413[ss:fp - 0x22 + di_1049:byte] = Mem411[ss:fp - 0x22 + di_1049:byte] | ch_1132;
								--al_398;
								cx = DPB(cx, ch_1132, 8);
								ax_1062 = DPB(ax_1721, al_398, 0);
							} while (al_398 != 0x00);
						}
					}
					ptr16 bp_186;
					struct Eq_3633 * es_188;
					fn0800_1AFF(fp - 0x02, out bp_186, out si_1705, out di_1706, out es_188);
					bxOut = bx_78 << 0x01;
					bpOut = bp_186;
					esOut = es_188;
					return dx_1122;
				case 0x11:
					ax_122 = wLoc28_1188;
					dx.u0 = 0x00;
					if ((bLoc2B & 0x01) == 0x00)
						goto l0800_187E;
					Mem59 = Mem65;
					break;
				case 0x12:
					si_121.u0 = 0x10;
l0800_1844:
					if ((ax_62 & 0x20) == 0x00)
						bLoc2B |= 0x04;
					struct Eq_4129 Eq_255::* sp_571 = sp_1149 - 0x02;
					(ss->*sp_571).t0000 = fp - 0x26;
					(ss->*(sp_571 - 0x02)).t0000 = fp - 0x28;
					(ss->*(sp_571 - 0x04)).t0000 = wLoc24_1725 & 0x7FFF;
					(ss->*(sp_571 - 0x06)).t0000 = si_121;
					(ss->*(sp_571 - 0x08)).t0000 = wArg06;
					(ss->*(sp_571 - 0x0A)).t0000 = wArg04;
					(ss->*(sp_571 - 0x0C)).t0000 = wArg02;
					Eq_274 si_620;
					ax_122 = __scantol(si_121, cx, dx, bx_78 << 0x01, fp - 0x02, si_121, ax_62, es_1041, ds, (ss->*(sp_571 - 0x0C)).t0000, (ss->*(sp_571 - 0x0A)).t0000, (ss->*(sp_571 - 0x08)).t0000, (ss->*(sp_571 - 0x06)).t0000, (ss->*(sp_571 - 0x04)).t0000, out cx, out dx, out bx, out si_620, out di_1049, out es_1041, out Top_1176);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B & 0x01) == 0x00)
						{
							++wLoc2A_1187;
l0800_187E:
							Eq_255 di_657 = fn0800_1708(fp - 0x02, ds, out es_1041);
							es_1041->*di_657 = ax_122;
							di_1049 = (word32) di_657 + 0x02;
							if ((bLoc2B & 0x04) != 0x00)
							{
								es_1041->*((word32) di_657 + 0x02) = dx;
								dx = ax_122;
								di_1049 = (word32) di_657 + 0x04;
							}
						}
						goto l0800_1723;
					}
					if (wLoc26 < 0x00)
					{
						ptr16 bp_631;
						struct Eq_3633 * es_634;
						fn0800_1AEB(cx, fp - 0x02, si_620, di_1049, es_1041, out cx_1702, out bp_631, out si_1703, out di_1704, out es_634);
						bxOut = bx;
						bpOut = bp_631;
						esOut = es_634;
						return dx;
					}
					else
					{
						ptr16 bp_643;
						struct Eq_3633 * es_645;
						fn0800_1AFF(fp - 0x02, out bp_643, out si_1697, out di_1698, out es_645);
						bxOut = bx;
						bpOut = bp_643;
						esOut = es_645;
						return dx;
					}
				case 0x13:
					Eq_3864 bp_96;
					Eq_3865 bx_97;
					Eq_255 cx_98;
					Eq_255 di_99;
					Eq_255 es_100;
					Eq_274 si_101;
					Eq_255 ax_95 = fn0800_1898(bx_78, cx, bx_78 << 0x01, fp - 0x02, si_26, ax_62, es_1041, ds, out cx_98, out bx_97, out bp_96, out si_101, out di_99, out es_100);
					ptr16 bp_109;
					Eq_255 bx_110;
					struct Eq_3633 * es_113;
					fn0800_1898(ax_95, cx_98, bx_97, bp_96, si_101, di_99, es_100, ds, out cx_1691, out bx_110, out bp_109, out si_1692, out di_1693, out es_113);
					bxOut = bx_110;
					bpOut = bp_109;
					esOut = es_113;
					return dx;
				case 0x14:
					bLoc2B &= 223;
					Mem59 = Mem90;
					break;
				case 0x15:
					bLoc2B |= 0x20;
					Mem59 = Mem86;
					break;
				}
			}
			ptr16 bp_809;
			struct Eq_3633 * es_812;
			fn0800_1AEB(cx, fp - 0x02, si_26, ax_62, es_1041, out cx_1679, out bp_809, out si_1680, out di_1681, out es_812);
			bxOut = bx_78;
			bpOut = bp_809;
			esOut = es_812;
			return dx;
		}
l0800_172F:
		Eq_255 v17_830 = (word32) wLoc28_1188 + 0x01;
		union Eq_255 Eq_255::* sp_836 = sp_1149 - 0x02;
		ss->*sp_836 = wArg06;
		Eq_255 ax_822 = (int16) al_32;
		union Eq_255 Eq_255::* sp_838;
		Eq_255 ax_841;
		(0x0800->*wArg02)();
		wLoc28_1188 = v17_830;
		cx = ss->*sp_838;
		sp_1149 = (char *) sp_838 + 0x02;
		Eq_255 ax_858 = ax_841;
		if (ax_841 < 0x00)
		{
l0800_1764:
			ptr16 bp_995;
			struct Eq_3633 * es_998;
			fn0800_1AEB(cx, fp - 0x02, si_26, ax_822, es_1041, out cx_1676, out bp_995, out si_1677, out di_1678, out es_998);
			bxOut = bx;
			bpOut = bp_995;
			esOut = es_998;
			return dx;
		}
		di_1049 = ax_822;
		if (ax_822 >= 0x00 && ds->*((word32) ax_822 + 0x055A) == 0x01)
		{
			do
			{
				ci8 bl_919 = (byte) ax_858;
				Eq_255 bx_925 = DPB(ax_858, bl_919, 0);
				if (bl_919 < 0x00 || ds->*((word32) bx_925 + 0x055A) != 0x01)
				{
					union Eq_255 Eq_255::* sp_937 = sp_1149 - 0x02;
					ss->*sp_937 = wArg06;
					ss->*(sp_937 - 0x02) = bx_925;
					struct Eq_3719 Eq_255::* sp_942;
					(0x0800->*wArg04)();
					cx = (ss->*sp_942).t0002;
					sp_1149 = (char *) &(ds->*sp_942).t0002 + 0x02;
					--wLoc28_1188;
					Mem29 = Mem968;
					goto l0800_1726;
				}
				Eq_255 v25_970 = (word32) wLoc28_1188 + 0x01;
				struct Eq_3738 Eq_255::* sp_974 = sp_1149 - 0x02;
				(ss->*sp_974).t0000 = wArg06;
				union Eq_255 Eq_255::* sp_976;
				Eq_255 ax_977;
				(0x0800->*wArg02)();
				wLoc28_1188 = v25_970;
				cx = ss->*sp_976;
				sp_1149 = (char *) sp_976 + 0x02;
				ax_858 = ax_977;
			} while (ax_977 > 0x00);
			goto l0800_1764;
		}
	} while (ax_841 == ax_822);
	ss->*sp_838 = wArg06;
	ss->*(sp_838 - 0x02) = ax_841;
	struct Eq_3770 Eq_255::* sp_881;
	Eq_255 bx_889;
	Eq_255 dx_891;
	(0x0800->*wArg04)();
	Eq_255 cx_897 = (ss->*sp_881).t0002;
	ptr16 bp_903;
	struct Eq_3633 * es_906;
	fn0800_1AEB(cx_897, fp - 0x02, si_26, ax_822, es_1041, out cx_1685, out bp_903, out si_1686, out di_1687, out es_906);
	bxOut = bx_889;
	bpOut = bp_903;
	esOut = es_906;
	return dx_891;
}

// 0800:1708: Register Eq_4715 fn0800_1708(Register (memptr Eq_255 Eq_3970) bp, Register Eq_255 ds, Register out Eq_255 esOut)
Eq_4715 fn0800_1708(struct Eq_3970 Eq_255::* bp, Eq_255 ds, union Eq_255 & esOut)
{
	union Eq_4715 Eq_255::* di_7 = (ss->*bp).ptr000C;
	if (((ss->*(bp - 0x29)).t0000 & 0x20) == 0x00)
	{
		Eq_4715 di_12 = ds->*di_7;
		(ss->*bp).ptr000C = (union Eq_4715 Eq_255::*) ((char *) (ss->*bp).ptr000C + 0x02);
		esOut = ds;
		return di_12;
	}
	else
	{
		Eq_4715 es_di_20 = ds->*di_7;
		(ss->*bp).ptr000C = (union Eq_4715 Eq_255::*) ((char *) (ss->*bp).ptr000C + 0x04);
		esOut = SLICE(es_di_20, selector, 16);
		return (word16) es_di_20;
	}
}

// 0800:1898: Register Eq_255 fn0800_1898(Register Eq_255 ax, Register Eq_255 cx, Register Eq_3865 bx, Register Eq_3864 bp, Register Eq_274 si, Register Eq_255 di, Register Eq_255 es, Register Eq_255 ds, Register out ptr16 cxOut, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr16 Eq_3941) esOut)
Eq_255 fn0800_1898(Eq_255 ax, Eq_255 cx, Eq_3865 bx, Eq_3864 bp, Eq_274 si, Eq_255 di, Eq_255 es, Eq_255 ds, ptr16 & cxOut, ptr16 & bxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut, struct Eq_3941 & esOut)
{
	ptr16 bx_14;
	ptr16 cx_15;
	ptr16 bp_18;
	ptr16 di_19;
	struct Eq_3941 * es_20;
	ptr16 si_21;
	Eq_255 ax_13 = fn0800_1B06(ax, cx, bx, bp, si, di, es, ds, out cx_15, out bx_14, out bp_18, out si_21, out di_19, out es_20);
	cxOut = cx_15;
	bxOut = bx_14;
	bpOut = bp_18;
	siOut = si_21;
	diOut = di_19;
	esOut = es_20;
	return ax_13;
}

// 0800:18AF: void fn0800_18AF(Register ci16 ax, Register Eq_3864 bp, Register Eq_274 si, Register Eq_255 di, Register Eq_255 es)
void fn0800_18AF(ci16 ax, Eq_3864 bp, Eq_274 si, Eq_255 di, Eq_255 es)
{
	fn0800_1B2C(ax, bp, si, di, es);
}

// 0800:18CF: void fn0800_18CF(Register ci16 ax, Register Eq_3864 bp, Register Eq_274 si, Register Eq_255 di, Register Eq_255 es)
void fn0800_18CF(ci16 ax, Eq_3864 bp, Eq_274 si, Eq_255 di, Eq_255 es)
{
	fn0800_1B2C(ax, bp, si, di, es);
}

// 0800:196F: Register Eq_255 fn0800_196F(Register Eq_255 ax, Register Eq_255 cx, Register Eq_3865 bx, Register Eq_3864 bp, Register Eq_274 si, Register Eq_255 di, Register Eq_255 es, Register Eq_255 ds, Register out ptr16 cxOut, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr16 Eq_3886) esOut)
Eq_255 fn0800_196F(Eq_255 ax, Eq_255 cx, Eq_3865 bx, Eq_3864 bp, Eq_274 si, Eq_255 di, Eq_255 es, Eq_255 ds, ptr16 & cxOut, ptr16 & bxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut, struct Eq_3886 & esOut)
{
	ptr16 bx_14;
	ptr16 cx_15;
	ptr16 bp_18;
	ptr16 di_19;
	struct Eq_3886 * es_20;
	ptr16 si_21;
	Eq_255 ax_13 = fn0800_1B06(ax, cx, bx, bp, si, di, es, ds, out cx_15, out bx_14, out bp_18, out si_21, out di_19, out es_20);
	cxOut = cx_15;
	bxOut = bx_14;
	bpOut = bp_18;
	siOut = si_21;
	diOut = di_19;
	esOut = es_20;
	return ax_13;
}

// 0800:1AEB: Register word16 fn0800_1AEB(Register Eq_255 cx, Register Eq_3864 bp, Register Eq_274 si, Register Eq_255 di, Register Eq_255 es, Register out ptr16 cxOut, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr16 Eq_3989) esOut)
word16 fn0800_1AEB(Eq_255 cx, Eq_3864 bp, Eq_274 si, Eq_255 di, Eq_255 es, ptr16 & cxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut, struct Eq_3989 & esOut)
{
	ss->*(v4 - 0x02) = ss->*((word32) bp + 0x08);
	ss->*(v4 - 0x04) = ~0x00;
	struct Eq_4838 Eq_255::* sp_13;
	(0x0800->*(ss->*((word32) bp + 0x06)))();
	ptr16 cx_24 = (ss->*sp_13).ptr0002;
	(ss->*(bp - 0x28)).t0000 = (ss->*(bp - 0x28)).t0000 - ((ss->*(bp - 0x28)).t0000 < 0x01);
	ptr16 bp_32;
	ptr16 di_33;
	struct Eq_3989 * es_34;
	ptr16 si_35;
	word16 ax_31 = fn0800_1AFF(bp, out bp_32, out si_35, out di_33, out es_34);
	cxOut = cx_24;
	bpOut = bp_32;
	siOut = si_35;
	diOut = di_33;
	esOut = es_34;
	return ax_31;
}

// 0800:1AFF: Register Eq_4313 fn0800_1AFF(Register Eq_3864 bp, Register out Eq_4313 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr16 Eq_4316) esOut)
Eq_4313 fn0800_1AFF(Eq_3864 bp, union Eq_4313 & bpOut, ptr16 & siOut, ptr16 & diOut, struct Eq_4316 & esOut)
{
	struct Eq_4316 * es_6 = (ss->*v4).ptr0000;
	Eq_4313 ax_9 = ss->*(bp - 0x28);
	ptr16 di_10 = (ss->*v4).ptr0002;
	ptr16 si_12 = (ss->*v4).ptr0004;
	bpOut = ss->*bp;
	siOut = si_12;
	diOut = di_10;
	esOut = es_6;
	return ax_9;
}

// 0800:1B06: Register Eq_255 fn0800_1B06(Register Eq_255 ax, Register Eq_255 cx, Register Eq_3865 bx, Register Eq_3864 bp, Register Eq_274 si, Register Eq_255 di, Register Eq_255 es, Register Eq_255 ds, Register out ptr16 cxOut, Register out Eq_3865 bxOut, Register out Eq_3864 bpOut, Register out Eq_274 siOut, Register out Eq_255 diOut, Register out Eq_255 esOut)
Eq_255 fn0800_1B06(Eq_255 ax, Eq_255 cx, Eq_3865 bx, Eq_3864 bp, Eq_274 si, Eq_255 di, Eq_255 es, Eq_255 ds, ptr16 & cxOut, union Eq_3865 & bxOut, union Eq_3864 & bpOut, union Eq_274 & siOut, union Eq_255 & diOut, union Eq_255 & esOut)
{
	do
	{
		ss->*(bp - 0x26) = (word16) (ss->*(bp - 0x26)) + 0x01;
		ss->*(v4 - 0x02) = ss->*((word32) bp + 0x08);
		struct Eq_4922 Eq_255::* sp_13;
		int8 Top_14;
		Eq_255 ax_18;
		Eq_3865 bx_20;
		(0x0800->*(ss->*((word32) bp + 0x04)))();
		cx = (ss->*sp_13).t0000;
		ax = ax_18;
		ci8 al_46 = (byte) ax_18;
		if (ax_18 <= 0x00)
		{
			if (ax_18 == 0x00)
				break;
			Eq_255 cx_29 = (ss->*sp_13).t0002;
			Eq_3864 bp_35;
			ptr16 cx_36;
			Eq_255 di_37;
			Eq_255 es_38;
			Eq_274 si_39;
			Eq_255 ax_34 = fn0800_1AEB(cx_29, bp, si, di, es, out cx_36, out bp_35, out si_39, out di_37, out es_38);
			cxOut = cx_36;
			bxOut = bx_20;
			bpOut = bp_35;
			siOut = si_39;
			diOut = di_37;
			esOut = es_38;
			return ax_34;
		}
		ax = DPB(ax_18, al_46, 0);
		if (al_46 < 0x00)
			break;
		bx = bx_20;
	} while (ds->*((word32) ax + 0x055A) == 0x01);
	Eq_255 cx_63 = (ss->*sp_13).t0002;
	ptr16 cx_71;
	Eq_255 ax_73;
	Eq_3865 bx_75;
	(ss->*((word32) cx_63 + 0x03))();
	cxOut = cx_71;
	bxOut = bx_75;
	bpOut = bp;
	siOut = si;
	diOut = di;
	esOut = es;
	return ax_73;
}

// 0800:1B2C: void fn0800_1B2C(Register ci16 ax, Register Eq_3864 bp, Register Eq_274 si, Register Eq_255 di, Register Eq_255 es)
void fn0800_1B2C(ci16 ax, Eq_3864 bp, Eq_274 si, Eq_255 di, Eq_255 es)
{
	struct Eq_4972 Eq_4984::* sp_16 = fp;
	int8 Top_107 = 0x00;
	ui16 dx_100 = 0x00;
	ui16 cx_151 = 0x04;
	while (true)
	{
		ci16 v8_10 = (ss->*(bp - 0x22)).w0000 - 0x01;
		(ss->*(bp - 0x22)).w0000 = v8_10;
		ci8 cl_46 = (byte) cx_151;
		if (v8_10 < 0x00)
			break;
		ui16 Eq_4984::* sp_17 = sp_16 - 0x02;
		ss->*sp_17 = dx_100;
		ss->*(sp_17 - 0x02) = cx_151;
		++ss->*(bp - 0x26);
		ss->*(sp_17 - 0x04) = ss->*((word32) bp + 0x08);
		struct Eq_5013 Eq_4984::* sp_29;
		ci16 ax_33;
		(0x0800->*(ss->*((word32) bp + 0x04)))();
		word16 cx_39 = (ss->*sp_29).w0002;
		cu8 al_50 = (byte) ax_33;
		cl_46 = (byte) cx_39;
		dx_100 = (ss->*sp_29).w0004;
		sp_16 = (struct Eq_4972 Eq_4984::*) (&(ss->*sp_29).w0004 + 0x01);
		ax = ax_33;
		ax = DPB(ax_33, al_50, 0);
		ax = DPB(ax_33, al_50, 0);
		if (ax_33 <= 0x00)
			goto l0800_1B7D;
		word16 cx_148;
		word16 cx_146;
		word16 cx_144;
		word16 cx_142;
		word16 cx_139;
		word16 cx_137;
		--cl_46;
		word16 cx_136 = DPB(cx_39, cl_46 - 0x01, 0);
		word16 cx_138 = DPB(cx_137, cl_46 - 0x01, 0);
		word16 cx_135 = DPB(cx_139, cl_46 - 0x01, 0);
		word16 cx_143 = DPB(cx_142, cl_46 - 0x01, 0);
		word16 cx_141 = DPB(cx_144, cl_46 - 0x01, 0);
		word16 cx_147 = DPB(cx_146, cl_46 - 0x01, 0);
		cx_141 = DPB(cx_148, cl_46 - 0x01, 0);
		if (cl_46 < 0x01)
			goto l0800_1B7D;
		cu8 ch_111 = al_50 - 0x30;
		cx_137 = DPB(cx_136, al_50 - 0x30, 8);
		cx_139 = DPB(cx_138, al_50 - 0x30, 8);
		if (al_50 < 0x30)
			goto l0800_1B7D;
		if (al_50 >= 0x3A)
		{
			cu8 ch_110 = al_50 - 0x41;
			cx_142 = DPB(cx_135, al_50 - 0x41, 8);
			cx_144 = DPB(cx_143, al_50 - 0x41, 8);
			if (al_50 < 0x41)
				goto l0800_1B7D;
			if (al_50 >= 0x47)
			{
				ch_110 = al_50 - 0x61;
				cx_146 = DPB(cx_141, al_50 - 0x61, 8);
				cx_148 = DPB(cx_147, al_50 - 0x61, 8);
				if (al_50 < 0x61 || al_50 >= 0x67)
					goto l0800_1B7D;
			}
			ch_111 = ch_110 + 0x0A;
			cx_135 = DPB(cx_141, ch_111, 8);
		}
		cx_151 = DPB(cx_135, ch_111, 8);
		dx_100 = DPB(dx_100 << 0x04, (byte) (dx_100 << 0x04) + ch_111, 0);
	}
	ax = 0x00;
l0800_1B7D:
	if (cl_46 == 0x04)
	{
		Eq_255 cx_74 = (ss->*sp_16).t0000;
		fn0800_1AEB(cx_74, bp, si, di, es, out cx_183, out bp_184, out si_185, out di_186, out es_187);
	}
	else
	{
		Eq_255 cx_95 = (ss->*sp_16).t0000;
		(ss->*((word32) cx_95 + 0x03))();
	}
}

// 0800:1B92: void __scantod(Register Eq_255 ds)
void __scantod(Eq_255 ds)
{
	(*((word32) ds + 0x05E2))();
}

// 0800:1B96: Register int8 __scanrslt(Register Eq_255 ds)
int8 __scanrslt(Eq_255 ds)
{
	int8 Top_7;
	(*((word32) ds + 0x05E4))();
	return Top_7;
}

// 0800:1B9A: Register int8 __scanpop(Register Eq_255 ds)
int8 __scanpop(Eq_255 ds)
{
	int8 Top_7;
	(*((word32) ds + 1510))();
	return Top_7;
}

// 0800:1B9E: FlagGroup bool fn0800_1B9E(Register cu8 cl, Register Eq_255 bl)
bool fn0800_1B9E(cu8 cl, Eq_255 bl)
{
	cu8 bl_8 = (byte) bx;
	bool C_40;
	cu8 bl_16 = bl_8 - 0x30;
	if (bl_8 >= 0x30)
	{
		if (bl_8 <= 0x39)
		{
l0800_1BBB:
			if (bl_16 < cl)
			{
				C_40 = false;
				return C_40;
			}
			goto l0800_1BC7;
		}
		if (bl_8 <= 0x5A)
			bl_16 = bl_8 - 55;
		else
			bl_16 = bl_8 - 0x57;
		if (bl_16 > 0x09)
			goto l0800_1BBB;
	}
l0800_1BC7:
	C_40 = true;
	return C_40;
}

// 0800:1BCC: Register Eq_255 __scantol(Register Eq_255 ax, Register Eq_255 cx, Register Eq_255 dx, Register Eq_255 bx, Register mp16 bp, Register Eq_255 si, Register Eq_255 di, Register Eq_255 es, Register Eq_255 ds, Stack Eq_255 wArg02, Stack Eq_255 wArg04, Stack Eq_255 wArg06, Stack Eq_255 wArg08, Stack Eq_255 wArg0A, Register out Eq_255 cxOut, Register out Eq_4189 dxOut, Register out Eq_4190 bxOut, Register out Eq_255 siOut, Register out Eq_255 diOut, Register out Eq_255 esOut, Register out Eq_4194 TopOut)
Eq_255 __scantol(Eq_255 ax, Eq_255 cx, Eq_255 dx, Eq_255 bx, mp16 bp, Eq_255 si, Eq_255 di, Eq_255 es, Eq_255 ds, Eq_255 wArg02, Eq_255 wArg04, Eq_255 wArg06, Eq_255 wArg08, Eq_255 wArg0A, union Eq_255 & cxOut, union Eq_4189 & dxOut, union Eq_4190 & bxOut, union Eq_255 & siOut, union Eq_255 & diOut, union Eq_255 & esOut, union Eq_4194 & TopOut)
{
	Eq_4194 Top_126 = 0x00;
	mp16 wLoc02_580 = bp;
	struct Eq_5181 Eq_5235::* bp_310 = fp - 0x02;
	Eq_255 wLoc0A_581 = si;
	Eq_255 wLoc0C_582 = di;
	byte bLoc07_583 = 0x00;
	word16 wLoc06_584 = 0x00;
	word16 wLoc04_585 = 0x01;
	struct Eq_5193 Eq_5235::* sp_129 = fp - 0x0E;
	Eq_255 wLoc0E_586 = es;
	Eq_4189 di_139 = 577;
	do
	{
		Eq_4189 dx_422;
		Eq_255 ax_527;
		word16 wLoc04_623;
		Eq_255 si_137;
		word16 v9_27 = wLoc06_584 + 0x01;
		union Eq_255 Eq_5235::* sp_32 = sp_129 - 0x02;
		ss->*sp_32 = wArg06;
		union Eq_255 Eq_5235::* sp_34;
		Eq_255 ax_41;
		Eq_255 bx_118;
		(0x0800->*wArg02)();
		wLoc06_584 = v9_27;
		cx = ss->*sp_34;
		sp_129 = (struct Eq_5193 Eq_5235::*) ((char *) sp_34 + 0x02);
		Eq_255 ax_113 = ax_41;
		byte al_56 = (byte) ax_41;
		if (ax_41 < 0x00)
			goto l0800_1C5A;
		Eq_255 ax_57 = (int16) al_56;
		ax = bx_118;
		bx = ax_57;
	} while (((byte) ax_57 & 0x80) == 0x00 && (ds->*((word32) ax_57 + 577) & 0x01) != 0x00);
	byte al_144 = (byte) ax_57;
	ax_113 = ax_57;
	ax_113 = DPB(ax_57, al_144, 0);
	ax_113 = DPB(ax_57, al_144, 0);
	--wArg0A;
	si_137 = si;
	if (wArg0A < 0x01)
	{
l0800_1C61:
		wLoc04_623 = 0x00;
l0800_1C66:
		union Eq_255 Eq_5235::* sp_224 = sp_129 - 0x02;
		ss->*sp_224 = wArg06;
		ss->*(sp_224 - 0x02) = ax_113;
		struct Eq_5284 Eq_5235::* sp_231;
		(0x0800->*wArg04)();
		cx = (ss->*sp_231).t0002;
		sp_129 = (struct Eq_5193 Eq_5235::*) ((char *) &(ss->*sp_231).t0002 + 0x02);
		ax_527.u0 = 0x00;
		dx_422.u0 = 0x00;
		goto l0800_1D1F;
	}
	if (al_144 != 0x2B)
	{
		if (al_144 != 0x2D)
			goto l0800_1C24;
		bLoc07_583 = 0x01;
	}
	wArg0A -= 0x02;
	si_137 = si;
	if (wArg0A < 0x02)
		goto l0800_1C61;
	ss->*sp_34 = wArg06;
	union Eq_255 Eq_5235::* sp_103;
	Eq_255 ax_116;
	(0x0800->*wArg02)();
	wLoc06_584 = v9_27 + 0x01;
	cx = ss->*sp_103;
	sp_129 = (struct Eq_5193 Eq_5235::*) ((char *) sp_103 + 0x02);
	ax_113 = ax_116;
	al_144 = (byte) ax_116;
	if (ax_116 < 0x00)
	{
l0800_1C5A:
		wLoc04_623 = ~0x00;
		si_137 = si;
		goto l0800_1C66;
	}
l0800_1C24:
	cu8 cl_188 = (byte) wArg08;
	ax_165 = DPB(ax_113, al_144, 0);
	ax_113 = DPB(ax_113, al_144, 0);
	ax_113 = DPB(ax_113, al_144, 0);
	Eq_255 ax_165 = DPB(ax_113, al_144, 0);
	si_137.u0 = 0x00;
	di_139.u0 = 0x00;
	cx = wArg08;
	cx = DPB(wArg08, cl_188, 0);
	cx = DPB(wArg08, cl_188, 0);
	if (wArg08 != 0x00)
	{
		if (wArg08 > 0x24 || cl_188 < 0x02)
			goto l0800_1C61;
		if (al_144 == 0x30)
		{
			if (cl_188 != 0x10)
				goto l0800_1CA5;
			Eq_255 v30_283 = wArg0A - 0x01;
			wArg0A = v30_283;
			if (v30_283 >= 0x00)
			{
				word16 v31_287 = wLoc06_584 + 0x01;
				struct Eq_5332 Eq_5235::* sp_291 = sp_129 - 0x02;
				(ss->*sp_291).t0000 = wArg06;
				union Eq_255 Eq_5235::* sp_293;
				(0x0800->*wArg02)();
				byte al_304 = (byte) ax_165;
				wLoc06_584 = v31_287;
				ax_165 = DPB(ax_165, al_304, 0);
				cx = ss->*sp_293;
				sp_129 = (struct Eq_5193 Eq_5235::*) ((char *) sp_293 + 0x02);
				if (al_304 != 0x78 && al_304 != 88)
					goto l0800_1CCD;
				goto l0800_1CA5;
			}
l0800_1C78:
			goto l0800_1D0F;
		}
	}
	else
	{
		wArg08.u0 = 0x0A;
		if (al_144 == 0x30)
		{
			Eq_255 v62_149 = wArg0A - 0x01;
			wArg0A = v62_149;
			if (v62_149 >= 0x00)
			{
				word16 v63_153 = wLoc06_584 + 0x01;
				struct Eq_5608 Eq_5235::* sp_158 = sp_129 - 0x02;
				(ss->*sp_158).t0000 = wArg06;
				union Eq_255 Eq_5235::* sp_160;
				(0x0800->*wArg02)();
				byte al_178 = (byte) ax_165;
				wLoc06_584 = v63_153;
				ax_165 = DPB(ax_165, al_178, 0);
				cx = ss->*sp_160;
				sp_129 = (struct Eq_5193 Eq_5235::*) ((char *) sp_160 + 0x02);
				wArg08.u0 = 0x08;
				if (al_178 != 0x78 && al_178 != 88)
				{
l0800_1CCD:
					cx = (ss->*bp_310).t000A;
					Eq_255 ax_324 = ax_165;
					if (!fn0800_1B9E((byte) cx, ax_165))
					{
l0800_1D03:
						struct Eq_5419 Eq_5235::* sp_491 = sp_129 - 0x02;
						(ss->*sp_491).t0000 = (ss->*bp_310).t0008;
						(ss->*(sp_491 - 0x02)).t0000 = ax_324;
						struct Eq_5433 Eq_5235::* sp_496;
						(0x0800->*(ss->*bp_310).ptr0006)();
						cx = (ss->*sp_496).t0002;
						(ss->*(bp_310 - 0x04)).t0000 = (ss->*(bp_310 - 0x04)).t0000 - 0x01;
						sp_129 = (struct Eq_5193 Eq_5235::*) ((char *) &(ss->*sp_496).t0002 + 0x02);
l0800_1D0F:
						dx_422 = di_139;
						ax_527 = si_137;
						if ((ss->*(bp_310 - 0x05)).t0000 != 0x00)
						{
							ax_527 = -si_137;
							dx_422 = -di_139 - (ax_527 == 0x00);
						}
						goto l0800_1D1F;
					}
					Eq_5405 dx_ax_330 = (ss->*bp_310).t000A * si_137;
					ui32 di_si_576 = (word32) dx_ax_330 + SEQ(di_139, ax_165);
					ax_165 = (word16) dx_ax_330;
					dx = SLICE(dx_ax_330, word16, 16);
					si_137 = (word16) di_si_576;
					di_139 = SLICE(di_si_576, word16, 16);
					if (di_139 != 0x00)
					{
						do
						{
							ci16 v47_343 = (ss->*bp_310).w000C - 0x01;
							(ss->*bp_310).w000C = v47_343;
							if (v47_343 < 0x00)
								goto l0800_1D0F;
							(ss->*(bp_310 - 0x04)).t0000 = (word32) (ss->*(bp_310 - 0x04)).t0000 + 0x01;
							struct Eq_5526 Eq_5235::* sp_352 = sp_129 - 0x02;
							(ss->*sp_352).t0000 = (ss->*bp_310).t0008;
							word16 sp_354;
							Eq_255 ax_361;
							Eq_255 bx_363;
							(0x0800->*(ss->*bp_310).ptr0004)();
							cx = (ss->*bp_310).t000A;
							sp_129 = sp_354 + 0x02;
							ax_324 = ax_361;
							bx_118 = bx_363;
							if (!fn0800_1B9E((byte) cx, ax_361))
								goto l0800_1D03;
							Eq_5550 dx_ax_387 = cx * si_137;
							Eq_5552 dx_ax_396 = cx * di_139;
							ui32 ax_si_579 = (word32) dx_ax_387 + SEQ((word16) dx_ax_396, ax_361);
							Eq_4189 ax_401 = SLICE(ax_si_579, word16, 16);
							byte dl_409 = (bool) (ax_401 < 0x00) + (SLICE(dx_ax_396, byte, 16) + SLICE(dx_ax_396, byte, 24));
							cx = SLICE(dx_ax_387, word16, 16);
							si_137 = (word16) ax_si_579;
							ax_165 = (word16) dx_ax_387;
							di_139 = ax_401;
							dx = DPB(SLICE(dx_ax_396, word16, 16), dl_409, 0);
						} while (dl_409 == 0x00);
						bool C_418 = SLICE(cond((byte) (ss->*(bp_310 - 0x05)).t0000.u1 + 0x00FF), bool, 1);
						(ss->*(bp_310 - 0x02)).t0000.u0 = 0x02;
						ax_527 = DPB(~0x00, C_418 + ~0x00, 8);
						dx_422 = SLICE(cond(C_418 + ~0x00), bool, 1) + 0x7FFF;
l0800_1D1F:
						word16 Eq_255::* di_545 = (ss->*bp_310).ptr000E;
						ds->*di_545 = (word16) ((word32) (ss->*(bp_310 - 0x04)).t0000 + ds->*di_545);
						Eq_4190 bx_554 = (ss->*(bp_310 - 0x02)).t0000;
						ds->*(ss->*bp_310).ptr0010 = bx_554;
						Eq_255 es_559 = (ss->*sp_129).t0000;
						struct Eq_5391 Eq_5235::* sp_560 = &(ss->*sp_129).t0002;
						Eq_255 di_561 = (ss->*sp_560).t0000;
						Eq_255 si_563 = (ss->*sp_560).t0002;
						cxOut = cx;
						dxOut = dx_422;
						bxOut = bx_554;
						siOut = si_563;
						diOut = di_561;
						esOut = es_559;
						TopOut = Top_126;
						return ax_527;
					}
l0800_1CBE:
					ci16 v39_431 = (ss->*bp_310).w000C - 0x01;
					(ss->*bp_310).w000C = v39_431;
					if (v39_431 < 0x00)
						goto l0800_1D0F;
					(ss->*(bp_310 - 0x04)).t0000 = (word32) (ss->*(bp_310 - 0x04)).t0000 + 0x01;
					struct Eq_5482 Eq_5235::* sp_443 = sp_129 - 0x02;
					(ss->*sp_443).t0000 = (ss->*bp_310).t0008;
					word16 sp_445;
					(0x0800->*(ss->*bp_310).ptr0004)();
					sp_129 = sp_445 + 0x02;
					goto l0800_1CCD;
				}
				wArg08.u0 = 0x10;
l0800_1CA5:
				goto l0800_1CBE;
			}
			goto l0800_1C78;
		}
	}
	cx = wArg08;
	ax_113 = ax_165;
	if (!fn0800_1B9E((byte) wArg08, ax_165))
	{
		ax_165.u0 = 0x00;
		si_137 = ax_165;
		goto l0800_1CBE;
	}
	goto l0800_1C61;
}

// 0800:1D4E: void _tell(Register (ptr16 Eq_414) ds, Stack int16 wArg02)
void _tell(struct Eq_414 * ds, int16 wArg02)
{
	_lseek(ds, wArg02, 0x00, 0x00, 0x01, out dx_40);
}

