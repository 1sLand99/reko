// switch.c
// Generated by decompiling switch
// using Reko decompiler version 0.8.0.0.

#include "switch.h"

// 000082F0: Register word32 _init(Register ptr32 pc)
word32 _init(ptr32 pc)
{
	call_gmon_start(pc);
	frame_dummy();
	word32 r4_6;
	__do_global_ctors_aux(out r4_6);
	return r4_6;
}

// 00008314: Register word32 abort(Register ptr32 pc)
word32 abort(ptr32 pc)
{
	<anonymous> ** ip_5 = pc + globals->dw8320;
	word32 sp_6;
	word32 ip_7;
	word32 pc_8;
	(*ip_5)();
	return ip_7;
}

// 00008324: void __libc_start_main(Register ptr32 pc)
void __libc_start_main(ptr32 pc)
{
	<anonymous> ** ip_5 = pc + globals->dw8330;
	word32 sp_6;
	word32 ip_7;
	word32 pc_8;
	(*ip_5)();
}

// 00008334: void _start(Register ptr32 pc, Register word32 r4, Register word32 r5, Register word32 r6, Register word32 r8, Stack word32 dwArg00)
void _start(ptr32 pc, word32 r4, word32 r5, word32 r6, word32 r8, word32 dwArg00)
{
	uint16 * r0_14 = globals->ptr8364;
	__libc_start_main(pc);
	abort(pc);
	if (!Z)
		*r0_14 = (uint16) r8;
	if (Z)
		call_gmon_start(pc);
	else
		call_gmon_start(pc);
}

// 0000836C: void call_gmon_start(Register ptr32 pc)
void call_gmon_start(ptr32 pc)
{
	word32 r3_12 = pc + globals->dw8394;
	if (r3_12 == 0x00)
		;
}

// 0000839C: void __do_global_dtors_aux()
void __do_global_dtors_aux()
{
	byte * r5_10 = globals->ptr83F4;
	if ((word32) *r5_10 != 0x00)
		return;
	word32 ** r4_25 = globals->ptr83F8;
	word32 r2_27 = **r4_25;
	if (r2_27 == 0x00)
		*r5_10 = 0x01;
	else
		*r4_25 = (word32 **) ((char *) *r4_25 + 0x04);
}

// 000083FC: void call___do_global_dtors_aux()
void call___do_global_dtors_aux()
{
}

// 00008404: void frame_dummy()
void frame_dummy()
{
	word32 * r0_3 = globals->ptr8424;
	if (*r0_3 == 0x00)
		return;
	word32 r3_14 = globals->dw8428;
	if (r3_14 == 0x00)
		return;
	word32 sp_17;
	word32 r0_18;
	word32 pc_19;
	word32 r3_20;
	byte NZCV_21;
	byte Z_22;
	fn00000000();
}

// 0000842C: void call_frame_dummy()
void call_frame_dummy()
{
}

// 00008434: Register Eq_141 frobulate(Register Eq_141 r0, Stack Eq_141 dwArg00, Register out ptr32 fpOut)
Eq_141 frobulate(Eq_141 r0, Eq_141 dwArg00, ptr32 & fpOut)
{
	word32 fp_25;
	*fpOut = dwArg00;
	return __divsi3(r0 * r0, 1337);
}

// 00008470: Register word32 bazulate(Register Eq_141 r0, Register Eq_141 r1)
word32 bazulate(Eq_141 r0, Eq_141 r1)
{
	struct Eq_156 * fp_23;
	word32 r0_28 = __divsi3(r0 + r1, frobulate(r0, r1, out fp_23));
	word32 * fp_33;
	__divsi3(r0_28, frobulate(fp_23->tFFFFFFE8, dwArg00, out fp_33));
	return *fp_33;
}

// 000084D4: Register word32 switcheroo(Register Eq_141 r0)
word32 switcheroo(Eq_141 r0)
{
	ptr32 fp_19;
	switch (r0)
	{
	case 0x00:
	case 0x01:
		goto l00008540;
	case 0x02:
	case 0x03:
	case 0x04:
		frobulate(r0, r0, out fp_19);
		break;
	case 0x05:
	case 0x07:
l00008540:
		fp_19 = bazulate(0x00, 0x00);
		break;
	case 0x06:
		frobulate(r0 - 0x03, r0, out fp_19);
		break;
	case 0x08:
		bazulate(r0, r0);
		goto l00008540;
	}
	return *(fp_19 - -0x04);
}

// 0000855C: void main(Register Eq_141 r0)
void main(Eq_141 r0)
{
	switcheroo(r0);
}

// 00008588: Register Eq_141 __divsi3(Register Eq_141 r0, Register Eq_141 r1)
Eq_141 __divsi3(Eq_141 r0, Eq_141 r1)
{
	Eq_141 r1_107;
	int32 ip_4 = r0 ^ r1;
	uint32 r3_106 = 0x01;
	Eq_141 r2_100 = 0x00;
	r1_107 = r1;
	if (r1 < 0x00)
		r1_107 = 0x00 - r1;
	if (r1 == 0x00)
	{
		__div0(r0);
		return 0x00;
	}
	else
	{
		if (r0 < 0x00)
			r0 = 0x00 - r0;
		if (r0 >= r1_107)
		{
			do
			{
				bool C_117 = cond(r1_107 - 0x10000000);
				if (r1_107 < 0x10000000)
					C_117 = cond(r1_107 - r0);
				if (!C_117)
					r1_107 = r1_107 << 0x04;
				if (!C_117)
					r3_106 = r3_106 << 0x04;
			} while (C_117);
			do
			{
				bool C_111 = cond(r1_107 - 0x80000000);
				if (r1_107 < 0x80000000)
					C_111 = cond(r1_107 - r0);
				if (!C_111)
					r1_107 = r1_107 << 0x01;
				if (!C_111)
					r3_106 = r3_106 << 0x01;
			} while (C_111);
			do
			{
				Eq_141 r0_105;
				r0_105 = r0;
				if (r0 >= r1_107)
					r0_105 = r0 - r1_107;
				if (r0 >= r1_107)
					r2_100 = r2_100 | r3_106;
				Eq_141 r0_103;
				r0_103 = r0_105;
				if (r0_105 >= r1_107 >> 0x01)
					r0_103 = r0_105 - (r1_107 >> 0x01);
				if (r0_105 >= r1_107 >> 0x01)
					r2_100 = r2_100 | r3_106 >> 0x01;
				Eq_141 r0_101;
				r0_101 = r0_103;
				if (r0_103 >= r1_107 >> 0x02)
					r0_101 = r0_103 - (r1_107 >> 0x02);
				if (r0_103 >= r1_107 >> 0x02)
					r2_100 = r2_100 | r3_106 >> 0x02;
				r0 = r0_101;
				if (r0_101 >= r1_107 >> 0x03)
					r0 = r0_101 - (r1_107 >> 0x03);
				if (r0_101 >= r1_107 >> 0x03)
					r2_100 = r2_100 | r3_106 >> 0x03;
				if (r0 != 0x00)
					r3_106 = r3_106 >> 0x04;
				if (r0 != 0x00)
					r1_107 = r1_107 >> 0x04;
			} while (r0 != 0x00);
		}
		Eq_141 r0_32 = r2_100;
		if (ip_4 < 0x00)
			r0_32 = 0x00 - r2_100;
		return r0_32;
	}
}

// 00008638: void __div0(Register Eq_141 r0)
void __div0(Eq_141 r0)
{
	__syscall(0x00900014);
	if (r0 >= 1000)
		return;
	__syscall(0x00900025);
}

// 00008654: void __libc_csu_init(Register ptr32 pc)
void __libc_csu_init(ptr32 pc)
{
	<anonymous> *** r10_17 = pc + globals->dw86A4;
	Eq_321 r4_18 = _init(pc);
	<anonymous> ** r1_21 = *r10_17;
	int32 r3_23 = *r10_17 - r1_21;
	if (r4_18 >= r3_23 >> 0x02)
		return;
	word32 sp_46;
	word32 r4_47;
	word32 r5_48;
	word32 r6_49;
	word32 r10_50;
	word32 lr_51;
	word32 pc_52;
	word32 r3_53;
	word32 r2_54;
	word32 r1_55;
	byte NZCV_56;
	byte C_57;
	(*r1_21)();
}

// 000086B0: void __libc_csu_fini(Register word32 pc)
void __libc_csu_fini(word32 pc)
{
	<anonymous> *** r10_16 = pc + globals->dw8700;
	<anonymous> ** r1_17 = *r10_16;
	int32 r3_19 = *r10_16 - r1_17;
	if (r3_19 >> 0x02 == 0x00)
		_fini();
	else
	{
		word32 sp_37;
		word32 r4_38;
		word32 r5_39;
		word32 r10_40;
		word32 lr_41;
		word32 pc_42;
		word32 r3_43;
		word32 r2_44;
		word32 r1_45;
		byte NZCV_46;
		byte Z_47;
		(*r1_17)();
	}
}

// 0000870C: Register ptr32 __do_global_ctors_aux(Register out ptr32 r4Out)
ptr32 __do_global_ctors_aux(ptr32 & r4Out)
{
	<anonymous> * r2_9 = globals->ptr8740->ptrFFFFFFFC;
	if (r2_9 != (<anonymous> *) 0x01)
	{
		ptr32 sp_27;
		word32 r4_28;
		word32 lr_29;
		word32 r3_30;
		word32 pc_31;
		word32 r2_32;
		byte NZCV_33;
		byte Z_34;
		r2_9();
		return sp_27;
	}
	else
	{
		word32 r4_22;
		*r4Out = r4;
		return fp;
	}
}

// 00008744: void call___do_global_ctors_aux()
void call___do_global_ctors_aux()
{
}

// 0000874C: void _fini()
void _fini()
{
	__do_global_dtors_aux();
}

