// simd_double.c
// Generated by decompiling simd_double
// using Reko decompiler version 0.8.0.2.

#include "simd_double.h"

// 00000000000005A0: Register word64 _init()
word64 _init()
{
	word64 rax_16 = globals->qw200FE8;
	if (rax_16 != 0x00)
		__gmon_start__();
	return rax_16;
}

// 0000000000000620: void _start(Register (ptr64 Eq_10) rdx, Stack Eq_11 qwArg00)
void _start(void (* rdx)(), Eq_11 qwArg00)
{
	__align((char *) fp + 0x08);
	__libc_start_main(&globals->t0898, qwArg00, (char *) fp + 0x08, &globals->t0A70, &globals->t0AE0, rdx, fp);
	__hlt();
}

// 0000000000000650: void deregister_tm_clones(Register ptr64 rbp)
void deregister_tm_clones(ptr64 rbp)
{
	if (2101320 == 2101320)
		return;
	<anonymous> * rax_11 = globals->ptr200FD8;
	if (rax_11 == null)
		return;
	rax_11();
}

// 0000000000000690: void register_tm_clones(Register word64 rbp)
void register_tm_clones(word64 rbp)
{
	int64 rsi_8 = 2101320 - 2101320;
	Eq_50 rsi_13 = (rsi_8 >> 0x03) + ((rsi_8 >> 0x03) >> 0x3F);
	if (rsi_13 >> 0x01 == 0x00)
		return;
	<anonymous> * rax_17 = globals->ptr200FF0;
	if (rax_17 == null)
		return;
	rax_17();
}

// 00000000000006E0: void __do_global_dtors_aux(Register word64 rax, Register word64 rbp)
void __do_global_dtors_aux(word64 rax, word64 rbp)
{
	if (globals->b201048 != 0x00)
		return;
	if (globals->qw200FF8 != 0x00)
		__cxa_finalize();
	deregister_tm_clones(fp - 0x08);
	globals->b201048 = 0x01;
}

// 0000000000000720: void frame_dummy(Register word64 rbp)
void frame_dummy(word64 rbp)
{
	register_tm_clones(rbp);
}

// 000000000000072A: Register (ptr64 void) _mm_malloc(Register ptr64 rbp, Register uint64 rsi, Register Eq_94 rdi)
void * _mm_malloc(ptr64 rbp, uint64 rsi, Eq_94 rdi)
{
	void * rax_39;
	uint64 qwLoc28_51 = rsi;
	if (rsi == 0x01)
		rax_39 = malloc(rdi);
	else
	{
		if (rsi == 0x02 || rsi == 0x04)
			qwLoc28_51 = 0x08;
		word64 rax_31;
		posix_memalign();
		if ((word32) rax_31 == 0x00)
			rax_39 = qwLoc10;
		else
			rax_39 = null;
	}
	return rax_39;
}

// 000000000000078D: void _mm_free(Register (ptr64 (arr real64)) rdi)
void _mm_free(real64 (* rdi)[])
{
	free(rdi);
}

// 00000000000007A8: void vec_add(Register word64 rdi)
void vec_add(word64 rdi)
{
	__align(fp);
	uint64 rax_29 = (uint64) ((uint128) (uint64) rdi /u globals->qw0B00);
	if (0x00 >= rax_29)
		;
}

// 0000000000000898: void main(Register Eq_134 xmm0)
void main(Eq_134 xmm0)
{
	real64 rax_14[] = _mm_malloc(fp - 0x08, 0x20, 0x2000);
	real64 rax_26[] = _mm_malloc(fp - 0x08, 0x20, 0x2000);
	real64 rax_38[] = _mm_malloc(fp - 0x08, 0x20, 0x2000);
	Eq_156 qwLoc10_199 = 0x00;
	while (qwLoc10_199 < 0x0400)
	{
		real64 * rcx_54 = rax_14 + qwLoc10_199;
		ui32 eax_61 = (word32) qwLoc10_199;
		if (qwLoc10_199 >= 0x00)
			xmm0 = DPB(xmm0, (real64) qwLoc10_199, 0);
		else
		{
			real64 v26_66 = (real64) (qwLoc10_199 >> 0x01 | (uint64) (eax_61 & 0x01));
			xmm0 = DPB(xmm0, v26_66 + v26_66, 0);
		}
		*rcx_54 = (real64) xmm0;
		qwLoc10_199 = (word64) qwLoc10_199 + 0x01;
	}
	Eq_168 qwLoc18_205 = 0x00;
	while (qwLoc18_205 < 0x0400)
	{
		ui32 eax_97 = (word32) ((word64) qwLoc18_205 + 0x01);
		real64 * rcx_91 = rax_26 + qwLoc18_205;
		if (qwLoc18_205 >= 0x01)
			xmm0 = DPB(xmm0, (real64) ((word64) qwLoc18_205 + 0x01), 0);
		else
		{
			real64 v19_102 = (real64) ((word64) qwLoc18_205 + 0x01 >> 0x01 | (uint64) (eax_97 & 0x01));
			xmm0 = DPB(xmm0, v19_102 + v19_102, 0);
		}
		*rcx_91 = (real64) xmm0;
		qwLoc18_205 = (word64) qwLoc18_205 + 0x01;
	}
	uint64 qwLoc20_211;
	for (qwLoc20_211 = 0x00; qwLoc20_211 < 0x0400; ++qwLoc20_211)
	{
		xmm0 = __xorpd(xmm0, xmm0);
		rax_38[qwLoc20_211] = (real64) xmm0;
	}
	vec_add(0x0400);
	up64 qwLoc28_220;
	for (qwLoc28_220 = 0x00; qwLoc28_220 < 0x0400; ++qwLoc28_220)
		printf("%g\n", 0x00);
	_mm_free(rax_14);
	_mm_free(rax_26);
	_mm_free(rax_38);
}

// 0000000000000A70: void __libc_csu_init(Register word64 rdx, Register word64 rbx, Register word64 rbp, Register word64 rsi, Register word32 edi, Register word64 r12, Register word64 r13, Register word64 r14, Register word64 r15)
void __libc_csu_init(word64 rdx, word64 rbx, word64 rbp, word64 rsi, word32 edi, word64 r12, word64 r13, word64 r14, word64 r15)
{
	uint64 r15_10 = (uint64) edi;
	word32 r15d_83 = (word32) r15_10;
	uint64 r15_55 = DPB(r15_10, r15d_83, 0);
	int64 rbp_29 = 0x00200DF0 - 2100712;
	word64 rax_33 = _init();
	if (rbp_29 >> 0x03 != 0x00)
	{
		Eq_286 rbx_41 = 0x00;
		do
		{
			r15_55 = DPB(r15_55, r15d_83, 0);
			(*((char *) globals->a200DE8 + rbx_41 * 0x08))();
			rbx_41 = (word64) rbx_41.u1 + 0x01;
		} while (rbp_29 >> 0x03 != rbx_41);
	}
}

// 0000000000000AE0: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 0000000000000AE4: void _fini()
void _fini()
{
}

