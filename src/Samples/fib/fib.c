// fib.c
// Generated by decompiling fib.exe
// using Reko decompiler version 0.7.2.0.

#include "fib.h"

// 00401000: Register (ptr word32) fn00401000(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut)
word32 * fn00401000(Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut)
{
	ui32 eax_5 = globals->t412004 ^ fp - 0x68;
	Eq_3 edx_29 = fn00401050(fn004010D0(0x09) + fn004010D0(0x08), fp - 0x68, 100);
	*edxOut = edx_29;
	word32 ecx_42;
	return fn004010FE(eax_5 ^ fp - 0x68, edx_29, ebx, ebp, esi, edi, es, ds, esi, out ecx_42);
}

// 00401050: Register word32 fn00401050(Stack word32 dwArg04, Stack (ptr byte) dwArg08, Stack word32 dwArg0C)
word32 fn00401050(word32 dwArg04, byte * dwArg08, word32 dwArg0C)
{
	byte * eax_12 = dwArg08 + (dwArg0C - 0x01);
	byte * ecx_44 = dwArg08;
	uint32 ebx_14 = 0x00;
	uint32 edi_19 = eax_12 - dwArg08;
	if (dwArg08 > eax_12)
		edi_19 = 0x00;
	if (edi_19 == 0x00)
	{
		*dwArg08 = 0x00;
		return 0x00;
	}
	else
	{
		word32 esi_43 = dwArg04;
		do
		{
			ecx_44 = ecx_44 + 0x01;
			*(ecx_44 - 0x01) = (byte) esi_43 + 0x30;
			ebx_14 = ebx_14 + 0x01;
			esi_43 = 0x00;
		} while (ebx_14 < edi_19);
		*ecx_44 = 0x00;
		return 0x00;
	}
}

// 004010D0: Register word32 fn004010D0(Stack int32 dwArg04)
word32 fn004010D0(int32 dwArg04)
{
	if (dwArg04 >= 0x01)
		return fn004010D0(dwArg04 - 0x01) + fn004010D0(dwArg04 - 0x02);
	else
		return 0x01;
}

// 004010FE: Register word32 fn004010FE(Register Eq_3 ecx, Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg00, Register out ptr32 ecxOut)
word32 fn004010FE(Eq_3 ecx, Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg00, ptr32 & ecxOut)
{
	*ecxOut = ecx;
	if (ecx != globals->t412004)
	{
		Eq_3 eax_35 = IsProcessorFeaturePresent(0x17);
		if (eax_35 == 0x00)
		{
			globals->t412870 = eax_35;
			globals->t41286C = ecx;
			globals->t412868 = edx;
			globals->t412864 = ebx;
			globals->t412860 = esi;
			globals->t41285C = edi;
			globals->ptr412888 = ss;
			globals->ptr41287C = cs;
			globals->ptr412858 = ds;
			globals->ptr412854 = es;
			globals->ptr412850 = fs;
			globals->ptr41284C = gs;
			globals->t412880.u0 = false;
			globals->t412874 = ebp;
			globals->t412878 = dwArg00;
			globals->ptr412884 = fp + 0x04;
			globals->dw4127C0 = 0x00010001;
			globals->t41277C = globals->t412878;
			globals->dw412770 = 0xC0000409;
			globals->dw412774 = 0x01;
			globals->dw412780 = 0x01;
			globals->dw412784 = 0x02;
			word32 ecx_110;
			*ecxOut = globals->dw412000;
			return fn0040133F(&globals->t40C150);
		}
		else
			__fastfail(0x02);
	}
	else
		return eax;
}

// 00401335: Register Eq_3 Win32CrtStartup()
Eq_3 Win32CrtStartup()
{
	fn004016E7();
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410C88, 0x14);
	*(fp - 0x0C) = 0x01;
	word32 * esp_20 = fp - 0x08;
	Eq_3 ebx_104;
	if (fn004014F8(edx, ebx, ebp_10, esi, es, ds, dwArg00, out ebx_104) == 0x00)
	{
l004011E5:
		esp_20 = esp_20 - 0x04;
		*esp_20 = 0x07;
		fn004017FF(ebx_104, 0x14, dwArg00);
	}
	*(ebp_10 - 0x19) = 0x00;
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 edx_38;
	*(ebp_10 - 0x24) = fn004014C3(out edx_38);
	ebx_104 = DPB(ebx_104, 0x00, 0);
	word32 eax_41 = globals->dw412A8C;
	if (eax_41 != 0x01)
	{
		Eq_3 eax_158;
		if (eax_41 == 0x00)
		{
			globals->dw412A8C = 0x01;
			word32 * esp_229 = esp_20 - 0x04;
			*esp_229 = 4243752;
			*(esp_229 - 0x04) = 0x0040C110;
			if (fn00402D4C(edx_38, ebx_104, ebp_10, es, ds, dwArg00, dwArg04) != 0x00)
			{
				*(ebp_10 - 0x04) = ~0x01;
				eax_158.u0 = 0xFF;
				goto l0040132F;
			}
			*esp_229 = 0x0040C10C;
			*(esp_229 - 0x04) = 0x0040C104;
			fn00402CF0(edx_38, ebp_10, es, ds, dwArg00, dwArg04);
			globals->dw412A8C = 0x02;
		}
		else
		{
			*(ebp_10 - 0x19) = 0x01;
			ebx_104 = DPB(ebx_104, 0x01, 0);
		}
		union Eq_3 * esp_81 = esp_20 - 0x04;
		*esp_81 = *(ebp_10 - 0x24);
		fn00401652(bArg00);
		fn004017F3();
		ptr32 esp_198 = (char *) esp_81 + 0x04;
		Eq_3 edi_103 = 0x00;
		if (globals->dw413190 != 0x00)
		{
			*esp_81 = (union Eq_3 *) 4272528;
			<anonymous> ** esi_194;
			byte al_196 = fn004015C8(ebx_104, 4272528, 0x00, out ebx_104, out ebp_10, out esi_194, out edi_103);
			esp_198 = (char *) esp_81 + 0x04;
			if (al_196 != 0x00)
			{
				*esp_81 = (union Eq_3 *) edi_103;
				*(esp_81 - 0x04) = 0x02;
				*(esp_81 - 0x08) = (union Eq_3 *) edi_103;
				<anonymous> * esi_208 = *esi_194;
				fn004019FB();
				word32 ecx_211;
				byte al_212;
				byte SZO_213;
				byte C_214;
				byte Z_215;
				byte bl_216;
				word32 eax_218;
				byte SCZO_219;
				byte cl_220;
				word32 esi_221;
				word16 ax_223;
				word32 edx_225;
				esi_208();
			}
		}
		fn004017F9();
		Eq_3 esi_105 = 4272524;
		if (globals->t41318C != edi_103)
		{
			union Eq_3 * esp_171 = esp_198 - 0x04;
			*esp_171 = (union Eq_3 *) 4272524;
			if (fn004015C8(ebx_104, 4272524, edi_103, out ebx_104, out ebp_10, out esi_105, out edi_103) != 0x00)
			{
				*esp_171 = (union Eq_3 *) *esi_105;
				ebx_104 = fn0040307B(ebx_104, ebp_10, esi_105, edi_103, es, ds, dwArg00);
			}
		}
		union Eq_3 * esp_115 = esp_198 - 0x04;
		*esp_115 = (union Eq_3 *) (word32) fn0040191A(ebx_104);
		byte bl_117;
		*(esp_115 - 0x04) = fn00402C9D(ebx_104, ebp_10, edi_103, es, ds, out bl_117, out ebp_10);
		*(esp_115 - 0x08) = (union Eq_3 *) edi_103;
		*(esp_115 - 0x0C) = 0x00400000;
		Eq_3 edx_126;
		Eq_3 eax_127 = fn00401000(ebx_104, ebp_10, esi_105, edi_103, es, ds, out edx_126);
		union Eq_3 * esp_128 = (char *) esp_115 + 0x04;
		Eq_3 esi_129 = eax_127;
		word32 ecx_130;
		if (fn00402F8A(out ecx_130) == 0x00)
		{
			*esp_115 = (union Eq_3 *) eax_127;
			esp_128 = esp_115;
			edx_126 = fn004030B3(edx_126, ebx_104, eax_127, edi_103, es, ds, dwArg00, out ebx_104, out esi_129);
		}
		if (bl_117 == 0x00)
			edx_126 = fn00403056(edx_126, ebx_104, ebp_10, esi_129, edi_103, es, ds, out ebx_104, out ebp_10, out esi_129, out edi_103);
		union Eq_3 * esp_147 = esp_128 - 0x04;
		*esp_147 = (union Eq_3 *) edi_103;
		*(esp_147 - 0x04) = 0x01;
		Eq_3 esi_152 = fn0040166F(edx_126, ebx_104, ebp_10, esi_129, edi_103, es, ds, dwArg00, bArg04);
		*(ebp_10 - 0x04) = ~0x01;
		eax_158 = esi_152;
l0040132F:
		word32 ebp_70;
		word32 esi_71;
		word32 edi_72;
		fn00401A56(ebp_10, 0x14, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_70, out esi_71, out edi_72);
		return eax_158;
	}
	goto l004011E5;
}

// 0040133F: Register Eq_3 fn0040133F(Stack (ptr Eq_185) dwArg04)
Eq_3 fn0040133F(_EXCEPTION_POINTERS * dwArg04)
{
	SetUnhandledExceptionFilter(null);
	UnhandledExceptionFilter(dwArg04);
	return TerminateProcess(GetCurrentProcess(), 0xC0000409);
}

// 00401462: Register ui32 fn00401462(Stack Eq_655 dwArg04)
ui32 fn00401462(FARPROC dwArg04)
{
	return __ror(dwArg04, (byte) (0x20 - (globals->t412004 & 0x1F))) ^ globals->t412004;
}

// 0040147F: Register (ptr Eq_668) fn0040147F(Stack Eq_3 dwArg04, Stack Eq_3 dwArg08)
Eq_668 * fn0040147F(Eq_3 dwArg04, Eq_3 dwArg08)
{
	struct Eq_668 * eax_26;
	word32 ecx_13 = Mem0[dwArg04 + 0x3C:word32] + dwArg04;
	struct Eq_668 * edx_16 = &ecx_13->w0014 + 0x02 + (word32) ecx_13->w0014 / 22;
	struct Eq_668 * esi_19 = edx_16 + (word32) ecx_13->w0006;
	if (edx_16 != esi_19)
	{
		do
		{
			if (dwArg08 >= edx_16->dw000C && dwArg08 < edx_16->dw0008 + edx_16->dw000C)
			{
				eax_26 = edx_16;
				return eax_26;
			}
			edx_16 = edx_16 + 0x01;
		} while (edx_16 != esi_19);
	}
	eax_26 = null;
	return eax_26;
}

// 004014C3: Register byte fn004014C3(Register out ptr32 edxOut)
byte fn004014C3(ptr32 & edxOut)
{
	*edxOut = edx;
	if (fn00401C05() != 0x00)
	{
		word32 edx_33 = fs->ptr0018->dw0004;
		*edxOut = edx_33;
l004014E4:
		__lock();
		word32 eax_38;
		__cmpxchg(globals->dw412A90, edx_33, 0x00, out eax_38);
		if (eax_38 != 0x00)
		{
			if (edx_33 != eax_38)
				goto l004014E4;
			return 0x01;
		}
		else
			return 0x00;
	}
	else
		return 0x00;
}

// 004014F8: Register byte fn004014F8(Register word32 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut)
byte fn004014F8(word32 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	if (dwArg04 == 0x00)
		globals->b412AAC = 0x01;
	fn00401A6B(edx);
	Eq_3 edx_11;
	Eq_3 ebp_12;
	Eq_3 esi_13;
	if (fn00401DC6(esi, out edx_11, out ebp_12, out esi_13) != 0x00)
	{
		word32 ebx_46;
		Eq_3 edi_47;
		if (fn00403705(edx_11, ebx, ebp_12, esi_13, es, ds, out ebx_46, out edi_47) != 0x00)
			return 0x01;
		*(fp - 0x08) = 0x00;
		fn00401DEF(ebp_12, edi_47, bArg00);
	}
	return 0x00;
}

// 004015C8: Register byte fn004015C8(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
byte fn004015C8(Eq_3 ebx, Eq_3 esi, Eq_3 edi, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	byte al_30;
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410CA8, 0x08);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	if (globals->w400000 == 23117)
	{
		struct Eq_831 * eax_59 = globals->ptr40003C;
		if (eax_59->dw400000 == 0x4550 && eax_59->w400018 == 0x010B)
		{
			*(fp - 0x0C) = *((word256) ebp_10 + 0x08) - 0x00400000;
			*(fp - 0x10) = 0x00400000;
			struct Eq_861 * eax_76 = fn0040147F(dwArg00, dwArg04);
			if (eax_76 != null && eax_76->dw0024 >= 0x00)
			{
				*(ebp_10 - 0x04) = ~0x01;
				al_30 = 0x01;
l0040164C:
				word32 ebp_37;
				word32 esi_38;
				word32 edi_39;
				word32 ebx_40;
				*ebxOut = fn00401A56(ebp_10, 0x08, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_37, out esi_38, out edi_39);
				return al_30;
			}
		}
	}
	*(ebp_10 - 0x04) = ~0x01;
	al_30 = 0x00;
	goto l0040164C;
}

// 00401652: void fn00401652(Stack byte bArg04)
void fn00401652(byte bArg04)
{
	if (fn00401C05() != 0x00 && bArg04 == 0x00)
		globals->dw412A90 = 0x00;
	return;
}

// 0040166F: Register Eq_3 fn0040166F(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack byte bArg08)
Eq_3 fn0040166F(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, byte bArg08)
{
	if (globals->b412AAC == 0x00 || bArg08 == 0x00)
	{
		fn00403717(edx, ebx, esi, edi, es, ds, (byte) dwArg04);
		*(fp - 0x0C) = fp->dw0004;
		esi = fn00401DEF(fp - 0x04, edi, bArg00);
	}
	return esi;
}

// 004016E7: void fn004016E7()
void fn004016E7()
{
	Eq_3 eax_16 = globals->t412004;
	if (eax_16 != 0xBB40E64E && (eax_16 & 0xFFFF0000) != 0x00)
		globals->dw412000 = ~eax_16;
	else
	{
		GetSystemTimeAsFileTime(fp - 0x10);
		ui32 v14_55 = dwLoc0C & 0x00 ^ dwLoc10 & 0x00 ^ GetCurrentThreadId() ^ GetCurrentProcessId();
		QueryPerformanceCounter(fp - 0x18);
		Eq_3 ecx_69 = dwLoc14 ^ dwLoc18 ^ v14_55 ^ fp - 0x08;
		if (ecx_69 == 0xBB40E64E)
			ecx_69.u0 = ~0x44BF19B0;
		else if ((ecx_69 & 0xFFFF0000) == 0x00)
			ecx_69 = ecx_69 | (ecx_69 | 0x4711) << 0x10;
		globals->t412004 = ecx_69;
		globals->dw412000 = ~ecx_69;
	}
	return;
}

// 004017F3: void fn004017F3()
void fn004017F3()
{
	return;
}

// 004017F9: void fn004017F9()
void fn004017F9()
{
	return;
}

// 004017FF: void fn004017FF(Register Eq_3 ebx, Stack word32 dwArg00, Stack Eq_3 dwArg04)
void fn004017FF(Eq_3 ebx, word32 dwArg00, Eq_3 dwArg04)
{
	if (IsProcessorFeaturePresent(0x17) == 0x00)
	{
		globals->dw412AC8 = 0x00;
		word32 edx_34;
		fn00401E10(ebx, fp - 808, 0x00, 0x02CC, out edx_34);
		word32 edx_78;
		fn00401E10(ebx, fp - 0x5C, 0x00, 0x50, out edx_78);
		byte bl_94 = 0x00 - (0x01 - IsDebuggerPresent() == 0x00);
		SetUnhandledExceptionFilter(null);
		if (UnhandledExceptionFilter(fp - 0x0C) == 0x00)
			globals->dw412AC8 = globals->dw412AC8 & 0x00 - (-((word32) (bl_94 + 0x01)) == 0x00);
		return;
	}
	else
		__fastfail(dwArg04);
}

// 0040191A: Register word16 fn0040191A(Register Eq_3 ebx)
word16 fn0040191A(Eq_3 ebx)
{
	word16 ax_30;
	word32 edx_17;
	fn00401E10(ebx, fp - 0x48, 0x00, 0x44, out edx_17);
	GetStartupInfoW(fp - 0x48);
	if ((bLoc1C & 0x01) != 0x00)
		ax_30 = (word16) (word32) wLoc18;
	else
		ax_30 = 0x0A;
	return ax_30;
}

// 0040199D: void fn0040199D()
void fn0040199D()
{
	globals->dw412AC8 = globals->dw412AC8 & 0x00;
	return;
}

// 004019FB: void fn004019FB()
void fn004019FB()
{
	word32 esp_3;
	globals->ptr40C100();
	return;
}

// 00401A10: Register ptr32 fn00401A10(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Stack word32 dwArg00, Stack word32 dwArg04, Stack ui32 dwArg08)
ptr32 fn00401A10(Eq_3 ebx, Eq_3 esi, Eq_3 edi, word32 dwArg00, word32 dwArg04, ui32 dwArg08)
{
	ptr32 esp_14 = fp - 0x08 - dwArg08;
	*(esp_14 - 0x04) = (union Eq_3 *) ebx;
	*(esp_14 - 0x08) = (union Eq_3 *) esi;
	*(esp_14 - 0x0C) = (union Eq_3 *) edi;
	*(esp_14 - 0x10) = globals->t412004 ^ fp + 0x08;
	*(esp_14 - 0x14) = dwArg00;
	fs->ptr0000 = fp - 0x08;
	return fp + 0x08;
}

// 00401A56: Register word32 fn00401A56(Register Eq_3 ebp, Stack Eq_3 dwArg00, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack uint32 dwArg0C, Stack word32 dwArg10, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn00401A56(Eq_3 ebp, Eq_3 dwArg00, Eq_3 dwArg04, Eq_3 dwArg08, uint32 dwArg0C, word32 dwArg10, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	fs->dw0000 = *(ebp - 0x10);
	word32 ebp_22;
	*ebpOut = *ebp;
	*ebp = dwArg00;
	word32 edi_14;
	*ediOut = dwArg08;
	word32 esi_17;
	*esiOut = dwArg0C;
	return dwArg10;
}

// 00401A6B: void fn00401A6B(Register word32 edx)
void fn00401A6B(word32 edx)
{
	globals->dw412ACC = globals->dw412ACC & 0x00;
	globals->dw412010 = globals->dw412010 | 0x01;
	if (IsProcessorFeaturePresent(0x0A) != 0x00)
	{
		ui32 edi_135;
		globals->dw412010 = globals->dw412010 | 0x02;
		globals->dw412ACC = 0x01;
		int32 eax_89;
		word32 ebx_90;
		word32 ecx_91;
		word32 edx_92;
		__cpuid(0x00, 0x00, &eax_89, &ebx_90, &ecx_91, &edx_92);
		ui32 eax_124;
		word32 ebx_125;
		ui32 ecx_126;
		word32 edx_127;
		__cpuid(0x01, 0x00, &eax_124, &ebx_125, &ecx_126, &edx_127);
		if ((edx_92 ^ 0x49656E69 | ecx_91 ^ 1818588270 | ebx_90 ^ 1970169159) == 0x00 && ((eax_124 & 0x0FFF3FF0) == 0x000106C0 || ((eax_124 & 0x0FFF3FF0) == 0x00020660 || ((eax_124 & 0x0FFF3FF0) == 0x00020670 || ((eax_124 & 0x0FFF3FF0) == 0x00030650 || ((eax_124 & 0x0FFF3FF0) == 0x00030660 || (eax_124 & 0x0FFF3FF0) == 0x00030670))))))
		{
			ui32 edi_245 = globals->dw412AD0;
			globals->dw412AD0 = edi_245 | 0x01;
			edi_135 = edi_245 | 0x01;
		}
		else
			edi_135 = globals->dw412AD0;
		if (eax_89 >= 0x07)
		{
			word32 eax_210;
			ui32 ebx_211;
			word32 ecx_212;
			word32 edx_213;
			__cpuid(0x07, 0x00, &eax_210, &ebx_211, &ecx_212, &edx_213);
			if ((ebx_211 & 0x0200) != 0x00)
				globals->dw412AD0 = edi_135 | 0x02;
		}
		if ((ecx_126 & 0x00100000) != 0x00)
		{
			globals->dw412010 = globals->dw412010 | 0x04;
			globals->dw412ACC = 0x02;
			if ((ecx_126 & 0x08000000) != 0x00 && ((ecx_126 & 0x10000000) != 0x00 && (((word32) __xgetbv(0x00) & 0x06) == 0x06 && true)))
			{
				ui32 eax_189 = globals->dw412010;
				globals->dw412ACC = 0x03;
				globals->dw412010 = eax_189 | 0x08;
				if ((bLoc14 & 0x20) != 0x00)
				{
					globals->dw412ACC = 0x05;
					globals->dw412010 = eax_189 | 0x08 | 0x20;
				}
			}
		}
	}
	return;
}

// 00401C05: Register word32 fn00401C05()
word32 fn00401C05()
{
	return (word32) (globals->dw413188 != 0x00);
}

// 00401DC6: Register byte fn00401DC6(Register Eq_3 esi, Register out ptr32 edxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
byte fn00401DC6(Eq_3 esi, ptr32 & edxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	*esiOut = esi;
	fn00402427();
	fn004023BB();
	word32 edx_3;
	word32 ebp_4;
	if (fn00402138(esi, out edx_3, out ebp_4) != 0x00)
	{
		word32 edx_27;
		word32 ebp_28;
		word32 esi_29;
		if (fn004020EA(edi, out edx_27, out ebp_28, out esi_29) != 0x00)
			return 0x01;
		fn00402174();
	}
	return 0x00;
}

// 00401DEF: Register word32 fn00401DEF(Register Eq_3 ebp, Register Eq_3 edi, Stack byte bArg04)
word32 fn00401DEF(Eq_3 ebp, Eq_3 edi, byte bArg04)
{
	if (bArg04 == 0x00)
	{
		word32 ebp_21;
		fn0040211D(edi, out ebp_21, out esi);
		fn00402174();
		*(fp - 0x08) = 0x00;
		fn004023F5(bArg00);
	}
	return esi;
}

// 00401E10: Register Eq_3 fn00401E10(Register Eq_3 ebx, Stack Eq_3 dwArg04, Stack byte bArg08, Stack Eq_3 dwArg0C, Register out ptr32 edxOut)
Eq_3 fn00401E10(Eq_3 ebx, Eq_3 dwArg04, byte bArg08, Eq_3 dwArg0C, ptr32 & edxOut)
{
	Eq_3 ecx_104 = dwArg0C;
	int32 eax_5 = (word32) bArg08;
	word32 edx_8;
	*edxOut = edi;
	Eq_3 edi_10 = dwArg04;
	if (dwArg0C == 0x00)
		return ecx_104;
	byte al_44 = (byte) (eax_5 *s 0x01010101);
	if (dwArg0C > 0x20)
	{
		Eq_3 xmm0_129;
		if (dwArg0C < 0x80)
		{
l00401ECD:
			if (!__bt(globals->dw412010, 0x01))
			{
				word128 xmm0_128 = (word128) (eax_5 *s 0x01010101);
				xmm0_129 = __pshufd(xmm0_128, xmm0_128, 0x00);
l00401EE0:
				if (ecx_104 < 0x20)
				{
l00401F01:
					word32 edi_105 = ecx_104 - 0x20 + edi_10;
					edi_105->t0000.u3 = xmm0_129;
					edi_105[0x0010] = (struct Eq_1499) xmm0_129;
					return ecx_104;
				}
				do
				{
					*edi_10.u2 = xmm0_129;
					*((word256) edi_10.u2 + 0x0010) = xmm0_129;
					edi_10 = edi_10 + 0x20;
					ecx_104 = ecx_104 - (struct Eq_1517 *) 0x20;
				} while (ecx_104 >= 0x20);
				if ((ecx_104 & 0x1F) != 0x00)
					goto l00401F01;
				return ecx_104;
			}
			goto l00401F15;
		}
		if (!__bt(globals->dw412AD0, 0x01))
		{
			while (ecx_104 != 0x00)
			{
				edi_10->u0 = al_44;
				edi_10.u2 = (word256) edi_10 + 0x01;
				ecx_104 = ecx_104 - 0x01;
			}
			return ecx_104;
		}
		if (!__bt(globals->dw412010, 0x01))
		{
			word128 xmm0_139 = (word128) (eax_5 *s 0x01010101);
			xmm0_129 = __pshufd(xmm0_139, xmm0_139, 0x00);
			*dwArg04 = xmm0_129;
			edi_10 = dwArg04 + 0x10 & ~0x0F;
			ecx_104 = dwArg0C + dwArg04 - edi_10;
			if (ecx_104 > 0x80)
			{
				do
				{
					*edi_10.u2 = xmm0_129;
					*((word256) edi_10.u2 + 0x0010) = xmm0_129;
					*((word256) edi_10.u2 + 0x0020) = xmm0_129;
					*((word256) edi_10.u2 + 0x0030) = xmm0_129;
					*((word256) edi_10.u2 + 0x0040) = xmm0_129;
					*((word256) edi_10.u2 + 0x0050) = xmm0_129;
					*((word256) edi_10.u2 + 0x0060) = xmm0_129;
					*((word256) edi_10.u2 + 112) = xmm0_129;
					edi_10.u2 = (word256) edi_10.u2 + 0x0080;
					ecx_104 = ecx_104 - 0x80;
				} while ((ecx_104 & ~0xFF) != 0x00);
				goto l00401EE0;
			}
			goto l00401ECD;
		}
	}
l00401F15:
	if ((ecx_104 & 0x03) != 0x00)
	{
		do
		{
			edi_10.u2->u0 = al_44;
			edi_10 = edi_10 + 0x01;
			ecx_104 = ecx_104 - (struct Eq_1534 *) 0x01;
		} while ((ecx_104 & 0x03) != 0x00);
	}
	if ((ecx_104 & 0x04) != 0x00)
	{
		*edi_10.u2 = eax_5 *s 0x01010101;
		edi_10 = edi_10 + 0x04;
		ecx_104 = ecx_104 - (struct Eq_1550 *) 0x04;
	}
	if ((ecx_104 & ~0x07) != 0x00)
	{
		do
		{
			*edi_10.u2 = eax_5 *s 0x01010101;
			*((word256) edi_10.u2 + 0x04) = eax_5 *s 0x01010101;
			edi_10 = edi_10 + 0x08;
			ecx_104 = ecx_104 - (struct Eq_1562 *) 0x08;
		} while ((ecx_104 & ~0x07) != 0x00);
	}
	return ecx_104;
}

// 004020EA: Register byte fn004020EA(Register Eq_3 edi, Register out ptr32 edxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
byte fn004020EA(Eq_3 edi, ptr32 & edxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	word32 edx_5;
	word32 ebp_6;
	word32 esi_7;
	Eq_3 eax_8 = fn004022C4(edi, 4202702, out edx_5, out ebp_6, out esi_7);
	globals->t412020 = eax_8;
	if (eax_8 != ~0x00)
	{
		*(fp - 0x04) = 4270804;
		*(fp - 0x08) = (union Eq_3 *) eax_8;
		word32 edx_45;
		word32 ebp_46;
		word32 esi_47;
		if (fn00402338(edi, dwArg00, dwArg04, out edx_45, out ebp_46, out esi_47) != 0x00)
			return 0x01;
		word32 ebp_56;
		word32 esi_57;
		word32 edx_58;
		*edxOut = fn0040211D(edi, out ebp_56, out esi_57);
	}
	return 0x00;
}

// 0040211D: Register word32 fn0040211D(Register Eq_3 edi, Register out ptr32 ebpOut, Register out ptr32 esiOut)
word32 fn0040211D(Eq_3 edi, ptr32 & ebpOut, ptr32 & esiOut)
{
	*ebpOut = ebp;
	*esiOut = esi;
	Eq_3 eax_3 = globals->t412020;
	if (eax_3 != ~0x00)
	{
		word32 ebp_28;
		word32 esi_29;
		edx = fn004022FE(edi, eax_3, out ebp_28, out esi_29);
		globals->t412020 = globals->t412020 | ~0x00;
	}
	return edx;
}

// 00402138: Register byte fn00402138(Register Eq_3 esi, Register out ptr32 edxOut, Register out ptr32 ebpOut)
byte fn00402138(Eq_3 esi, ptr32 & edxOut, ptr32 & ebpOut)
{
	Eq_3 edi_14 = 4270844;
	do
	{
		byte al_36;
		*(fp - 0x0C) = 0x00;
		*(fp - 0x10) = 4000;
		*(fp - 0x14) = (union Eq_3 *) edi_14;
		word32 edx_25;
		word32 ebp_26;
		uint32 esi_27;
		if (fn00402375(edi_14, dwArg00, dwArg04, dwArg08, out edx_25, out ebp_26, out esi_27) == 0x00)
		{
			fn00402174();
			al_36 = 0x00;
			return al_36;
		}
		globals->dw412B14 = globals->dw412B14 + 0x01;
		edi_14.u2 = (word256) edi_14 + 0x0018;
	} while (esi_27 < 0x00);
	al_36 = 0x01;
	return al_36;
}

// 00402174: void fn00402174()
void fn00402174()
{
	int32 esi_30 = globals->dw412B14;
	if (esi_30 != 0x00)
	{
		Eq_1696 edi_28 = esi_30 *s 0x18 + 4270820;
		do
		{
			DeleteCriticalSection(edi_28);
			globals->dw412B14 = globals->dw412B14 - 0x01;
			edi_28 = edi_28 - (struct _RTL_CRITICAL_SECTION *) 0x18;
			esi_30 = esi_30 - 0x01;
		} while (esi_30 != 0x00);
	}
	return;
}

// 004021A3: Register Eq_655 fn004021A3(Register Eq_3 edi, Stack ui32 dwArg04, Stack Eq_1740 dwArg08, Stack (ptr word32) dwArg0C, Stack (ptr word32) dwArg10, Register out ptr32 edxOut)
FARPROC fn004021A3(Eq_3 edi, ui32 dwArg04, LPCSTR dwArg08, word32 * dwArg0C, word32 * dwArg10, ptr32 & edxOut)
{
	Eq_655 eax_45;
	__lock();
	ui32 * ebx_18 = dwArg04 * 0x04 + 4270888;
	word32 eax_21;
	__cmpxchg(*ebx_18, 0x00, 0x00, out eax_21);
	Eq_3 edx_137 = globals->t412004;
	*edxOut = edx_137;
	Eq_655 esi_125 = __ror(edx_137 ^ eax_21, (byte) (edx_137 & 0x1F));
	if (esi_125 != (edi | ~0x00))
	{
		if (esi_125 != null)
		{
l004021D7:
			eax_45 = esi_125;
			return eax_45;
		}
		Eq_3 eax_145;
		word32 * esi_149 = dwArg0C;
		if (dwArg0C != dwArg10)
		{
			do
			{
				eax_145 = fn00402243(*esi_149);
				if (eax_145 != 0x00)
				{
					*edxOut = globals->t412004;
					goto l004021FF;
				}
				esi_149 = esi_149 + 0x01;
			} while (esi_149 != dwArg10);
			*edxOut = globals->t412004;
		}
		eax_145.u0 = 0x00;
l004021FF:
		if (eax_145 != 0x00)
		{
			Eq_655 eax_123 = GetProcAddress(eax_145, dwArg08);
			esi_125 = eax_123;
			if (eax_123 != null)
			{
				*ebx_18 = fn00401462(eax_123);
				goto l004021D7;
			}
			*edxOut = globals->t412004;
		}
		*ebx_18 = __ror(edi | ~0x00, (byte) (0x20 - (edx_137 & 0x1F))) ^ edx_137;
	}
	eax_45 = null;
	return eax_45;
}

// 00402243: Register Eq_3 fn00402243(Stack ui32 dwArg04)
Eq_3 fn00402243(ui32 dwArg04)
{
	Eq_3 eax_114;
	__lock();
	union Eq_3 * edi_16 = dwArg04 * 0x04 + 4270872;
	word32 eax_18;
	__cmpxchg(*edi_16, 0x00, 0x00, out eax_18);
	if (eax_18 != 0x00)
	{
		eax_114 = 0x00 - (-0x01 == 0x00) & 0x00;
		return eax_114;
	}
	Eq_1851 ebx_53 = *((char *) globals->a40C158 + dwArg04 * 0x04);
	Eq_3 eax_62 = LoadLibraryExW(ebx_53, 0x00, 0x0800);
	Eq_3 esi_104 = eax_62;
	if (eax_62 == 0x00)
	{
		Eq_3 eax_105 = GetLastError();
		if (eax_105 == 0x57)
		{
			eax_105 = LoadLibraryExW(ebx_53, eax_62, eax_62);
			esi_104 = eax_105;
		}
		else
			esi_104.u0 = 0x00;
		if (esi_104 == 0x00)
		{
			*edi_16 = (union Eq_3 *) (eax_105 | ~0x00);
			eax_114.u0 = 0x00;
			return eax_114;
		}
	}
	Eq_3 v14_85 = *edi_16;
	*edi_16 = (union Eq_3 *) esi_104;
	if (v14_85 != 0x00)
		FreeLibrary(esi_104);
	eax_114 = esi_104;
	return eax_114;
}

// 004022C4: Register Eq_3 fn004022C4(Register Eq_3 edi, Stack word32 dwArg04, Register out ptr32 edxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
Eq_3 fn004022C4(Eq_3 edi, word32 dwArg04, ptr32 & edxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	word32 edx_18;
	<anonymous> * eax_19 = fn004021A3(edi, 0x04, &globals->dw40C210, &globals->dw40C208, &globals->dw40C210, out edx_18);
	if (eax_19 == null)
	{
		word32 esi_62;
		*esiOut = esi;
		word32 ebp_64;
		*ebpOut = ebp;
		return TlsAlloc();
	}
	else
	{
		fn004019FB();
		struct Eq_1930 * esp_46;
		word32 ebp_47;
		word32 esi_48;
		Eq_3 eax_49;
		byte SCZO_50;
		byte SZO_51;
		byte C_52;
		byte Z_53;
		word32 ecx_54;
		word32 edi_55;
		word32 edx_56;
		eax_19();
		word32 esi_58;
		*esiOut = esp_46->dw0000;
		word32 ebp_60;
		*ebpOut = esp_46->dw0004;
		return eax_49;
	}
}

// 004022FE: Register word32 fn004022FE(Register Eq_3 edi, Stack Eq_3 dwArg04, Register out ptr32 ebpOut, Register out ptr32 esiOut)
word32 fn004022FE(Eq_3 edi, Eq_3 dwArg04, ptr32 & ebpOut, ptr32 & esiOut)
{
	struct Eq_1952 * esp_37;
	word32 edx_18;
	<anonymous> * eax_19 = fn004021A3(edi, 0x05, &globals->dw40C224, &globals->dw40C21C, &globals->dw40C224, out edx_18);
	if (eax_19 != null)
	{
		fn004019FB();
		word32 ebp_48;
		word32 esi_49;
		byte SCZO_50;
		word32 eax_51;
		byte SZO_52;
		byte C_53;
		byte Z_54;
		word32 ecx_55;
		word32 edi_56;
		eax_19();
	}
	else
	{
		TlsFree(dwArg04);
		esp_37 = fp - 0x08;
	}
	word32 esi_39;
	*esiOut = esp_37->dw0000;
	word32 ebp_41;
	*ebpOut = esp_37->dw0004;
	return edx_18;
}

// 00402338: Register Eq_3 fn00402338(Register Eq_3 edi, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Register out ptr32 edxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
Eq_3 fn00402338(Eq_3 edi, Eq_3 dwArg04, Eq_3 dwArg08, ptr32 & edxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	struct Eq_1993 * esp_41;
	Eq_3 eax_39;
	word32 edx_18;
	<anonymous> * eax_19 = fn004021A3(edi, 0x07, &globals->dw40C240, &globals->dw40C238, &globals->dw40C240, out edx_18);
	if (eax_19 != null)
	{
		fn004019FB();
		word32 ebp_53;
		word32 esi_54;
		byte SCZO_55;
		byte SZO_57;
		byte C_58;
		byte Z_59;
		word32 ecx_60;
		word32 edi_61;
		word32 edx_62;
		eax_19();
	}
	else
	{
		eax_39 = TlsSetValue(dwArg04, dwArg08);
		esp_41 = fp - 0x08;
	}
	word32 esi_43;
	*esiOut = esp_41->dw0000;
	word32 ebp_45;
	*ebpOut = esp_41->dw0004;
	return eax_39;
}

// 00402375: Register Eq_3 fn00402375(Register Eq_3 edi, Stack Eq_1696 dwArg04, Stack Eq_3 dwArg08, Stack word32 dwArg0C, Register out ptr32 edxOut, Register out ptr32 ebpOut, Register out Eq_1701 esiOut)
Eq_3 fn00402375(Eq_3 edi, LPCRITICAL_SECTION dwArg04, Eq_3 dwArg08, word32 dwArg0C, ptr32 & edxOut, ptr32 & ebpOut, Eq_1701 & esiOut)
{
	struct Eq_2036 * esp_36;
	Eq_3 eax_35;
	word32 edx_18;
	<anonymous> * eax_19 = fn004021A3(edi, 0x08, &globals->dw40C254, &globals->dw40C24C, &globals->dw40C254, out edx_18);
	if (eax_19 != null)
	{
		fn004019FB();
		word32 ebp_60;
		word32 esi_61;
		byte SCZO_63;
		byte SZO_64;
		byte C_65;
		byte Z_66;
		word32 ecx_67;
		word32 edi_68;
		word32 edx_69;
		eax_19();
	}
	else
	{
		eax_35 = InitializeCriticalSectionAndSpinCount(dwArg04, dwArg08);
		esp_36 = fp - 0x08;
	}
	word32 esi_38;
	*esiOut = esp_36->dw0000;
	word32 ebp_40;
	*ebpOut = esp_36->dw0004;
	return eax_35;
}

// 004023BB: void fn004023BB()
void fn004023BB()
{
	word32 * eax_16 = globals->a412B28;
	word32 ecx_19 = 0x00;
	ui32 esi_21 = __ror(0x00, (byte) (0x20 - (globals->t412004 & 0x1F))) ^ globals->t412004;
	do
	{
		*eax_16 = esi_21;
		ecx_19 = ecx_19 + 0x01;
		eax_16 = eax_16 + 0x01;
	} while (ecx_19 != 0x09);
	return;
}

// 004023F5: void fn004023F5(Stack byte bArg04)
void fn004023F5(byte bArg04)
{
	if (bArg04 == 0x00)
	{
		ui32 * esi_27 = globals->a412B18;
		do
		{
			if (*esi_27 != 0x00)
			{
				if (*esi_27 != ~0x00)
					FreeLibrary(*esi_27);
				*esi_27 = (ui32) (*esi_27 & 0x00);
			}
			esi_27 = esi_27 + 0x01;
		} while (esi_27 != globals->a412B28);
	}
	return;
}

// 00402427: void fn00402427()
void fn00402427()
{
	globals->dw412B4C = __ror(0x00, (byte) (0x20 - (globals->t412004 & 0x1F))) ^ globals->t412004;
	return;
}

// 00402C9D: Register Eq_3 fn00402C9D(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out Eq_495 blOut, Register out ptr32 ebpOut)
Eq_3 fn00402C9D(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_495 & blOut, ptr32 & ebpOut)
{
	word32 ebp_13;
	*ebpOut = fn00404BB9(ebx, ebp, edi, es, ds);
	Eq_3 esi_102 = globals->t412D08;
	if (esi_102 == 0x00)
		esi_102.u0 = 0x00412CB0;
	bool bl_20 = 0x00;
	Eq_3 ebx_21 = DPB(ebx, 0x00, 0);
l00402CB7:
	cu8 al_35 = *esi_102.u0;
	if (al_35 > 0x20)
	{
l00402CC5:
		if (al_35 == 0x22)
		{
			bl_20 = bl_20 == 0x00;
			ebx_21 = DPB(ebx_21, bl_20, 0);
		}
		*(fp - 0x0C) = (word32) al_35;
		word32 esi_50;
		if (fn00404EE8(ebx_21, esi_102, es, ds, dwArg00, out ebx_21, out esi_50) != 0x00)
			esi_50 = esi_50 + 0x01;
		esi_102 = esi_50 + 0x01;
		goto l00402CB7;
	}
	else
	{
		if (al_35 != 0x00)
		{
			if (bl_20 != 0x00)
				goto l00402CC5;
			do
			{
				if (al_35 > 0x20)
					goto l00402CEB;
				esi_102.u0 = (byte) esi_102.u0 + 0x01;
				al_35 = (cu8) *esi_102.u0;
			} while (al_35 != 0x00);
		}
l00402CEB:
		byte bl_81;
		*blOut = (byte) *(fp - 0x04);
		return esi_102;
	}
}

// 00402CF0: void fn00402CF0(Register Eq_3 edx, Register Eq_3 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08)
void fn00402CF0(Eq_3 edx, Eq_3 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08)
{
	Eq_3 ebp_115 = fp - 0x04;
	ui32 eax_15 = globals->t412004 ^ fp - 0x04;
	Eq_3 esi_121 = dwArg04;
	union Eq_3 * esp_113 = fp - 0x18;
	ui32 edi_114 = 0x00;
	ui32 ebx_120 = ~(0x00 - (dwArg08 < dwArg04)) & (dwArg08 - dwArg04) + 0x03 >> 0x02;
	if (ebx_120 != 0x00)
	{
		do
		{
			<anonymous> * eax_77 = *esi_121;
			if (eax_77 != null)
			{
				word32 esp_99;
				word32 edi_100;
				word32 ebp_101;
				word32 ecx_102;
				word32 eax_103;
				byte SZO_104;
				byte C_105;
				word32 ebx_106;
				word32 esi_107;
				byte SCZO_108;
				byte Z_109;
				word32 edx_110;
				struct Eq_2301 * es_111;
				struct Eq_2302 * ds_112;
				globals->ptr40C100();
				word32 ecx_116;
				word32 eax_117;
				byte SZO_118;
				byte C_119;
				byte SCZO_122;
				byte Z_123;
				eax_77();
			}
			esi_121.u2 = (word256) esi_121 + 0x04;
			edi_114 = edi_114 + 0x01;
		} while (edi_114 != ebx_120);
	}
	struct Eq_2260 * esp_54 = (char *) esp_113 + 0x04;
	word32 ecx_62;
	fn004010FE(eax_15 ^ fp - 0x04, edx, esp_54->t0004, ebp_115, esp_54->t0000, *esp_113, es, ds, ebp, out ecx_62);
	return;
}

// 00402D4C: Register (ptr word32) fn00402D4C(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08)
word32 * fn00402D4C(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08)
{
	Eq_3 ebp_103 = fp - 0x04;
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	Eq_3 esi_108 = dwArg04;
	struct Eq_2322 * esp_101 = fp - 0x10;
	while (esi_108 != dwArg08)
	{
		word32 edi_67 = *esi_108;
		if (edi_67 != 0x00)
		{
			word32 esp_87;
			<anonymous> * edi_88;
			word32 ebp_89;
			word32 ecx_90;
			word32 eax_91;
			byte SZO_92;
			byte C_93;
			word32 esi_94;
			byte SCZO_95;
			byte Z_96;
			word32 edx_97;
			word32 ebx_98;
			struct Eq_2346 * es_99;
			struct Eq_2347 * ds_100;
			globals->ptr40C100();
			word32 edi_102;
			word32 ecx_104;
			word32 eax_105;
			byte SZO_106;
			byte C_107;
			byte SCZO_109;
			byte Z_110;
			edi_88();
			if (eax_105 != 0x00)
				break;
		}
		esi_108.u2 = (word256) esi_108 + 0x04;
	}
	word32 ecx_59;
	return fn004010FE(eax_13 ^ fp - 0x04, edx, ebx, ebp_103, esp_101->t0004, esp_101->t0000, es, ds, ebp, out ecx_59);
}

// 00402D91: Register Eq_3 fn00402D91(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn00402D91(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 4263144, 0x08);
	*(fp - 0x0C) = (union Eq_2392 *) **((word256) ebp_10 + 0x08);
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 ebp_28;
	Eq_3 edx_29 = fn00402DF3(*((word256) ebp_10 + 0x0C), edx, ebx, esi, edi, es, ds, out ebp_28);
	*(ebp_28 - 0x04) = ~0x01;
	fn00402DC8(ebp_28);
	word32 ebp_34;
	word32 esi_35;
	word32 edi_36;
	word32 ebx_37;
	*ebxOut = fn00401A56(ebp_28, 0x08, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_34, out esi_35, out edi_36);
	return edx_29;
}

// 00402DC8: void fn00402DC8(Register Eq_3 ebp)
void fn00402DC8(Eq_3 ebp)
{
	fn0040505C(**((word256) ebp + 0x0010));
	return;
}

// 00402DD4: Register ui32 fn00402DD4(Stack Eq_3 dwArg04)
ui32 fn00402DD4(Eq_3 dwArg04)
{
	return __ror(dwArg04, (byte) (0x20 - (globals->t412004 & 0x1F))) ^ globals->t412004;
}

// 00402DF3: Register Eq_3 fn00402DF3(Register Eq_3 ecx, Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebpOut)
Eq_3 fn00402DF3(Eq_3 ecx, Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebpOut)
{
	ptr32 esp_115 = fp - 0x08;
	Eq_3 ebp_10 = fn0040A630(ebx, esi, edi, dwLoc0C, 0x00410CC8, 0x0C);
	Eq_3 esi_107 = ecx;
	if (globals->b412CBC != 0x00)
	{
l00402EB0:
		word32 ebp_38;
		word32 esi_39;
		word32 edi_40;
		fn0040A679(edx, ebx, ebp_10, esi_107, edi, es, ds, out ebp_38, out esi_39, out edi_40);
		return edx;
	}
	word32 * esp_110;
	globals->dw412CB4 = 0x01;
	*(ebp_10 - 0x04) = 0x00;
	ebx.u0 = 0x00;
	word32 eax_52 = **ecx;
	if (eax_52 == 0x00)
	{
		edi = globals->t412004;
		*(fp - 0x0C) = 0x20;
		ui32 eax_127 = __ror(eax_52, (byte) (*(fp - 0x0C) - (edi & 0x1F))) ^ edi;
		edx = edi & 0x1F;
		ptr32 esp_122 = fp - 0x08;
		ui32 ecx_128 = globals->dw412CB8;
		if (ecx_128 != eax_127)
		{
			*(fp - 0x0C) = 0x00;
			*(fp - 0x10) = 0x00;
			*(fp - 0x14) = 0x00;
			byte cl_158 = (byte) (edi & 0x1F);
			word32 edi_160 = __ror(edi ^ ecx_128, cl_158);
			word32 esp_163;
			word32 esi_164;
			word32 ecx_165;
			byte SCZO_166;
			byte Z_167;
			word32 eax_168;
			byte SZO_169;
			byte C_170;
			word32 ebx_171;
			word32 ebp_172;
			<anonymous> * edi_173;
			word32 edx_174;
			byte cl_175;
			struct Eq_2616 * es_176;
			struct Eq_2617 * ds_177;
			globals->ptr40C100();
			word32 ecx_180;
			byte SCZO_181;
			byte Z_182;
			word32 eax_183;
			byte SZO_184;
			byte C_185;
			byte cl_190;
			edi_173();
		}
		esp_110 = esp_122 - 0x04;
		*esp_110 = 0x00412CCC;
	}
	else
	{
		if (eax_52 != 0x01)
			goto l00402E6D;
		*(fp - 0x0C) = 4271320;
		esp_110 = fp - 0x0C;
	}
	edx = fn00403558(edx, ebx, esi_107, edi, es, ds, out ebx, out esi_107);
	esp_115 = esp_110 + 0x01;
l00402E6D:
	*(ebp_10 - 0x04) = ~0x01;
	if (**esi_107 == ebx)
	{
		word32 * esp_89 = esp_115 - 0x04;
		*esp_89 = 4243772;
		*(esp_89 - 0x04) = 0x0040C12C;
		fn00402CF0(edx, ebp_10, es, ds, dwArg00, dwArg04);
	}
	word32 * esp_73 = esp_115 - 0x04;
	*esp_73 = 0x0040C144;
	*(esp_73 - 0x04) = 0x0040C140;
	fn00402CF0(edx, ebp_10, es, ds, dwArg00, dwArg04);
	if (**((word256) esi_107 + 0x04) == ebx)
	{
		globals->b412CBC = 0x01;
		(*((word256) esi_107 + 0x08))->u0 = 0x01;
	}
	goto l00402EB0;
}

// 00402EE2: Register Eq_3 fn00402EE2(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack word32 dwArg0C, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_3 fn00402EE2(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, word32 dwArg0C, ptr32 & ebxOut, ptr32 & esiOut)
{
	if (dwArg0C == 0x00)
	{
		ui32 ecx_68;
		if (fn00402F8A(out ecx_68) != 0x00)
			esi = fn00402FCE(ecx_68, edx, ebx, fp - 0x04, esi, edi, es, ds, dwArg04);
	}
	Eq_3 ebx_47;
	struct Eq_2725 * ebp_48;
	Eq_3 esi_49;
	Eq_3 edi_50;
	Eq_3 edx_51 = fn00402D91(edx, ebx, esi, edi, es, ds, out ebx_47, out ebp_48, out esi_49, out edi_50);
	if (ebp_48->dw0010 == 0x00)
	{
		*(fp - 0x20) = ebp_48->dw0008;
		fn00402F48(ebx_47, esi_49, edi_50, es, ds, dwArg00);
		int3();
		fn00402F48(ebx_47, esi_49, edi_50, es, ds, dwArg04);
		return edx_51;
	}
	else
		return edx_51;
}

// 00402F48: void fn00402F48(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
void fn00402F48(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	ui32 ecx_11;
	Eq_3 edx_12;
	if (fn00405073(ebx, edi, es, ds, out ecx_11, out edx_12) != 0x01 && ((byte) ((fs->ptr0030)->dw0068 >> 0x08) & 0x01) == 0x00)
		TerminateProcess(GetCurrentProcess(), dwArg04);
	fn00402FCE(ecx_11, edx_12, ebx, fp - 0x04, esi, edi, es, ds, dwArg04);
	ExitProcess(dwArg04);
}

// 00402F8A: Register bool fn00402F8A(Register out ptr32 ecxOut)
bool fn00402F8A(ptr32 & ecxOut)
{
	Eq_3 eax_4 = GetModuleHandleW(null);
	word32 ecx_6;
	*ecxOut = eax_4;
	if (eax_4 != 0x00 && *eax_4 == 23117)
	{
		word32 eax_43 = Mem0[eax_4 + 0x3C:word32] + eax_4;
		if (eax_43->dw0000 == 0x4550)
		{
			word32 ecx_48;
			*ecxOut = 0x010B;
			if (eax_43->w0018 == 0x010B && eax_43->dw0074 > 0x0E)
				return eax_43->dw00E8 != 0x00;
		}
	}
	return 0x00;
}

// 00402FCE: Register Eq_3 fn00402FCE(Register ui32 ecx, Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn00402FCE(ui32 ecx, Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	ui32 eax_15 = globals->t412004 ^ fp - 0x04;
	Eq_3 edi_118 = edi;
	Eq_3 ebp_119 = fp - 0x04;
	ptr32 esp_28 = fp - 0x0C;
	if (GetModuleHandleExW(0x00, &globals->t40CA6C, fp - 0x0C) != 0x00)
	{
		Eq_655 eax_75 = GetProcAddress(ecx & 0x00, &globals->t40CA84);
		union Eq_3 * esp_117 = fp - 0x10;
		if (eax_75 != null)
		{
			word32 esp_103;
			word32 edi_104;
			word32 ebp_105;
			word32 ecx_106;
			word32 eax_107;
			byte SZO_108;
			byte C_109;
			byte Z_110;
			<anonymous> * esi_111;
			byte SCZO_112;
			word32 edx_113;
			word32 ebx_114;
			struct Eq_2927 * es_115;
			struct Eq_2928 * ds_116;
			globals->ptr40C100();
			word32 ecx_120;
			word32 eax_121;
			byte SZO_122;
			byte C_123;
			byte Z_124;
			word32 esi_125;
			byte SCZO_126;
			esi_111();
		}
		esi = *esp_117;
		esp_28 = (char *) esp_117 + 0x04;
	}
	if ((ecx & 0x00) != 0x00)
	{
		union Eq_3 * esp_64 = esp_28 - 0x04;
		*esp_64 = (union Eq_3 *) (ecx & 0x00);
		FreeLibrary(*esp_64);
	}
	word32 ecx_58;
	fn004010FE(eax_15 ^ fp - 0x04, edx, ebx, ebp_119, esi, edi_118, es, ds, ebp, out ecx_58);
	return esi;
}

// 00403056: Register Eq_3 fn00403056(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn00403056(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*ebpOut = ebp;
	*ediOut = edi;
	word32 ebx_15;
	word32 esi_16;
	return fn00402EE2(edx, ebx, ebp, esi, edi, es, ds, 0x00, 0x01, out ebx_15, out esi_16);
}

// 00403065: Register Eq_3 fn00403065(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut, Register out Eq_2975 esiOut)
Eq_3 fn00403065(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut, Eq_2975 & esiOut)
{
	word32 ebx_21;
	word32 esi_22;
	return fn00402EE2(edx, ebx, fp - 0x04, esi, edi, es, ds, dwArg04, 0x00, out ebx_21, out esi_22);
}

// 0040307B: Register Eq_3 fn0040307B(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn0040307B(Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	byte cl_16 = (byte) (0x20 - (globals->t412004 & 0x1F));
	Eq_3 edi_117 = edi;
	if (globals->dw412CB8 != (__ror(0x00, cl_16) ^ globals->t412004))
	{
		ptr32 ebp_66;
		word32 esi_67;
		Eq_3 ebx_127;
		Eq_3 edx_130;
		Eq_3 eax_68 = fn00403D02(ebx, fn0040A630(ebx, esi, edi, dwLoc10, 4263272, 0x0C), esi, edi, es, ds, out edx_130, out ebx_127, out ebp_66, out esi_67);
		Eq_3 esi_126 = *((word256) eax_68 + 0x0C);
		if (esi_126 != 0x00)
		{
			*(ebp_66 - 0x04) = *(ebp_66 - 0x04) & 0x00;
			word32 esp_101;
			word32 edi_102;
			word32 ebp_103;
			word32 eax_104;
			byte SZO_105;
			byte C_106;
			word32 ecx_107;
			byte SCZO_108;
			byte cl_109;
			byte Z_110;
			<anonymous> * esi_111;
			word32 ebx_112;
			struct Eq_3089 * es_113;
			struct Eq_3090 * ds_114;
			word32 edx_115;
			globals->ptr40C100();
			word32 esp_116;
			ptr32 ebp_118;
			word32 eax_119;
			byte SZO_120;
			byte C_121;
			word32 ecx_122;
			byte SCZO_123;
			byte cl_124;
			byte Z_125;
			esi_111();
			*(ebp_118 - 0x04) = ~0x01;
		}
		Eq_3 ebx_87;
		Eq_3 ebp_88;
		word32 esi_89;
		Eq_3 edi_90;
		fn004038C4(edx_130, ebx_127, esi_126, edi_117, es, ds, out ebx_87, out ebp_88, out esi_89, out edi_90);
		int3();
		Eq_3 ebx_94;
		fn004037E2(ebx_87, ebp_88, edi_90, es, ds, dwArg00, out ebx_94);
		return ebx_94;
	}
	else
	{
		globals->dw412CB8 = fn00402DD4(dwArg04);
		return ebx;
	}
}

// 004030B3: Register Eq_3 fn004030B3(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_3 fn004030B3(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut, ptr32 & esiOut)
{
	word32 ebx_21;
	word32 esi_22;
	return fn00402EE2(edx, ebx, fp - 0x04, esi, edi, es, ds, dwArg04, 0x00, out ebx_21, out esi_22);
}

// 0040316A: void fn0040316A()
void fn0040316A()
{
	globals->dw412CC0 = 0x01;
	return;
}

// 00403200: Register word32 fn00403200()
word32 fn00403200()
{
	return globals->dw412CC4;
}

// 0040323B: Register Eq_3 fn0040323B(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
Eq_3 fn0040323B(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410D48, 0x0C);
	*(ebp_10 - 0x1C) = *(ebp_10 - 0x1C) & 0x00;
	*(fp - 0x0C) = (word32) **((word256) ebp_10 + 0x08);
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 edx_32;
	*(ebp_10 - 0x1C) = fn0040341E(*((word256) ebp_10 + 0x0C), edx, ebx, ebp_10, esi, es, ds, out edx_32);
	*(ebp_10 - 0x04) = ~0x01;
	fn00403280(ebp_10);
	word32 ebp_41;
	word32 esi_42;
	word32 edi_43;
	word32 ebx_44;
	*ebxOut = fn00401A56(ebp_10, 0x0C, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_41, out esi_42, out edi_43);
	return edx_32;
}

// 00403280: void fn00403280(Register Eq_3 ebp)
void fn00403280(Eq_3 ebp)
{
	fn0040505C(**((word256) ebp + 0x0010));
	return;
}

// 0040341E: Register (ptr word32) fn0040341E(Register (ptr (ptr (ptr Eq_3254))) ecx, Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut)
word32 * fn0040341E(Eq_3254 * * * ecx, Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_3 ebp_105 = fp - 0x04;
	union Eq_3 * esp_113 = fp - 0x24;
	struct Eq_3254 * edi_19 = **ecx;
	if (edi_19 != null)
	{
		Eq_3 ebx_133 = globals->t412004;
		byte cl_82 = (byte) (ebx_133 & 0x1F);
		ui32 edi_83 = edi_19->dw0004 ^ ebx_133;
		Eq_3 esi_140 = __ror(edi_19->dw0000 ^ ebx_133, cl_82);
		union Eq_3 * esp_106 = fp - 44;
		edx = ebx_133 & 0x1F;
		*edxOut = edx;
		Eq_3 edi_143 = __ror(edi_83, cl_82);
		if (esi_140 != 0x00 && esi_140 != ~0x00)
		{
			ptr32 esp_119 = fp - 44;
			Eq_3 dwLoc10_122 = esi_140;
			Eq_3 dwLoc14_124 = edi_143;
			ui32 eax_127 = __ror(0x00, (byte) (0x20 - (ebx_133 & 0x1F))) ^ ebx_133;
			while (true)
			{
				edi_143 = edi_143 - 0x04;
				if (edi_143 < esi_140)
					break;
				ui32 ecx_151 = *edi_143;
				if (ecx_151 == eax_127)
					continue;
				*edi_143 = eax_127;
				byte cl_160 = (byte) edx;
				word32 ebx_163 = __ror(ecx_151 ^ ebx_133, cl_160);
				word32 esp_166;
				word32 edi_167;
				word32 ebp_168;
				byte SCZO_169;
				word32 eax_170;
				byte SZO_171;
				byte C_172;
				word32 ecx_173;
				byte Z_174;
				<anonymous> * ebx_175;
				word32 edx_176;
				word32 esi_177;
				byte cl_178;
				struct Eq_3364 * es_179;
				struct Eq_3365 * ds_180;
				globals->ptr40C100();
				byte SCZO_184;
				word32 eax_185;
				byte SZO_186;
				byte C_187;
				word32 ecx_188;
				byte Z_189;
				word32 ebx_190;
				word32 edx_191;
				byte cl_193;
				ebx_175();
				ebx_133 = globals->t412004;
				struct Eq_3254 * eax_201 = **ecx;
				ui32 eax_206 = eax_201->dw0004 ^ ebx_133;
				byte cl_208 = (byte) (ebx_133 & 0x1F);
				Eq_3 dwLoc0C_210 = __ror(eax_201->dw0000 ^ ebx_133, cl_208);
				edx = ebx_133 & 0x1F;
				Eq_3 eax_212 = __ror(eax_206, cl_208);
				if (dwLoc0C_210 == dwLoc10_122)
				{
					if (eax_212 == dwLoc14_124)
						continue;
				}
				dwLoc14_124 = eax_212;
				edi_143 = eax_212;
				esi_140 = dwLoc0C_210;
				dwLoc10_122 = dwLoc0C_210;
			}
			if (esi_140 != ~0x00)
			{
				*(esp_119 - 0x04) = (union Eq_3 *) esi_140;
				word32 ebx_261;
				fn004037E2(ebx_133, ebp_105, edi_143, es, ds, dwArg00, out ebx_261);
				ebx_133 = globals->t412004;
			}
			word32 * esp_237 = esp_119 - 0x04;
			*esp_237 = 0x20;
			word32 edx_244 = __ror(0x00, (byte) (*esp_237 - (ebx_133 & 0x1F)));
			struct Eq_3439 *** ecx_245 = *(ebp_105 - 0x18);
			edx = edx_244 ^ ebx_133;
			*edxOut = edx;
			***ecx_245 = (struct Eq_3439 ***) edx;
			*((char *) **ecx_245 + 0x04) = (struct Eq_3439 ***) edx;
			*((char *) **ecx_245 + 0x08) = (struct Eq_3439 ***) edx;
			esp_106 = (union Eq_3 *) (esp_237 + 0x01);
		}
		union Eq_3 * esp_108 = (char *) esp_106 + 0x04;
		esi = *esp_106;
		ebx = *esp_108;
		esp_113 = (union Eq_3 *) ((char *) esp_108 + 0x04);
	}
	word32 ecx_47;
	return fn004010FE(*(ebp_105 - 0x04) ^ ebp_105, edx, ebx, ebp_105, esi, *esp_113, es, ds, ebp, out ecx_47);
}

// 00403558: Register Eq_3 fn00403558(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_3 fn00403558(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & esiOut)
{
	word32 ebx_33;
	word32 ebp_34;
	word32 esi_35;
	return fn0040323B(edx, ebx, esi, edi, es, ds, out ebx_33, out ebp_34, out esi_35);
}

// 00403705: Register byte fn00403705(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 ediOut)
byte fn00403705(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & ediOut)
{
	*ediOut = edi;
	word32 ebx_12;
	return fn00406203(edx, ebx, ebp, esi, es, ds, &globals->t40CA98, &globals->t40CB18, out ebx_12);
}

// 00403717: void fn00403717(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack byte bArg04)
void fn00403717(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, byte bArg04)
{
	if (bArg04 == 0x00)
	{
		fn00406286(edx, ebx, fp - 0x04, edi, es, ds, 4246168, 4246296);
		return;
	}
	else
	{
		if (globals->t413174 != 0x00)
			fn004068EE(ebx, esi, edi, es, ds);
		return;
	}
}

// 004037E2: Register word32 fn004037E2(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out (ptr Eq_3) ebxOut)
word32 fn004037E2(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 * & ebxOut)
{
	*ebxOut = ebx;
	if (dwArg04 != 0x00 && HeapFree(globals->t413158, 0x00, dwArg04) == 0x00)
	{
		word32 ebx_56;
		word32 ebp_57;
		word32 esi_58;
		word32 edi_59;
		word32 * eax_60 = fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx, out ebx_56, out ebp_57, out esi_58, out edi_59);
		*(fp - 0x0C) = (union Eq_3 *) GetLastError();
		*eax_60 = fn00404152(dwArg00);
	}
	return edx;
}

// 0040381C: Register Eq_3 fn0040381C(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut)
Eq_3 fn0040381C(Eq_3 edx, Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	Eq_3 eax_23;
	Eq_3 esi_12 = dwArg04;
	if (dwArg04 <= ~0x1F)
	{
		if (dwArg04 == 0x00)
			esi_12.u2 = (word256) dwArg04 + 0x01;
		do
		{
			*(fp - 0x0C) = (union Eq_3 *) esi_86;
			*(fp - 0x10) = 0x00;
			*(fp - 0x14) = (union Eq_3 *) globals->t413158;
			eax_23 = HeapAlloc(*(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
			if (eax_23 != 0x00)
				return eax_23;
			if (fn00403200() == 0x00)
				break;
			*(fp - 0x0C) = (union Eq_3 *) esi_86;
			Eq_3 ebx_85 = ebx;
			Eq_3 esi_86 = esi_12;
		} while (fn004062DD(edx, ebx_85, fp - 0x04, esi_86, edi, es, ds, out ebx, out esi_12) == 0x00);
	}
	word32 edx_39;
	word32 ebx_40;
	word32 ebp_41;
	word32 esi_42;
	word32 edi_43;
	*fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_39, out ebx_40, out ebp_41, out esi_42, out edi_43) = 0x0C;
	eax_23.u0 = 0x00;
	return eax_23;
}

// 004038C4: Register Eq_3 fn004038C4(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out (ptr Eq_3055) ebpOut, Register out ptr32 esiOut, Register out (ptr Eq_3057) ediOut)
Eq_3 fn004038C4(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, Eq_3055 * & ebpOut, ptr32 & esiOut, Eq_3057 * & ediOut)
{
	*ediOut = edi;
	*ebpOut = ebp;
	Eq_3 esi_14;
	Eq_3 ebx_16;
	if (fn00406437(ebx, esi, edi, out ebx_16, out esi_14) != 0x00)
	{
		*(fp - 0x04) = 22;
		edx = fn00406487(ebx_16, esi_14, edi, es, ds, out ebx_16, out esi_14, out edi);
	}
	if ((globals->b412040 & 0x02) != 0x00)
	{
		*(fp - 0x04) = 0x17;
		if (IsProcessorFeaturePresent(*(fp - 0x04)) != 0x00)
		{
			*(fp - 0x04) = 0x07;
			__fastfail(*(fp - 0x04));
		}
		*(fp - 0x04) = 0x01;
		*(fp - 0x08) = 0x40000015;
		*(fp - 0x0C) = 0x03;
		edx = fn00403F49(ebx_16, esi_14, edi, es, ds, dwLoc04, dwArg00, dwArg04, dwArg08);
	}
	*(fp - 0x04) = 0x03;
	Eq_3 ebx_36;
	word32 esi_37;
	Eq_3 edx_38 = fn00403065(edx, ebx_16, esi_14, edi, es, ds, dwArg00, out ebx_36, out esi_37);
	int3();
	Eq_3 edx_40;
	word32 ebx_41;
	fn00403908(edx_38, ebx_36, edi, es, ds, dwArg00, dwArg04, out edx_40, out ebx_41);
	return edx_40;
}

// 00403908: Register Eq_3 fn00403908(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Register out ptr32 edxOut, Register out ptr32 ebxOut)
Eq_3 fn00403908(Eq_3 edx, Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, ptr32 & edxOut, ptr32 & ebxOut)
{
	*edxOut = edx;
	*ebxOut = ebx;
	Eq_3 eax_28;
	if (dwArg04 != 0x00)
	{
		*edxOut = (uint32) (~0x1F % dwArg04);
		if ((uint32) (~0x1F /u dwArg04) < dwArg08)
			goto l00403955;
	}
	Eq_3 esi_105 = dwArg04 *s dwArg08;
	if (esi_105 == 0x00)
		esi_105.u2 = (word256) esi_105 + 0x01;
	do
	{
		*(fp - 0x0C) = (union Eq_3 *) esi_120;
		*(fp - 0x10) = 0x08;
		*(fp - 0x14) = (union Eq_3 *) globals->t413158;
		eax_28 = HeapAlloc(*(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
		if (eax_28 != 0x00)
			return eax_28;
		if (fn00403200() == 0x00)
			break;
		*(fp - 0x0C) = (union Eq_3 *) esi_120;
		Eq_3 ebx_119 = ebx;
		Eq_3 esi_120 = esi_105;
	} while (fn004062DD(edx, ebx_119, fp - 0x04, esi_120, edi, es, ds, out ebx, out esi_105) == 0x00);
l00403955:
	word32 edx_48;
	word32 ebx_49;
	word32 ebp_50;
	word32 esi_51;
	word32 edi_52;
	*fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_48, out ebx_49, out ebp_50, out esi_51, out edi_52) = 0x0C;
	eax_28.u0 = 0x00;
	return eax_28;
}

// 00403965: Register word32 fn00403965(Register Eq_3 ecx, Register Eq_3 ebx, Register ptr32 ebp, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut)
word32 fn00403965(Eq_3 ecx, Eq_3 ebx, ptr32 ebp, Eq_3 esi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	Eq_3 eax_38;
	((word256) ecx + 0x0C)->u0 = 0x00;
	if (dwArg04 != 0x00)
	{
		*((word256) ecx + 0x04) = *dwArg04;
		eax_38 = *((word256) dwArg04 + 0x04);
	}
	else
	{
		if (globals->dw412CC0 != 0x00)
		{
			word32 edx_59;
			Eq_3 ebx_60;
			word32 ebp_61;
			word32 esi_62;
			Eq_3 eax_63 = fn00403D02(ebx, fp - 0x04, esi, ecx, es, ds, out edx_59, out ebx_60, out ebp_61, out esi_62);
			*ecx = eax_63;
			*(fp - 0x10) = (word32 **) ((word256) ecx + 0x04);
			*((word256) ecx + 0x04) = *((word256) eax_63 + 0x004C);
			Eq_3 ecx_71 = *((word256) eax_63 + 0x0048);
			*(fp - 0x14) = (union Eq_3 *) eax_63;
			*((word256) ecx + 0x08) = ecx_71;
			Eq_3 ebx_76 = fn00406F90(ebx_60, ecx, es, ds, dwArg00, dwArg04);
			*(fp - 0x18) = (word32 **) ((word256) ecx + 0x08);
			*(fp - 0x1C) = (union Eq_3 *) *ecx;
			word32 ebx_82;
			edx = fn00406FBD(ebx_76, ecx, es, ds, dwArg00, dwArg04, out ebx_82);
			Eq_3 ecx_84 = *ecx;
			ui32 eax_86 = *((word256) ecx_84 + 848);
			if (((byte) eax_86 & 0x02) == 0x00)
			{
				*((word256) ecx_84 + 848) = eax_86 | 0x02;
				((word256) ecx + 0x0C)->u0 = 0x01;
			}
			return edx;
		}
		*((word256) ecx + 0x04) = globals->t412628;
		eax_38 = globals->t41262C;
	}
	*((word256) ecx + 0x08) = eax_38;
	return edx;
}

// 004039E8: Register Eq_3 fn004039E8(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn004039E8(Eq_3 ebx, Eq_3 esi, Eq_3 edi, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410D88, 0x08);
	*(fp - 0x0C) = (union Eq_3 *) **((word256) ebp_10 + 0x08);
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 eax_27 = *((word256) ***((word256) ebp_10 + 0x0C) + 0x0048);
	__lock();
	eax_27->u2 = (word256) *eax_27 + 0x01;
	*(ebp_10 - 0x04) = ~0x01;
	fn00403A24(ebp_10);
	word32 ebp_35;
	word32 esi_36;
	word32 edi_37;
	return fn00401A56(ebp_10, 0x08, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_35, out esi_36, out edi_37);
}

// 00403A24: void fn00403A24(Register Eq_3 ebp)
void fn00403A24(Eq_3 ebp)
{
	fn0040505C(**((word256) ebp + 0x0010));
	return;
}

// 00403ADC: Register Eq_3 fn00403ADC(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebpOut)
Eq_3 fn00403ADC(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebpOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 4263336, 0x08);
	*(fp - 0x0C) = (union Eq_3 *) **((word256) ebp_10 + 0x08);
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 ecx_24 = *((word256) ebp_10 + 0x0C);
	*(fp - 0x0C) = (union Eq_3 *) ***((word256) ecx_24 + 0x04);
	*(fp - 0x10) = (union Eq_3 *) **ecx_24;
	fn00403CB7(ebx, ebp_10, edi, es, ds, dwArg00);
	*(ebp_10 - 0x04) = ~0x01;
	fn00403B20(ebp_10);
	word32 ebp_44;
	word32 esi_45;
	word32 edi_46;
	return fn00401A56(ebp_10, 0x08, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_44, out esi_45, out edi_46);
}

// 00403B20: void fn00403B20(Register Eq_3 ebp)
void fn00403B20(Eq_3 ebp)
{
	fn0040505C(**((word256) ebp + 0x0010));
	return;
}

// 00403B2C: Register Eq_3 fn00403B2C(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn00403B2C(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	*((word256) dwArg04 + 0x0018) = 0x01;
	dwArg04->u0 = 0x0040C9D0;
	*((word256) dwArg04 + 848) = 0x01;
	((word256) dwArg04 + 0x0048)->u0 = 4268880;
	*((word256) dwArg04 + 0x006C) = 0x43;
	*((word256) dwArg04 + 0x0172) = 0x43;
	*((word256) dwArg04 + 844) = *((word256) dwArg04 + 844) & 0x00;
	ptr32 ebp_54;
	Eq_3 esi_55;
	Eq_3 edi_56;
	Eq_3 ebx_57 = fn004039E8(ebx, esi, edi, out ebp_54, out esi_55, out edi_56);
	*(ebp_54 - 0x0C) = ebp_54 + 0x08;
	*(fp - 0x1C) = 0x04;
	*(ebp_54 - 0x08) = ebp_54 + 0x0C;
	word32 eax_66 = *(fp - 0x1C);
	*(ebp_54 - 0x14) = eax_66;
	*(ebp_54 - 0x10) = eax_66;
	*(fp - 0x1C) = ebp_54 - 0x14;
	*(fp - 0x20) = ebp_54 - 0x0C;
	*(fp - 0x24) = ebp_54 - 0x10;
	word32 ebp_81;
	return fn00403ADC(ebx_57, esi_55, edi_56, es, ds, out ebp_81);
}

// 00403CB7: void fn00403CB7(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
void fn00403CB7(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	if (*((word256) dwArg04 + 0x004C) != 0x00)
	{
		fn00405B68(*((word256) dwArg04 + 0x004C));
		Eq_3 eax_46 = *((word256) dwArg04 + 0x004C);
		if (eax_46 != globals->t413074 && (eax_46 != 4269424 && *((word256) eax_46 + 0x0C) == 0x00))
			fn0040599C(ebx, fp - 0x04, edi, es, ds, eax_46);
	}
	Eq_3 eax_24 = fp->t0008;
	*((word256) dwArg04 + 0x004C) = eax_24;
	if (eax_24 != 0x00)
	{
		*(fp - 0x08) = (union Eq_3 *) eax_24;
		fn0040591F(dwArg00);
	}
	return;
}

// 00403D02: Register Eq_3 fn00403D02(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out (ptr Eq_3018) ebxOut, Register out (ptr Eq_3019) ebpOut, Register out Eq_3020 esiOut)
Eq_3 fn00403D02(Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, Eq_3018 * & ebxOut, Eq_3019 * & ebpOut, Eq_3020 & esiOut)
{
	*ebpOut = ebp;
	*ebxOut = ebx;
	Eq_3 esi_101;
	Eq_3 edx_100;
	GetLastError();
	Eq_3 edi_115 = edi;
	Eq_3 eax_12 = globals->t412044;
	if (eax_12 != ~0x00)
	{
		Eq_3 eax_184 = fn00405F31(ebx, ebp, edi, es, ds, eax_12, out edx_100, out esi_101);
		edi_115 = eax_184;
		if (eax_184 != 0x00)
		{
			if (eax_184 == ~0x00)
				goto l00403DA9;
			goto l00403D99;
		}
		eax_12 = globals->t412044;
	}
	if (fn00405F87(ebx, ebp, edi_115, es, ds, eax_12, ~0x00, out edx_100, out esi_101) == 0x00)
		goto l00403DA9;
	word32 edx_112;
	Eq_3 ebx_113;
	Eq_3 eax_114 = fn00403908(edx_100, ebx, edi_115, es, ds, 0x01, 868, out edx_112, out ebx_113);
	edi_115 = eax_114;
	if (eax_114 == 0x00)
	{
		*(fp - 0x0C) = (union Eq_3 *) eax_114;
		*(fp - 0x10) = (union Eq_3 *) globals->t412044;
		word32 edx_140;
		fn00405F87(ebx_113, ebp, eax_114, es, ds, dwArg00, dwArg04, out edx_140, out esi_101);
		*(fp - 0x0C) = (union Eq_3 *) eax_114;
	}
	else
	{
		*(fp - 0x0C) = (union Eq_3 *) eax_114;
		*(fp - 0x10) = (union Eq_3 *) globals->t412044;
		word32 edx_151;
		word32 eax_153 = fn00405F87(ebx_113, ebp, eax_114, es, ds, dwArg00, dwArg04, out edx_151, out esi_101);
		if (eax_153 != 0x00)
		{
			*(fp - 0x0C) = 4272244;
			*(fp - 0x10) = (union Eq_3 *) eax_114;
			Eq_3 ebx_173 = fn00403B2C(ebx_113, esi_101, eax_114, es, ds, dwArg00);
			*(fp - 0x14) = 0x00;
			*edxOut = fn004037E2(ebx_173, ebp, eax_114, es, ds, dwArg00, out ebx);
l00403D99:
			if (edi_115 != 0x00)
			{
				*(fp - 0x0C) = (union Eq_3 *) esi_101;
				SetLastError(*(fp - 0x0C));
				word32 esi_90;
				*esiOut = *(fp - 0x04);
				return edi_115;
			}
			goto l00403DA9;
		}
		*(fp - 0x0C) = eax_153;
		*(fp - 0x10) = (union Eq_3 *) globals->t412044;
		word32 edx_163;
		fn00405F87(ebx_113, ebp, eax_114, es, ds, dwArg00, dwArg04, out edx_163, out esi_101);
		*(fp - 0x0C) = (union Eq_3 *) eax_114;
	}
	edx_100 = fn004037E2(ebx_113, ebp, eax_114, es, ds, dwArg00, out ebx);
l00403DA9:
	*(fp - 0x0C) = (union Eq_3 *) esi_101;
	SetLastError(*(fp - 0x0C));
	Eq_3 ebx_48;
	Eq_3 ebp_49;
	word32 esi_50;
	Eq_3 edi_51;
	fn004038C4(edx_100, ebx, esi_101, edi_115, es, ds, out ebx_48, out ebp_49, out esi_50, out edi_51);
	int3();
	Eq_3 eax_54 = globals->t412044;
	*(fp - 0x10) = esi_50;
	if (eax_54 == ~0x00)
	{
		word32 edx_65;
		word32 ebx_66;
		word32 ebp_67;
		word32 esi_68;
		word32 edi_69;
		return fn00403DD9(eax_54, ebx_48, ebp_49, edi_51, es, ds, out edx_65, out ebx_66, out ebp_67, out esi_68, out edi_69);
	}
	else
	{
		word32 edx_59;
		word32 ebx_60;
		word32 ebp_61;
		word32 esi_62;
		word32 edi_63;
		return fn00403DC1(eax_54, ebx_48, ebp_49, edi_51, es, ds, out edx_59, out ebx_60, out ebp_61, out esi_62, out edi_63);
	}
}

// 00403DB6: Register Eq_3 fn00403DB6(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn00403DB6(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_3 eax_3 = globals->t412044;
	if (eax_3 == ~0x00)
	{
		word32 edx_31;
		word32 ebx_32;
		word32 ebp_33;
		word32 esi_34;
		word32 edi_35;
		return fn00403DD9(eax_3, ebx, ebp, edi, es, ds, out edx_31, out ebx_32, out ebp_33, out esi_34, out edi_35);
	}
	else
	{
		word32 edx_25;
		word32 ebx_26;
		word32 ebp_27;
		word32 esi_28;
		word32 edi_29;
		return fn00403DC1(eax_3, ebx, ebp, edi, es, ds, out edx_25, out ebx_26, out ebp_27, out esi_28, out edi_29);
	}
}

// 00403DC1: Register Eq_3 fn00403DC1(Register Eq_3 eax, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn00403DC1(Eq_3 eax, Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*(v3 - 0x04) = (union Eq_3 *) eax;
	word32 edx_11;
	word32 esi_12;
	Eq_3 eax_13 = fn00405F31(ebx, ebp, edi, es, ds, dwArg00, out edx_11, out esi_12);
	if (eax_13 == 0x00)
	{
		Eq_3 eax_46 = globals->t412044;
		word32 edx_47;
		word32 ebx_48;
		word32 ebp_49;
		word32 esi_50;
		word32 edi_51;
		return fn00403DD9(eax_46, ebx, ebp, edi, es, ds, out edx_47, out ebx_48, out ebp_49, out esi_50, out edi_51);
	}
	else if (eax_13 != ~0x00)
	{
		word32 edx_40;
		word32 ebx_41;
		word32 ebp_42;
		word32 esi_43;
		word32 edi_44;
		return fn00403DD9(eax_13, ebx, ebp, edi, es, ds, out edx_40, out ebx_41, out ebp_42, out esi_43, out edi_44);
	}
	else
	{
		word32 edx_34;
		word32 ebx_35;
		word32 ebp_36;
		word32 esi_37;
		word32 edi_38;
		return fn00403DD9(eax_13, ebx, ebp, edi, es, ds, out edx_34, out ebx_35, out ebp_36, out esi_37, out edi_38);
	}
}

// 00403DD9: Register Eq_3 fn00403DD9(Register Eq_3 eax, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn00403DD9(Eq_3 eax, Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*ebpOut = ebp;
	*ediOut = edi;
	*(v3 - 0x04) = ~0x00;
	*(v3 - 0x08) = (union Eq_3 *) eax;
	Eq_3 edx_131;
	Eq_3 esi_105;
	if (fn00405F87(ebx, ebp, edi, es, ds, dwArg00, dwArg04, out edx_131, out esi_105) != 0x00)
	{
		*(v3 - 0x04) = 868;
		*(v3 - 0x08) = 0x01;
		word32 edx_67;
		Eq_3 ebx_68;
		Eq_3 eax_69 = fn00403908(edx_131, ebx, edi, es, ds, dwArg00, dwArg04, out edx_67, out ebx_68);
		if (eax_69 == 0x00)
		{
			*(v3 - 0x04) = (union Eq_3 *) eax_69;
			*(v3 - 0x08) = (union Eq_3 *) globals->t412044;
			word32 edx_93;
			fn00405F87(ebx_68, ebp, edi, es, ds, dwArg00, dwArg04, out edx_93, out esi_105);
			*(v3 - 0x04) = (union Eq_3 *) esi_105;
			goto l00403E06;
		}
		*(v3 - 0x04) = (union Eq_3 *) eax_69;
		*(v3 - 0x08) = (union Eq_3 *) globals->t412044;
		word32 edx_104;
		word32 eax_106 = fn00405F87(ebx_68, ebp, edi, es, ds, dwArg00, dwArg04, out edx_104, out esi_105);
		if (eax_106 == 0x00)
		{
			*(v3 - 0x04) = eax_106;
			*(v3 - 0x08) = (union Eq_3 *) globals->t412044;
			word32 edx_116;
			fn00405F87(ebx_68, ebp, edi, es, ds, dwArg00, dwArg04, out edx_116, out esi_105);
			*(v3 - 0x04) = (union Eq_3 *) esi_105;
l00403E06:
			edx_131 = fn004037E2(ebx_68, ebp, edi, es, ds, dwArg00, out ebx);
			goto l00403E4A;
		}
		*(v3 - 0x04) = 4272244;
		*(v3 - 0x08) = (union Eq_3 *) esi_105;
		Eq_3 ebx_126 = fn00403B2C(ebx_68, esi_105, edi, es, ds, dwArg00);
		*(v3 - 0x0C) = 0x00;
		edx_131 = fn004037E2(ebx_126, ebp, edi, es, ds, dwArg00, out ebx);
		*edxOut = edx_131;
		if (esi_105 != 0x00)
		{
			word32 esi_138;
			*esiOut = *v3;
			return esi_105;
		}
	}
l00403E4A:
	Eq_3 ebx_53;
	Eq_3 ebp_54;
	word32 esi_55;
	Eq_3 edi_56;
	fn004038C4(edx_131, ebx, esi_105, edi, es, ds, out ebx_53, out ebp_54, out esi_55, out edi_56);
	int3();
	word32 edx_59;
	byte bl_60;
	word32 ebp_61;
	return fn00403E50(ebx_53, ebp_54, edi_56, es, ds, out edx_59, out bl_60, out ebp_61);
}

// 00403E50: Register Eq_3 fn00403E50(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out Eq_4877 blOut, Register out (ptr Eq_4878) ebpOut)
Eq_3 fn00403E50(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, Eq_4877 & blOut, Eq_4878 * & ebpOut)
{
	*ebpOut = ebp;
	Eq_3 esi_111;
	GetLastError();
	Eq_3 edi_103 = edi;
	Eq_3 ebx_114 = 0x00;
	Eq_3 eax_17 = globals->t412044;
	if (eax_17 != ~0x00)
	{
		word32 edx_167;
		Eq_3 eax_169 = fn00405F31(0x00, ebp, edi, es, ds, eax_17, out edx_167, out esi_111);
		edi_103 = eax_169;
		if (eax_169 != 0x00)
		{
			if (eax_169 == ~0x00)
				goto l00403E7A;
			goto l00403EF6;
		}
		eax_17 = globals->t412044;
	}
	Eq_3 edx_84;
	if (fn00405F87(0x00, ebp, edi_103, es, ds, eax_17, ~0x00, out edx_84, out esi_111) == 0x00)
		goto l00403E7A;
	word32 edx_96;
	Eq_3 ebx_97;
	Eq_3 eax_98 = fn00403908(edx_84, 0x00, edi_103, es, ds, 0x01, 868, out edx_96, out ebx_97);
	edi_103 = eax_98;
	if (eax_98 == 0x00)
	{
		*(fp - 0x10) = (union Eq_3 *) ebx_97;
		*(fp - 0x14) = (union Eq_3 *) globals->t412044;
		word32 edx_124;
		fn00405F87(ebx_97, ebp, eax_98, es, ds, dwArg00, dwArg04, out edx_124, out esi_111);
		*(fp - 0x10) = (union Eq_3 *) ebx_97;
	}
	else
	{
		*(fp - 0x10) = (union Eq_3 *) eax_98;
		*(fp - 0x14) = (union Eq_3 *) globals->t412044;
		word32 edx_135;
		if (fn00405F87(ebx_97, ebp, eax_98, es, ds, dwArg00, dwArg04, out edx_135, out esi_111) != 0x00)
		{
			*(fp - 0x10) = 4272244;
			*(fp - 0x14) = (union Eq_3 *) eax_98;
			Eq_3 ebx_157 = fn00403B2C(ebx_97, esi_111, eax_98, es, ds, dwArg00);
			*(fp - 0x18) = (union Eq_3 *) ebx_157;
			word32 edx_162;
			*edxOut = fn004037E2(ebx_157, ebp, eax_98, es, ds, dwArg00, out ebx_114);
l00403EF6:
			if (edi_103 != 0x00)
			{
				*(fp - 0x10) = (union Eq_3 *) esi_111;
				SetLastError(*(fp - 0x10));
l00403E83:
				byte bl_36;
				*blOut = (byte) *(fp - 0x04);
				return edi_103;
			}
			goto l00403E7A;
		}
		*(fp - 0x10) = (union Eq_3 *) ebx_97;
		*(fp - 0x14) = (union Eq_3 *) globals->t412044;
		word32 edx_147;
		fn00405F87(ebx_97, ebp, eax_98, es, ds, dwArg00, dwArg04, out edx_147, out esi_111);
		*(fp - 0x10) = (union Eq_3 *) eax_98;
	}
	word32 edx_115;
	*edxOut = fn004037E2(ebx_97, ebp, eax_98, es, ds, dwArg00, out ebx_114);
l00403E7A:
	*(fp - 0x10) = (union Eq_3 *) esi_111;
	SetLastError(*(fp - 0x10));
	edi_103 = ebx_114;
	goto l00403E83;
}

// 00403F49: Register Eq_3 fn00403F49(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack word32 dwArg00, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack word32 dwArg0C)
Eq_3 fn00403F49(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, word32 dwArg00, Eq_3 dwArg04, Eq_3 dwArg08, word32 dwArg0C)
{
	ui32 eax_11 = globals->t412004 ^ fp - 0x04;
	if (dwArg04 != ~0x00)
		fn0040199D();
	word32 edx_30;
	fn00401E10(ebx, fp - 0x0324, 0x00, 0x50, out edx_30);
	Eq_3 edx_40;
	fn00401E10(ebx, fp - 0x02D4, 0x00, 0x02CC, out edx_40);
	Eq_3 eax_88 = IsDebuggerPresent();
	SetUnhandledExceptionFilter(null);
	if (UnhandledExceptionFilter(fp - 0x032C) == 0x00 && (eax_88 == 0x00 && dwArg04 != ~0x00))
		fn0040199D();
	word32 ecx_114;
	fn004010FE(eax_11 ^ fp - 0x04, edx_40, ebx, fp - 0x04, esi, edi, es, ds, edi, out ecx_114);
	return edx_40;
}

// 00404093: Register (ptr word32) fn00404093(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
word32 * fn00404093(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	word32 edx_23;
	byte bl_24;
	Eq_3 ebp_25;
	Eq_3 eax_26 = fn00403E50(ebx, fp - 0x04, edi, es, ds, out edx_23, out bl_24, out ebp_25);
	if (eax_26 != 0x00 && *((word256) eax_26 + 0x035C) != 0x00)
	{
		*(fp - 0x10) = (word32) *((word256) ebp_25 + 0x0018);
		*(fp - 0x14) = (word32) *((word256) ebp_25 + 0x0014);
		*(fp - 0x18) = (word32) *((word256) ebp_25 + 0x0010);
		*(fp - 0x1C) = (word32) *((word256) ebp_25 + 0x0C);
		*(fp - 0x20) = (word32) *((word256) ebp_25 + 0x08);
	}
	else
	{
		*(fp - 0x10) = (word32) *((word256) ebp_25 + 0x0018);
		Eq_3 esi_103 = globals->t412004;
		*(fp - 0x14) = (word32) *((word256) ebp_25 + 0x0014);
		ui32 esi_108 = esi_103 ^ globals->dw412CE4;
		*(fp - 0x18) = (word32) *((word256) ebp_25 + 0x0010);
		word32 esi_115 = __ror(esi_108, (byte) (esi_103 & 0x1F));
		*(fp - 0x1C) = (word32) *((word256) ebp_25 + 0x0C);
		*(fp - 0x20) = (word32) *((word256) ebp_25 + 0x08);
		if (esi_115 == 0x00)
		{
			fn0040411E(ebx, edi, es, ds);
			int3();
			word32 ecx_125;
			word32 edx_126;
			word32 ebx_127;
			word32 ebp_128;
			word32 esi_129;
			word32 edi_130;
			return fn0040410E(ebx, ebp_25, edi, es, ds, out ecx_125, out edx_126, out ebx_127, out ebp_128, out esi_129, out edi_130);
		}
	}
	word32 esp_55;
	word32 edi_56;
	word32 ebp_57;
	word32 ecx_58;
	word32 eax_59;
	byte SZO_60;
	byte C_61;
	<anonymous> * esi_62;
	byte Z_63;
	byte SCZO_64;
	byte cl_65;
	word32 ebx_66;
	struct Eq_5321 * es_67;
	struct Eq_5322 * ds_68;
	word32 edx_69;
	byte bl_70;
	globals->ptr40C100();
	struct Eq_5327 * esp_71;
	Eq_3 edi_72;
	Eq_3 ebp_73;
	word32 ecx_74;
	word32 eax_75;
	byte SZO_76;
	byte C_77;
	word32 esi_78;
	byte Z_79;
	byte SCZO_80;
	byte cl_81;
	Eq_3 ebx_82;
	struct Eq_7 * es_83;
	struct Eq_8 * ds_84;
	Eq_3 edx_85;
	byte bl_86;
	esi_62();
	Eq_3 esi_93 = esp_71->t0014;
	*esiOut = esi_93;
	word32 ecx_95;
	word32 * eax_96 = fn004010FE(*(ebp_73 - 0x04) ^ ebp_73, edx_85, ebx_82, ebp_73, esi_93, edi_72, es_83, ds_84, ebp, out ecx_95);
	word32 ebp_98;
	*ebpOut = (word32) *ebp_73;
	return eax_96;
}

// 0040410E: Register word32 fn0040410E(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out (ptr Eq_5389) ebpOut, Register out Eq_5390 esiOut, Register out Eq_5391 ediOut)
word32 fn0040410E(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebxOut, Eq_5389 * & ebpOut, Eq_5390 & esiOut, Eq_5391 & ediOut)
{
	*ediOut = edi;
	word32 ecx_20;
	word32 edx_21;
	word32 ebx_22;
	word32 ebp_23;
	word32 esi_24;
	return fn00404093(ebx, ebp, edi, es, ds, out ecx_20, out edx_21, out ebx_22, out ebp_23, out esi_24);
}

// 0040411E: void fn0040411E(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds)
void fn0040411E(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds)
{
	if (IsProcessorFeaturePresent(0x17) == 0x00)
	{
		fn00403F49(ebx, 0xC0000417, edi, es, ds, dwLoc14, 0x02, 0xC0000417, 0x01);
		TerminateProcess(GetCurrentProcess(), 0xC0000417);
		return;
	}
	else
		__fastfail(0x05);
}

// 00404152: Register word32 fn00404152(Stack uint32 dwArg04)
word32 fn00404152(uint32 dwArg04)
{
	uint32 eax_10 = 0x00;
l0040415C:
	if (dwArg04 == ((&globals->t40CB18))[eax_10].dw0000)
		return globals->a40CB1C[eax_10];
	else
	{
		eax_10 = eax_10 + 0x01;
		if (eax_10 < 44)
			goto l0040415C;
		if (dwArg04 > 0x24)
			return (0x00 - (0x0E < dwArg04 - 188) & 0x0E) + 0x08;
		else
			return 0x0D;
	}
}

// 00404195: Register (ptr word32) fn00404195(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out Eq_5469 edxOut, Register out ptr32 ebxOut)
word32 * fn00404195(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_5469 & edxOut, ptr32 & ebxOut)
{
	word32 edx_14;
	Eq_3 ebx_15;
	Eq_3 ebp_16;
	word32 esi_17;
	Eq_3 edi_18;
	union Eq_3 * eax_19 = fn004041B8(ebx, fp - 0x04, edi, es, ds, out edx_14, out ebx_15, out ebp_16, out esi_17, out edi_18);
	Eq_3 ecx_21 = *((word256) ebp_16 + 0x08);
	*(fp - 0x0C) = (union Eq_3 *) ecx_21;
	*eax_19 = (union Eq_3 *) ecx_21;
	fn00404152(dwArg00);
	word32 edx_30;
	word32 ebx_31;
	word32 ebp_32;
	word32 esi_33;
	word32 edi_34;
	word32 * eax_35 = fn004041CB(ebx_15, ebp_16, edi_18, es, ds, out edx_30, out ebx_31, out ebp_32, out esi_33, out edi_34);
	*eax_35 = esi_33;
	return eax_35;
}

// 004041B8: Register ptr32 fn004041B8(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out Eq_5484 edxOut, Register out ptr32 ebxOut, Register out (ptr Eq_5486) ebpOut, Register out Eq_5487 esiOut, Register out Eq_5488 ediOut)
ptr32 fn004041B8(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_5484 & edxOut, ptr32 & ebxOut, Eq_5486 * & ebpOut, Eq_5487 & esiOut, Eq_5488 & ediOut)
{
	*ebxOut = ebx;
	*ediOut = edi;
	*esiOut = esi;
	word32 edx_7;
	byte bl_8;
	word32 ebp_9;
	Eq_3 eax_10 = fn00403E50(ebx, ebp, edi, es, ds, out edx_7, out bl_8, out ebp_9);
	if (eax_10 != 0x00)
		return (word256) eax_10 + 0x0014;
	else
		return 0x0041204C;
}

// 004041CB: Register ptr32 fn004041CB(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out Eq_3561 ebxOut, Register out (ptr Eq_3562) ebpOut, Register out ptr32 esiOut, Register out (ptr word32) ediOut)
ptr32 fn004041CB(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, Eq_3561 & ebxOut, Eq_3562 * & ebpOut, ptr32 & esiOut, word32 * & ediOut)
{
	*ebxOut = ebx;
	*ediOut = edi;
	*esiOut = esi;
	word32 edx_7;
	byte bl_8;
	word32 ebp_9;
	Eq_3 eax_10 = fn00403E50(ebx, ebp, edi, es, ds, out edx_7, out bl_8, out ebp_9);
	if (eax_10 != 0x00)
		return (word256) eax_10 + 0x0010;
	else
		return 0x00412048;
}

// 0040469B: Register Eq_3 fn0040469B(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out (ptr Eq_5572) ebpOut, Register out (ptr word32) ediOut)
Eq_3 fn0040469B(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_5572 * & ebpOut, word32 * & ediOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 4263464, 0x08);
	*(fp - 0x0C) = (word32) **((word256) ebp_10 + 0x08);
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 ebp_27 = fn004046DE(*((word256) ebp_10 + 0x0C), ebx, esi, edi, es, ds);
	*(ebp_27 - 0x04) = ~0x01;
	fn004046D2(ebp_27);
	word32 ebp_32;
	word32 esi_33;
	word32 edi_34;
	return fn00401A56(ebp_27, 0x08, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_32, out esi_33, out edi_34);
}

// 004046D2: void fn004046D2(Register Eq_3 ebp)
void fn004046D2(Eq_3 ebp)
{
	fn0040505C(**((word256) ebp + 0x0010));
	return;
}

// 004046DE: Register Eq_3 fn004046DE(Register Eq_3 ecx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds)
Eq_3 fn004046DE(Eq_3 ecx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds)
{
	Eq_3 ebx_28;
	fn00404E0E(ebx, edi, es, ds, globals->t412CE8, 0x0101, (word256) *((word256) **ecx + 0x0048) + 0x0018, 0x0101, out ebx_28);
	struct Eq_5671 ** eax_30 = *ecx;
	*(fp - 0x18) = 0x0100;
	*(fp - 0x1C) = (char *) *((char *) *eax_30 + 0x0048) + 0x0119;
	*(fp - 0x20) = 0x0100;
	*(fp - 0x24) = globals->ptr412CEC;
	Eq_3 ebx_49;
	ui32 ecx_50 = fn00404E0E(ebx_28, edi, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C, out ebx_49);
	word32 * eax_55 = ***((word256) ecx + 0x04);
	__lock();
	*eax_55 = __xadd(*eax_55, ecx_50 | ~0x00);
	if (*eax_55 == 0x00)
	{
		word32 ** eax_79 = **((word256) ecx + 0x04);
		if (*eax_79 != &globals->dw412350)
		{
			*(fp - 0x08) = *eax_79;
			word32 ebx_85;
			fn004037E2(ebx_49, ebp, edi, es, ds, dwArg00, out ebx_85);
		}
	}
	***((word256) ecx + 0x04) = *((word256) **ecx + 0x0048);
	word32 * eax_71 = *((word256) **ecx + 0x0048);
	__lock();
	*eax_71 = *eax_71 + 0x01;
	return ebp;
}

// 00404761: Register word32 fn00404761(Stack Eq_3 dwArg04)
word32 fn00404761(Eq_3 dwArg04)
{
	if (dwArg04 == 0x03A4)
		return globals->dw40CC78;
	else if (dwArg04 == 0x03A8)
		return globals->dw40CC7C;
	else if (dwArg04 == 949)
		return globals->dw40CC80;
	else if (dwArg04 == 0x03B6)
		return globals->dw40CC84;
	else
		return 0x00;
}

// 0040479F: Register Eq_3 fn0040479F(Register Eq_3 ebx, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_3 fn0040479F(Eq_3 ebx, Eq_3 esi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut)
{
	*esiOut = esi;
	word32 ebx_17;
	word32 edx_18;
	*edxOut = fn00403965(fp - 0x14, ebx, fp - 0x04, esi, es, ds, 0x00, out ebx_17);
	globals->dw412CF4 = globals->dw412CF4 & 0x00;
	Eq_3 eax_24 = fp->t0004;
	if (eax_24 == ~0x01)
	{
		globals->dw412CF4 = 0x01;
		eax_24 = GetOEMCP();
	}
	else if (eax_24 == ~0x02)
	{
		globals->dw412CF4 = 0x01;
		eax_24 = GetACP();
	}
	else if (eax_24 == ~0x03)
	{
		struct Eq_5904 * eax_53 = *(fp - 0x10);
		globals->dw412CF4 = 0x01;
		eax_24 = eax_53->t0008;
	}
	if (*(fp - 0x08) != 0x00)
	{
		struct Eq_5890 * ecx_40 = *(fp - 0x14);
		ecx_40->dw0350 = ecx_40->dw0350 & ~0x02;
	}
	return eax_24;
}

// 00404812: Register word32 fn00404812(Stack Eq_3 dwArg04)
word32 fn00404812(Eq_3 dwArg04)
{
	word32 edx_29;
	fn00401E10(dwArg04, (word256) dwArg04 + 0x0018, 0x00, 0x0101, out edx_29);
	((word256) dwArg04 + 0x04)->u0 = 0x00;
	((word256) dwArg04 + 0x08)->u0 = 0x00;
	*((word256) dwArg04 + 0x021C) = 0x00;
	((word256) dwArg04 + 0x0C)->u0 = 0x00;
	*((word256) dwArg04 + 0x0010) = null;
	*((word256) dwArg04 + 0x0014) = null;
	byte * esi_23 = (word256) dwArg04 + 0x0018;
	word32 ecx_36 = 0x0101;
	int32 edi_44 = 4268880 - dwArg04;
	do
	{
		*esi_23 = esi_23[edi_44];
		esi_23 = esi_23 + 0x01;
		ecx_36 = ecx_36 - 0x01;
	} while (ecx_36 != 0x00);
	union Eq_5968 * ecx_54 = (word256) dwArg04 + 0x0119;
	word32 edx_55 = 0x0100;
	do
	{
		*ecx_54 = *((char *) ecx_54 + edi_44);
		ecx_54 = (union Eq_5968 *) ((char *) ecx_54 + 0x01);
		edx_55 = edx_55 - 0x01;
	} while (edx_55 != 0x00);
	return edx_55;
}

// 00404877: Register Eq_3 fn00404877(Register Eq_3 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn00404877(Eq_3 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	Eq_3 edx_164;
	if (GetCPInfo(*((word256) dwArg04 + 0x04), fp - 0x071C) != 0x00)
	{
		Eq_6010 eax_70 = 0x00;
		byte al_71 = 0x00;
		do
		{
			*((word32) eax_70 + (fp - 0x0108)) = al_71;
			eax_70 = (word32) eax_70 + 0x01;
			al_71 = (byte) eax_70;
		} while (eax_70 < 0x0100);
		byte al_218 = bLoc0716;
		struct Eq_6025 * ecx_216 = fp - 1814 + 0x01;
		while (al_218 != 0x00)
		{
			Eq_6338 (* edx_206)[] = (word32) ecx_216->b0000;
			Eq_6338 (* eax_207)[] = (word32) al_218;
			while (eax_207 <= edx_206 && eax_207 < (Eq_6338 (*)[]) 0x0100)
			{
				Mem222[fp - 0x0108 + eax_207:byte] = 0x20;
				eax_207 = eax_207 + 0x01;
			}
			ecx_216 = ecx_216 + 0x01;
			al_218 = ecx_216->b0000;
		}
		fn004057FB(0x00, fp - 0x04, dwArg04, es, ds, 0x00);
		*(fp - 0x0750) = 0x00;
		*(fp - 0x0754) = (union Eq_3 *) *((word256) dwArg04 + 0x04);
		*(fp - 1880) = 0x0100;
		*(fp - 1884) = fp - 0x0208;
		*(fp - 1888) = 0x0100;
		*(fp - 0x0764) = fp - 0x0108;
		*(fp - 0x0768) = 0x0100;
		*(fp - 1900) = (word32) *((word256) dwArg04 + 0x021C);
		*(fp - 0x0770) = 0x00;
		Eq_3 ebx_135;
		Eq_3 esi_136;
		fn00407813(0x00, fp - 0x04, dwArg04, es, ds, dwArg00, out ebx_135, out esi_136);
		*(fp - 1844) = (union Eq_3 *) ebx_135;
		*(fp - 1848) = (union Eq_3 *) *((word256) esi_136 + 0x04);
		*(fp - 0x073C) = 0x0100;
		*(fp - 0x0740) = fp - 776;
		*(fp - 0x0744) = 0x0100;
		*(fp - 0x0748) = fp - 0x0108;
		*(fp - 1868) = 0x0200;
		*(fp - 0x0750) = (word32) *((word256) esi_136 + 0x021C);
		*(fp - 0x0754) = (union Eq_3 *) ebx_135;
		struct Eq_6209 * ebx_162;
		struct Eq_6210 * esi_163;
		edx_164 = fn00407813(ebx_135, fp - 0x04, esi_136, es, ds, dwArg00, out ebx_162, out esi_163);
		struct Eq_6209 * ecx_167 = ebx_162;
l00404960:
		Eq_6235 al_185;
		byte al_171 = (byte) (word32) (fp - 0x0708)[ecx_167];
		if ((al_171 & 0x01) != 0x00)
		{
			Mem191[esi_163 + 0x19 + ecx_167:byte] = Mem161[esi_163 + 0x19 + ecx_167:byte] | 0x10;
			al_185 = Mem191[fp - 0x0208 + ecx_167:byte];
		}
		else
		{
			if ((al_171 & 0x02) == 0x00)
			{
				Mem205[esi_163 + 0x0119 + ecx_167:byte] = 0x00;
l0040499A:
				ecx_167 = &ecx_167->b0000 + 0x01;
				if (ecx_167 < (struct Eq_6209 *) 0x0100)
					goto l00404960;
l004049FA:
				word32 ecx_65;
				fn004010FE(*(fp - 0x08) ^ fp - 0x04, edx_164, *(fp - 0x0728), fp - 0x04, *(fp - 0x072C), *(fp - 0x0730), es, ds, ebp, out ecx_65);
				return edx_164;
			}
			Mem200[esi_163 + 0x19 + ecx_167:byte] = Mem161[esi_163 + 0x19 + ecx_167:byte] | 0x20;
			al_185 = Mem200[fp - 776 + ecx_167:byte];
		}
		Mem189[esi_163 + 0x0119 + ecx_167:byte] = al_185;
		goto l0040499A;
	}
	struct Eq_6003 * ecx_229 = (struct Eq_6003 *) 0x20;
	word32 eax_232 = ~0x60 - (dwArg04 + 0x0119);
l004049B4:
	Eq_3 al_263;
	word32 edx_242 = dwArg04 + 0x0119 + ecx_229;
	uint32 eax_243 = edx_242 + eax_232 / 0x0220;
	if (eax_243 <= 0x07)
	{
		Mem270[dwArg04 + 0x19 + ecx_229:byte] = Mem0[dwArg04 + 0x19 + ecx_229:byte] | 0x10;
		al_263 = (byte) (ecx_229 + 0x00);
	}
	else
	{
		if (eax_243 > 0x19)
		{
			edx_242->t0000.u0 = 0x00;
l004049E9:
			edx_164 = dwArg04 + 0x0119;
			ecx_229 = ecx_229 + 0x01;
			if (ecx_229 < (struct Eq_6003 *) 0xE0)
				goto l004049B4;
			goto l004049FA;
		}
		word32 eax_277 = dwArg04 + ecx_229;
		eax_277->b0019 = eax_277->b0019 | 0x20;
		al_263 = (byte) (ecx_229 - (struct Eq_6261 *) 0x20);
	}
	edx_242->t0000 = al_263;
	goto l004049E9;
}

// 00404A0B: void fn00404A0B(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack word32 dwArg0C, Stack word32 dwArg10)
void fn00404A0B(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, word32 dwArg0C, word32 dwArg10)
{
	word32 edx_23;
	Eq_3 ebx_24;
	Eq_3 esi_26;
	Eq_3 ebp_108;
	fn00404B26(edx, ebx, esi, edi, es, ds, out edx_23, out ebx_24, out ebp_108, out esi_26);
	*(fp - 0x24) = (union Eq_3 *) *((word256) ebp_108 + 0x08);
	Eq_3 edx_32;
	Eq_3 ebx_33;
	word32 esi_34;
	Eq_3 eax_35 = fn0040479F(ebx_24, esi_26, es, ds, out edx_32, out ebx_33, out esi_34);
	struct Eq_5645 * ecx_36 = *((word256) ebp_108 + 0x0010);
	*(ebp_108 - 0x0C) = (union Eq_3 *) eax_35;
	if (eax_35 == *((word256) ecx_36->t0048 + 0x04))
		return;
	*(fp - 0x1C) = (union Eq_3 *) ebx_33;
	*(fp - 0x20) = esi_34;
	*(fp - 0x24) = (union Eq_3 *) edi;
	*(fp - 0x28) = 0x0220;
	ui32 ebx_68;
	Eq_3 eax_69 = fn0040381C(edx_32, ebx_33, edi, es, ds, dwArg00, out ebx_68);
	Eq_3 edi_103 = eax_69;
	Eq_3 ebx_102 = ebx_68 | ~0x00;
	if (eax_69 != 0x00)
	{
		word32 ecx_112 = 0x88;
		Eq_3 esi_113 = *((word256) *((word256) ebp_108 + 0x0010) + 0x0048);
		while (ecx_112 != 0x00)
		{
			*edi_103 = *esi_113;
			esi_113.u2 = (word256) esi_113 + 0x04;
			edi_103.u2 = (word256) edi_103 + 0x04;
			ecx_112 = ecx_112 - 0x01;
		}
		*(fp - 0x28) = (union Eq_3 *) eax_69;
		*(fp - 44) = *(ebp_108 - 0x0C);
		*eax_69 = *eax_69 & 0x00;
		Eq_3 eax_133 = fn00404C14(ebx_68 | ~0x00, ebp_108, es, ds, dwArg00, dwArg04);
		if (eax_133 != (ebx_68 | ~0x00))
		{
			if (*((word256) ebp_108 + 0x0C) == 0x00)
				fn0040316A();
			Eq_3 eax_151 = *((word256) *((word256) ebp_108 + 0x0010) + 0x0048);
			__lock();
			*eax_151 = __xadd(*eax_151, ebx_68 | ~0x00);
			ebx_102 = (ebx_68 | ~0x00) - 0x01;
			if (ebx_102 == 0x00)
			{
				struct Eq_5645 * eax_202 = *((word256) ebp_108 + 0x0010);
				if (eax_202->t0048 != 4268880)
				{
					*(fp - 0x28) = (union Eq_3 *) eax_202->t0048;
					fn004037E2(ebx_102, ebp_108, eax_69, es, ds, dwArg00, out ebx_102);
				}
			}
			eax_69->u0 = 0x01;
			*((word256) *((word256) ebp_108 + 0x0010) + 0x0048) = eax_69;
			edi_103.u0 = 0x00;
			if ((*((word256) *((word256) ebp_108 + 0x0010) + 848) & 0x02) == 0x00 && (globals->t412690 & 0x01) == 0x00)
			{
				*(ebp_108 - 0x14) = (struct Eq_6606 ***) ((word256) ebp_108 + 0x0010);
				*(fp - 0x28) = 0x05;
				*(ebp_108 - 0x10) = (ptr32) ((word256) ebp_108 + 0x0014);
				word32 eax_180 = *(fp - 0x28);
				*(ebp_108 - 0x0C) = eax_180;
				*(ebp_108 - 0x08) = eax_180;
				*(fp - 0x28) = ebp_108 - 0x0C;
				*(fp - 44) = ebp_108 - 0x14;
				*(fp - 0x30) = ebp_108 - 0x08;
				ebx_102 = fn0040469B(ebx_102, eax_133, 0x00, es, ds, out ebp_108, out edi_103);
				if (*((word256) ebp_108 + 0x0C) != 0x00)
					globals->t41262C = **((word256) ebp_108 + 0x0014);
			}
l00404A82:
			*(fp - 0x28) = (union Eq_3 *) edi_103;
			word32 ebx_88;
			fn004037E2(ebx_102, ebp_108, edi_103, es, ds, dwArg00, out ebx_88);
			return;
		}
		word32 edx_141;
		word32 esi_144;
		*fn004041CB(ebx_68 | ~0x00, ebp_108, eax_69, es, ds, out edx_141, out ebx_102, out ebp_108, out esi_144, out edi_103) = 22;
	}
	goto l00404A82;
}

// 00404B26: Register Eq_3 fn00404B26(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
Eq_3 fn00404B26(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	*edxOut = edx;
	Eq_3 esi_111;
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 4263432, 0x0C);
	*(ebp_10 - 0x1C) = 0x00;
	ptr32 esp_23 = fp - 0x08;
	word32 esi_11 = 0x00;
	Eq_3 edi_13 = *((word256) ebp_10 + 0x08);
	if ((*((word256) edi_13 + 848) & globals->t412690) != 0x00 && *((word256) edi_13 + 0x004C) != 0x00)
	{
		esi_111 = *((word256) edi_13 + 0x0048);
l00404B4F:
		if (esi_111 != 0x00)
		{
			word32 ebp_101;
			word32 esi_102;
			word32 edi_103;
			word32 ebx_104;
			*ebxOut = fn00401A56(ebp_10, 0x0C, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_101, out esi_102, out edi_103);
			return esi_111;
		}
		word32 ebx_91;
		*edxOut = fn004038C4(edx, ebx, esi_111, edi_13, es, ds, out ebx_91, out ebp_10, out esi_11, out edi_13);
		esp_23 = esp_23 + ~0x03;
	}
	union Eq_3 * esp_26 = esp_23 - 0x04;
	*esp_26 = (union Eq_3 *) 0x05;
	ui32 eax_29 = fn00405014(dwArg00);
	*(ebp_10 - 0x04) = esi_11;
	esi_111 = *((word256) edi_13 + 0x0048);
	*(ebp_10 - 0x1C) = (union Eq_3 *) esi_111;
	ebx = *((word256) ebp_10 + 0x0C);
	if (esi_111 != *ebx)
	{
		if (esi_111 != 0x00)
		{
			__lock();
			*esi_111 = __xadd(*esi_111, eax_29 | ~0x00);
			if (*esi_111 == 0x00 && esi_111 != 4268880)
			{
				*esp_26 = (union Eq_3 *) esi_111;
				*edxOut = fn004037E2(ebx, ebp_10, edi_13, es, ds, dwArg00, out ebx);
			}
		}
		esi_111 = *ebx;
		*((word256) edi_13 + 0x0048) = esi_111;
		*(ebp_10 - 0x1C) = (union Eq_3 *) esi_111;
		__lock();
		esi_111->u2 = (word256) *esi_111 + 0x01;
	}
	*(ebp_10 - 0x04) = ~0x01;
	fn00404BA8();
	goto l00404B4F;
}

// 00404BA8: void fn00404BA8()
void fn00404BA8()
{
	fn0040505C(0x05);
	return;
}

// 00404BB9: Register Eq_3 fn00404BB9(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds)
Eq_3 fn00404BB9(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds)
{
	if (globals->b412CF8 == 0x00)
	{
		globals->t412CF0.u0 = 4268880;
		globals->ptr412CEC = 0x00412158;
		globals->t412CE8.u0 = 0x00412050;
		Eq_3 edx_25;
		Eq_3 ebx_26;
		Eq_3 esi_28;
		Eq_3 edi_29;
		word32 eax_30 = fn00403DB6(ebx, ebp, edi, es, ds, out edx_25, out ebx_26, out ebp, out esi_28, out edi_29);
		*(fp - 0x04) = 4271344;
		*(fp - 0x08) = eax_30;
		*(fp - 0x0C) = 0x01;
		*(fp - 0x10) = ~0x02;
		fn00404A0B(edx_25, ebx_26, ebp, esi_28, edi_29, es, ds, dwArg08, dwArg0C);
		globals->b412CF8 = 0x01;
	}
	return ebp;
}

// 00404C01: Register word32 fn00404C01(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut)
word32 fn00404C01(Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut)
{
	Eq_3 edx_10;
	Eq_3 ebx_11;
	word32 ebp_12;
	Eq_3 esi_13;
	*(fp - 0x08) = (union Eq_3 *) fn00403D02(ebx, ebp, esi, edi, es, ds, out edx_10, out ebx_11, out ebp_12, out esi_13);
	word32 edx_17;
	word32 ebx_18;
	word32 ebp_19;
	word32 esi_20;
	return fn00404B26(edx_10, ebx_11, esi_13, edi, es, ds, out edx_17, out ebx_18, out ebp_19, out esi_20);
}

// 00404C14: Register (ptr word32) fn00404C14(Register Eq_3 ebx, Register Eq_3 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08)
word32 * fn00404C14(Eq_3 ebx, Eq_3 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08)
{
	word32 ebx_30;
	struct Eq_6935 * esi_31;
	Eq_3 edx_100;
	Eq_3 eax_32 = fn0040479F(ebx, dwArg08, es, ds, out edx_100, out ebx_30, out esi_31);
	*(fp - 0x24) = (union Eq_3 *) eax_32;
	Eq_3 edi_109 = edi;
	word16 bx_34 = (word16) eax_32;
	if (eax_32 == 0x00)
	{
		*(fp - 0x30) = (struct Eq_6935 **) esi_31;
		edx_100 = fn00404812(dwArg00);
		goto l00404DFE;
	}
	*(fp - 0x30) = (union Eq_3 *) edi;
	*(fp - 0x20) = 0x00;
	byte * edi_318 = globals->a412258;
	word32 ecx_144 = 0x00;
	struct Eq_6970 * eax_146 = globals->a412260;
	do
	{
		if (eax_146->dw0000 == eax_32)
		{
			*(fp - 0x34) = 0x0101;
			*(fp - 0x38) = 0x00;
			*(fp - 0x3C) = esi_31 + 0x0C;
			word32 edx_309;
			fn00401E10(eax_32, dwArg00, bArg04, dwArg08, out edx_309);
			int32 eax_312 = *(fp - 0x20) *s 0x30;
			*(fp - 0x20) = eax_312;
			union Eq_7041 * edx_315 = eax_312 + 4268656;
			do
			{
				union Eq_7041 * ecx_328 = edx_315;
				if (*edx_315 != 0x00)
				{
					do
					{
						byte al_380 = *((char *) ecx_328 + 0x01);
						if (al_380 == 0x00)
							goto l00404DAF;
						byte * ebx_386 = (word32) *ecx_328;
						byte * eax_388 = (word32) al_380;
						while (ebx_386 <= eax_388 && ebx_386 < (byte *) 0x0100)
						{
							Mem409[ebx_386 + 0x19 + esi_31:byte] = Mem314[ebx_386 + 0x19 + esi_31:byte] | Mem314[edi_318 + 0x00:byte];
							ebx_386 = ebx_386 + 0x01;
							eax_388 = (word32) *((char *) ecx_328 + 0x01);
						}
						ecx_328 = (union Eq_7041 *) ((char *) ecx_328 + 0x02);
					} while (*ecx_328 != 0x00);
				}
l00404DAF:
				edi_318 = edi_318 + 0x01;
				edx_315 = (union Eq_7041 *) ((char *) edx_315 + 0x08);
			} while (edi_318 < (byte *) 4290698668);
			Eq_3 ebx_344 = *(fp - 0x24);
			*(fp - 0x34) = (union Eq_3 *) ebx_344;
			esi_31[0x02] = (struct Eq_6935) ebx_344;
			esi_31[0x04] = (struct Eq_6935) 0x01;
			esi_31[0x010E] = (struct Eq_6935) fn00404761(dwArg00);
			word32 eax_353 = *(fp - 0x20);
			*(fp - 0x34) = 0x06;
			word32 ecx_354 = esi_31 + 0x0C;
			word16 * edx_358 = eax_353 + 4268644;
			word32 edi_359 = *(fp - 0x34);
			do
			{
				ecx_354->w0000 = *edx_358;
				edx_358 = edx_358 + 0x01;
				ecx_354 = ecx_354 + 0x02;
				edi_359 = edi_359 - 0x01;
			} while (edi_359 != 0x00);
			goto l00404DF4;
		}
		ecx_144 = ecx_144 + 0x01;
		*(fp - 0x20) = ecx_144;
		eax_146 = eax_146 + 0x01;
	} while (eax_146 < (struct Eq_6970 *) ~0x0041216F);
	if (eax_32 != 65000 && (eax_32 != 65001 || GetACP() == eax_32))
	{
		*(fp - 0x34) = (word32) bx_34;
		if (IsValidCodePage(*(fp - 0x34)) != 0x00)
		{
			*(fp - 0x34) = fp - 0x1C;
			*(fp - 0x38) = (union Eq_3 *) eax_32;
			if (GetCPInfo(*(fp - 0x38), *(fp - 0x34)) != 0x00)
			{
				*(fp - 0x34) = 0x0101;
				*(fp - 0x38) = 0x00;
				*(fp - 0x3C) = esi_31 + 0x0C;
				word32 edx_196;
				fn00401E10(eax_32, dwArg00, bArg04, dwArg08, out edx_196);
				esi_31[0x02] = (struct Eq_6935) eax_32;
				esi_31[0x010E] = (struct Eq_6935) 0x00;
				if (*(fp - 0x1C) == 0x02)
				{
					struct Eq_7152 * eax_224 = fp - 22 + 0x01;
					if (*(fp - 22) != 0x00)
					{
						do
						{
							byte cl_265 = eax_224->b0000;
							if (cl_265 == 0x00)
								goto l00404D01;
							Eq_7175 edx_270 = (word32) cl_265;
							Eq_7175 ecx_271 = (word32) eax_224->b0000;
							while (ecx_271 <= edx_270)
							{
								Mem285[esi_31 + 0x19 + ecx_271:byte] = Mem202[esi_31 + 0x19 + ecx_271:byte] | 0x04;
								ecx_271 = (word32) ecx_271 + 0x01;
							}
							eax_224 = eax_224 + 0x01;
						} while (eax_224->b0000 != 0x00);
					}
l00404D01:
					byte * eax_233 = esi_31 + 0x0D;
					word32 ecx_236 = 0xFE;
					do
					{
						*eax_233 = *eax_233 | 0x08;
						eax_233 = eax_233 + 0x01;
						ecx_236 = ecx_236 - 0x01;
					} while (ecx_236 != 0x00);
					*(fp - 0x34) = (union Eq_3 *) esi_31[0x02];
					esi_31[0x010E] = (struct Eq_6935) fn00404761(dwArg00);
					esi_31[0x04] = (struct Eq_6935) 0x01;
				}
				else
					esi_31[0x04] = (struct Eq_6935) 0x00;
				esi_31[0x06] = (struct Eq_6935) 0x00;
				esi_31[0x08] = (struct Eq_6935) 0x00;
				esi_31[0x0A] = (struct Eq_6935) 0x00;
l00404DF4:
				*(fp - 0x34) = (struct Eq_6935 **) esi_31;
				edx_100 = fn00404877(fp - 0x04, es, ds, dwArg00);
l00404DFD:
				edi_109 = *(fp - 0x30);
l00404DFE:
				word32 ecx_57;
				return fn004010FE(*(fp - 0x08) ^ fp - 0x04, edx_100, *(fp - 0x28), fp - 0x04, *(fp - 44), edi_109, es, ds, ebp, out ecx_57);
			}
			if (globals->dw412CF4 != 0x00)
			{
				*(fp - 0x34) = (struct Eq_6935 **) esi_31;
				edx_100 = fn00404812(dwArg00);
				goto l00404DFA;
			}
		}
	}
	goto l00404DFD;
}

// 00404E0E: Register word32 fn00404E0E(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Stack Eq_3 dwArg10, Register out ptr32 ebxOut)
word32 fn00404E0E(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, Eq_3 dwArg10, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	if (dwArg10 == 0x00)
		return ecx;
	if (dwArg04 == 0x00)
	{
		word32 edx_56;
		Eq_3 ebx_57;
		Eq_3 ebp_58;
		word32 esi_59;
		Eq_3 edi_60;
		word32 * eax_61 = fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_56, out ebx_57, out ebp_58, out esi_59, out edi_60);
		*(fp - 0x0C) = 22;
		*eax_61 = *(fp - 0x0C);
		word32 edx_68;
		word32 ebx_69;
		word32 ebp_70;
		word32 esi_71;
		word32 edi_72;
		fn0040410E(ebx_57, ebp_58, edi_60, es, ds, out ecx, out edx_68, out ebx_69, out ebp_70, out esi_71, out edi_72);
		return ecx;
	}
	if (dwArg0C != 0x00 && dwArg08 >= dwArg10)
	{
		ecx = fn0040A910(ebx, dwArg04, dwArg0C, dwArg10);
		return ecx;
	}
	Eq_3 ebp_120;
	word32 * eax_118;
	Eq_3 edi_117;
	Eq_3 ebx_116;
	word32 edx_109;
	ecx = fn00401E10(ebx, dwArg04, 0x00, dwArg08, out edx_109);
	if (dwArg0C == 0x00)
	{
		word32 edx_133;
		word32 esi_136;
		eax_118 = fn004041CB(ebx, fp - 0x04, dwArg0C, es, ds, out edx_133, out ebx_116, out ebp_120, out esi_136, out edi_117);
		*(fp - 0x10) = 22;
	}
	else
	{
		if (dwArg08 >= dwArg10)
			return ecx;
		word32 edx_143;
		word32 esi_146;
		eax_118 = fn004041CB(ebx, fp - 0x04, dwArg0C, es, ds, out edx_143, out ebx_116, out ebp_120, out esi_146, out edi_117);
		*(fp - 0x10) = 0x22;
	}
	*eax_118 = *(fp - 0x10);
	word32 edx_126;
	word32 ebx_127;
	word32 ebp_128;
	word32 esi_129;
	word32 edi_130;
	fn0040410E(ebx_116, ebp_120, edi_117, es, ds, out ecx, out edx_126, out ebx_127, out ebp_128, out esi_129, out edi_130);
	return ecx;
}

// 00404E8F: Register word32 fn00404E8F(Register Eq_3 ebx, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut)
word32 fn00404E8F(Eq_3 ebx, Eq_3 esi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut)
{
	word32 edx_31;
	word32 ebx_21;
	fn00403965(fp - 0x14, ebx, fp - 0x04, esi, es, ds, dwArg04, out ebx_21);
	int32 esi_25 = (word32) fp->b0008;
	if ((*(fp - 0x0C) + 0x19 + esi_25 & fp->b0010) == 0x00)
	{
		ui32 eax_62;
		edx_31 = 0x00;
		if (fp->dw000C != 0x00)
			eax_62 = (word32) *((char *) **(fp - 0x10) + esi_25 * 0x02) & fp->dw000C;
		else
			eax_62 = 0x00;
		if (eax_62 == 0x00)
		{
l00404ED1:
			if (*(fp - 0x08) != 0x00)
			{
				struct Eq_7566 * ecx_47 = *(fp - 0x14);
				ecx_47->dw0350 = ecx_47->dw0350 & ~0x02;
			}
			return edx_31;
		}
	}
	edx_31 = 0x01;
	goto l00404ED1;
}

// 00404EE8: Register word32 fn00404EE8(Register Eq_3 ebx, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack word32 dwArg04, Register out ptr32 ebxOut, Register out ptr32 esiOut)
word32 fn00404EE8(Eq_3 ebx, Eq_3 esi, Eq_7 * es, Eq_8 * ds, word32 dwArg04, ptr32 & ebxOut, ptr32 & esiOut)
{
	*esiOut = esi;
	word32 ebx_22;
	return fn00404E8F(ebx, esi, es, ds, 0x00, out ebx_22);
}

// 00405014: Register Eq_1696 fn00405014(Stack Eq_3 dwArg04)
LPCRITICAL_SECTION fn00405014(Eq_3 dwArg04)
{
	Eq_1696 eax_10 = dwArg04 *s 0x18 + 0x00412D18;
	EnterCriticalSection(eax_10);
	return eax_10;
}

// 0040505C: Register Eq_1696 fn0040505C(Stack Eq_3 dwArg04)
LPCRITICAL_SECTION fn0040505C(Eq_3 dwArg04)
{
	Eq_1696 eax_10 = dwArg04 *s 0x18 + 0x00412D18;
	LeaveCriticalSection(eax_10);
	return eax_10;
}

// 00405073: Register word32 fn00405073(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ecxOut, Register out ptr32 edxOut)
word32 fn00405073(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ecxOut, ptr32 & edxOut)
{
	*ecxOut = ecx;
	*edxOut = edx;
	word32 esi_32;
	if (fs->ptr0030->ptr0010->dw0008 >= 0x00)
	{
		word32 edx_57;
		word32 ecx_59 = fn00405E2E(ebx, fp - 0x04, edi, es, ds, fp - 0x08, out edx_57, out esi_32);
		*ecxOut = ecx_59;
		if (~0x00 == 0x00)
			return esi_32;
	}
	esi_32 = 0x01;
	return esi_32;
}

// 004051E9: void fn004051E9(Stack Eq_3 dwArg04)
void fn004051E9(Eq_3 dwArg04)
{
	EnterCriticalSection((dwArg04 & 0x3F) *s 0x30 + (globals->a412E70)[(dwArg04 >> 0x06) * 0x04]);
	return;
}

// 0040520C: void fn0040520C(Stack Eq_3 dwArg04)
void fn0040520C(Eq_3 dwArg04)
{
	LeaveCriticalSection((dwArg04 & 0x3F) *s 0x30 + (globals->a412E70)[(dwArg04 >> 0x06) * 0x04]);
	return;
}

// 004052C0: Register ui32 fn004052C0(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut, Register out Eq_7692 esiOut)
ui32 fn004052C0(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut, Eq_7692 & esiOut)
{
	*ebxOut = ebx;
	*esiOut = esi;
	word32 * eax_35;
	if (dwArg04 == ~0x01)
	{
		word32 edx_45;
		Eq_3 ebx_46;
		Eq_3 ebp_47;
		word32 esi_48;
		Eq_3 edi_49;
		union Eq_3 * eax_50 = fn004041B8(ebx, fp - 0x04, edi, es, ds, out edx_45, out ebx_46, out ebp_47, out esi_48, out edi_49);
		*eax_50 = (union Eq_3 *) (*eax_50 & 0x00);
		word32 edx_55;
		word32 ebx_56;
		word32 ebp_57;
		word32 esi_58;
		word32 edi_59;
		eax_35 = fn004041CB(ebx_46, ebp_47, edi_49, es, ds, out edx_55, out ebx_56, out ebp_57, out esi_58, out edi_59);
		*eax_35 = 0x09;
	}
	else
	{
		if (dwArg04 >= 0x00 && dwArg04 < globals->t413070)
		{
			int32 ecx_97 = (dwArg04 & 0x3F) *s 0x30;
			struct Eq_7803 * eax_98 = globals->a412E70[(dwArg04 >> 0x06) * 0x04];
			if ((eax_98->a0028[ecx_97] & 0x01) != 0x00)
				return (&eax_98->a0018->dw0000)[ecx_97 / 0x0028];
		}
		word32 edx_68;
		Eq_3 ebx_69;
		Eq_3 ebp_70;
		word32 esi_71;
		Eq_3 edi_72;
		union Eq_3 * eax_73 = fn004041B8(ebx, fp - 0x04, edi, es, ds, out edx_68, out ebx_69, out ebp_70, out esi_71, out edi_72);
		*eax_73 = (union Eq_3 *) (*eax_73 & 0x00);
		word32 edx_78;
		Eq_3 ebx_79;
		Eq_3 ebp_80;
		word32 esi_81;
		Eq_3 edi_82;
		*fn004041CB(ebx_69, ebp_70, edi_72, es, ds, out edx_78, out ebx_79, out ebp_80, out esi_81, out edi_82) = 0x09;
		word32 ecx_85;
		word32 edx_86;
		word32 ebx_87;
		word32 ebp_88;
		word32 esi_89;
		word32 edi_90;
		eax_35 = fn0040410E(ebx_79, ebp_80, edi_82, es, ds, out ecx_85, out edx_86, out ebx_87, out ebp_88, out esi_89, out edi_90);
	}
	return eax_35 | ~0x00;
}

// 00405518: Register word32 fn00405518(Register Eq_3 ebx, Register ptr32 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 esiOut)
word32 fn00405518(Eq_3 ebx, ptr32 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & esiOut)
{
	word32 edx_15;
	Eq_3 ebx_16;
	ptr32 ebp_17;
	word32 esi_18;
	Eq_3 eax_19 = fn00403D02(ebx, fp - 0x04, esi, edi, es, ds, out edx_15, out ebx_16, out ebp_17, out esi_18);
	*(ebp_17 - 0x04) = (union Eq_3 *) *((word256) eax_19 + 0x004C);
	*(fp - 0x0C) = ebp_17 - 0x04;
	*(fp - 0x10) = (union Eq_3 *) eax_19;
	word32 ebx_30;
	*ebxOut = fn00406F90(ebx_16, edi, es, ds, dwArg00, dwArg04);
	return **(ebp_17 - 0x04);
}

// 0040553E: Register Eq_3 fn0040553E(Register Eq_3 ebx, Register ptr32 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn0040553E(Eq_3 ebx, ptr32 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		Eq_3 eax_35 = *((word256) dwArg04 + 0x0C);
		if (eax_35 != globals->t41264C)
			fn004037E2(ebx, fp - 0x04, edi, es, ds, eax_35, out ebx);
		struct Eq_5645 * eax_43 = *((word256) dwArg04 + 0x0010);
		if (eax_43 != globals->ptr412650)
		{
			*(fp - 0x0C) = (struct Eq_5645 **) eax_43;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		union Eq_3 * eax_50 = *((word256) dwArg04 + 0x0014);
		if (eax_50 != globals->ptr412654)
		{
			*(fp - 0x0C) = (union Eq_3 **) eax_50;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_57 = *((word256) dwArg04 + 0x0018);
		if (eax_57 != globals->dw412658)
		{
			*(fp - 0x0C) = eax_57;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_64 = *((word256) dwArg04 + 0x001C);
		if (eax_64 != globals->dw41265C)
		{
			*(fp - 0x0C) = eax_64;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_71 = *((word256) dwArg04 + 0x0020);
		if (eax_71 != globals->dw412660)
		{
			*(fp - 0x0C) = eax_71;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_78 = *((word256) dwArg04 + 0x0024);
		if (eax_78 != globals->dw412664)
		{
			*(fp - 0x0C) = eax_78;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_85 = *((word256) dwArg04 + 0x0038);
		if (eax_85 != globals->dw412678)
		{
			*(fp - 0x0C) = eax_85;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_92 = *((word256) dwArg04 + 0x003C);
		if (eax_92 != globals->dw41267C)
		{
			*(fp - 0x0C) = eax_92;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_99 = *((word256) dwArg04 + 0x0040);
		if (eax_99 != globals->dw412680)
		{
			*(fp - 0x0C) = eax_99;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_106 = *((word256) dwArg04 + 0x0044);
		if (eax_106 != globals->dw412684)
		{
			*(fp - 0x0C) = eax_106;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		Eq_3 eax_113 = *((word256) dwArg04 + 0x0048);
		if (eax_113 != globals->t412688)
		{
			*(fp - 0x0C) = (union Eq_3 *) eax_113;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		Eq_3 eax_120 = *((word256) dwArg04 + 0x004C);
		if (eax_120 != globals->t41268C)
		{
			*(fp - 0x0C) = (union Eq_3 *) eax_120;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
	}
	return ebx;
}

// 0040563C: Register Eq_3 fn0040563C(Register Eq_3 ebx, Register ptr32 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn0040563C(Eq_3 ebx, ptr32 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		Eq_3 eax_35 = *dwArg04;
		if (eax_35 != globals->t412640)
			fn004037E2(ebx, fp - 0x04, edi, es, ds, eax_35, out ebx);
		Eq_3 eax_43 = *((word256) dwArg04 + 0x04);
		if (eax_43 != globals->t412644)
		{
			*(fp - 0x0C) = (union Eq_3 *) eax_43;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		Eq_3 eax_50 = *((word256) dwArg04 + 0x08);
		if (eax_50 != globals->t412648)
		{
			*(fp - 0x0C) = (union Eq_3 *) eax_50;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_57 = *((word256) dwArg04 + 0x0030);
		if (eax_57 != globals->dw412670)
		{
			*(fp - 0x0C) = eax_57;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
		word32 eax_64 = *((word256) dwArg04 + 0x0034);
		if (eax_64 != globals->dw412674)
		{
			*(fp - 0x0C) = eax_64;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
	}
	return ebx;
}

// 004056A5: void fn004056A5(Register ptr32 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08)
void fn004056A5(ptr32 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08)
{
	Eq_3 esi_18 = dwArg04;
	Eq_3 edi_21 = 0x00;
	Eq_3 ebx_28 = ~(0x00 - ((word256) dwArg04 + (dwArg08 << 0x02) < dwArg04)) & (dwArg08 << 0x02) >> 0x02;
	if (ebx_28 != 0x00)
	{
		do
		{
			*(fp - 0x14) = (word32) *esi_18;
			fn004037E2(ebx_28, fp - 0x04, edi_21, es, ds, dwArg00, out ebx_28);
			edi_21.u2 = (word256) edi_21 + 0x01;
			esi_18.u2 = (word256) esi_18 + 0x04;
		} while (edi_21 != ebx_28);
	}
	return;
}

// 004056DD: Register Eq_3 fn004056DD(Register ptr32 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn004056DD(ptr32 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		fn004056A5(fp - 0x04, es, ds, dwArg04, 0x07);
		*(fp - 0x14) = 0x07;
		*(fp - 0x18) = (word32) ((word256) dwArg04 + 0x001C);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x1C) = 0x0C;
		*(fp - 0x20) = (word32) ((word256) dwArg04 + 0x0038);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x24) = 0x0C;
		*(fp - 0x28) = (word32) ((word256) dwArg04 + 0x0068);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 44) = 0x02;
		*(fp - 0x30) = (word32) ((word256) dwArg04 + 0x0098);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x34) = (word32) *((word256) dwArg04 + 0x00A0);
		Eq_3 ebx_64;
		fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx_64);
		*(fp - 0x38) = (word32) *((word256) dwArg04 + 0x00A4);
		Eq_3 ebx_69;
		fn004037E2(ebx_64, fp - 0x04, edi, es, ds, dwArg00, out ebx_69);
		*(fp - 0x3C) = (word32) *((word256) dwArg04 + 0x00A8);
		Eq_3 ebx_74;
		fn004037E2(ebx_69, fp - 0x04, edi, es, ds, dwArg00, out ebx_74);
		*(fp - 0x40) = 0x07;
		*(fp - 0x44) = (ptr32) ((word256) dwArg04 + 0x00B4);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x48) = 0x07;
		*(fp - 0x4C) = (ptr32) ((word256) dwArg04 + 0x00D0);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x0C) = 0x0C;
		*(fp - 0x10) = (ptr32) ((word256) dwArg04 + 0x00EC);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x14) = 0x0C;
		*(fp - 0x18) = (ptr32) ((word256) dwArg04 + 0x011C);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x1C) = 0x02;
		*(fp - 0x20) = (ptr32) ((word256) dwArg04 + 332);
		fn004056A5(fp - 0x04, es, ds, dwArg00, dwArg04);
		*(fp - 0x24) = (word32) *((word256) dwArg04 + 0x0154);
		Eq_3 ebx_106;
		fn004037E2(ebx_74, fp - 0x04, edi, es, ds, dwArg00, out ebx_106);
		*(fp - 0x28) = (word32) *((word256) dwArg04 + 344);
		Eq_3 ebx_111;
		fn004037E2(ebx_106, fp - 0x04, edi, es, ds, dwArg00, out ebx_111);
		*(fp - 44) = (word32) *((word256) dwArg04 + 0x015C);
		Eq_3 ebx_116;
		fn004037E2(ebx_111, fp - 0x04, edi, es, ds, dwArg00, out ebx_116);
		*(fp - 0x30) = (word32) *((word256) dwArg04 + 0x0160);
		fn004037E2(ebx_116, fp - 0x04, edi, es, ds, dwArg00, out ebx);
	}
	return ebx;
}

// 004057C1: Register word32 fn004057C1(Stack Eq_1851 dwArg04, Stack (ptr word16) dwArg08, Stack word32 dwArg0C, Register out ptr32 edxOut)
word32 fn004057C1(LPCWSTR dwArg04, word16 * dwArg08, word32 dwArg0C, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 eax_43 = dwArg0C;
	if (dwArg0C != 0x00)
	{
		word16 * ecx_35 = dwArg08;
		word16 * edx_37;
		*edxOut = dwArg04;
		while (true)
		{
			eax_43 = eax_43 - 0x01;
			if (eax_43 == 0x00)
				break;
			word16 si_64 = (word16) (word32) *edx_37;
			if (si_64 == 0x00 || si_64 != *ecx_35)
				return (word32) *edx_37 - (word32) (*ecx_35);
			*edxOut = edx_37 + 0x01;
			ecx_35 = ecx_35 + 0x01;
		}
		return (word32) *edx_37 - (word32) (*ecx_35);
	}
	else
		return dwArg0C;
}

// 004057FB: void fn004057FB(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
void fn004057FB(Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	word32 ebx_30;
	Eq_3 edx_135 = fn00403965(fp - 0x20, ebx, fp - 0x04, esi, es, ds, dwArg04, out ebx_30);
	Eq_3 ebx_117 = fp->t0018;
	if (ebx_117 == 0x00)
		ebx_117 = *((char *) *(fp - 0x1C) + 0x08);
	*(fp - 0x30) = 0x00;
	*(fp - 0x34) = 0x00;
	*(fp - 0x38) = fp->dw0010;
	ui32 eax_50 = (word32) (fp->dw001C != 0x00);
	*(fp - 0x3C) = fp->dw000C;
	*(fp - 0x40) = eax_50 * 0x08 + 0x01;
	*(fp - 0x44) = (union Eq_3 *) ebx_117;
	Eq_3 eax_59 = MultiByteToWideChar(*(fp - 0x44), *(fp - 0x40), *(fp - 0x3C), *(fp - 0x38), *(fp - 0x34), *(fp - 0x30));
	*(fp - 0x10) = (union Eq_3 *) eax_59;
	Eq_3 edi_126 = 0x00;
	if (eax_59 == 0x00)
	{
l004058D9:
		if (*(fp - 0x14) != 0x00)
		{
			struct Eq_8728 * eax_97 = *(fp - 0x20);
			eax_97->dw0350 = eax_97->dw0350 & ~0x02;
		}
		word32 ecx_92;
		fn004010FE(*(fp - 0x08) ^ fp - 0x04, edx_135, *(fp - 0x24), fp - 0x04, *(fp - 0x28), *(fp - 44), es, ds, ebp, out ecx_92);
		return;
	}
	Eq_3 esi_116;
	*(fp - 0x0C) = eax_59 * 0x02;
	uint32 ecx_103 = eax_59 * 0x02 + 0x08;
	ui32 edx_102 = eax_59 * 0x02;
	Eq_3 eax_108 = 0x00 - (eax_59 * 0x02 < ecx_103) & ecx_103;
	if (eax_108 == 0x00)
	{
		esi_116.u0 = 0x00;
		goto l0040589C;
	}
	if (eax_108 <= 0x0400)
	{
		fn0040A6D0(eax_108);
		esi_116 = fp - 44;
		if (fp == (struct Eq_8517 *) 44)
			goto l00405895;
		*(fp - 44) = 0xCCCC;
	}
	else
	{
		*(fp - 0x30) = (union Eq_3 *) eax_108;
		Eq_3 eax_213 = fn0040381C(eax_59 * 0x02, ebx_117, 0x00, es, ds, dwArg00, out ebx_117);
		esi_116 = eax_213;
		if (eax_213 == 0x00)
			goto l00405895;
		*eax_213 = 0xDDDD;
	}
	esi_116.u0 = (byte) esi_116.u0 + 0x08;
l00405895:
	edx_102 = *(fp - 0x0C);
l0040589C:
	if (esi_116 != 0x00)
	{
		*(fp - 0x30) = edx_102;
		*(fp - 0x34) = 0x00;
		*(fp - 0x38) = (union Eq_3 *) esi_116;
		word32 edx_146;
		fn00401E10(ebx_117, dwArg00, bArg04, dwArg08, out edx_146);
		*(fp - 0x30) = *(fp - 0x10);
		*(fp - 0x34) = (union Eq_3 *) esi_116;
		*(fp - 0x38) = fp->dw0010;
		*(fp - 0x3C) = fp->dw000C;
		*(fp - 0x40) = 0x01;
		*(fp - 0x44) = (union Eq_3 *) ebx_117;
		Eq_3 eax_164 = MultiByteToWideChar(*(fp - 0x44), *(fp - 0x40), *(fp - 0x3C), *(fp - 0x38), *(fp - 0x34), *(fp - 0x30));
		if (eax_164 != 0x00)
		{
			*(fp - 0x30) = fp->dw0014;
			*(fp - 0x34) = (union Eq_3 *) eax_164;
			*(fp - 0x38) = (union Eq_3 *) esi_116;
			*(fp - 0x3C) = fp->dw0008;
			edi_126 = GetStringTypeW(*(fp - 0x3C), *(fp - 0x38), *(fp - 0x34), *(fp - 0x30));
		}
	}
	*(fp - 0x30) = (union Eq_3 *) esi_116;
	word32 ebx_134;
	edx_135 = fn004058FF(ebx_117, edi_126, es, ds, dwArg00, out ebx_134);
	goto l004058D9;
}

// 004058FF: Register Eq_3 fn004058FF(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut)
Eq_3 fn004058FF(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	if (dwArg04 != 0x00 && *(dwArg04 - 0x08) == 0xDDDD)
	{
		word32 ebx_37;
		edx = fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg04 - 0x08, out ebx_37);
	}
	return edx;
}

// 0040591F: Register (ptr word32) fn0040591F(Stack Eq_3 dwArg04)
word32 * fn0040591F(Eq_3 dwArg04)
{
	__lock();
	((word256) dwArg04 + 0x0C)->u2 = (word256) *((word256) dwArg04 + 0x0C) + 0x01;
	word32 * ecx_13 = *((word256) dwArg04 + 0x007C);
	if (ecx_13 != null)
	{
		__lock();
		*ecx_13 = *ecx_13 + 0x01;
	}
	Eq_3 ecx_17 = *((word256) dwArg04 + 0x0084);
	if (ecx_17 != 0x00)
	{
		__lock();
		ecx_17->u2 = (word256) *ecx_17 + 0x01;
	}
	word32 * ecx_21 = *((word256) dwArg04 + 0x0080);
	if (ecx_21 != null)
	{
		__lock();
		*ecx_21 = *ecx_21 + 0x01;
	}
	word32 * ecx_25 = *((word256) dwArg04 + 0x008C);
	if (ecx_25 != null)
	{
		__lock();
		*ecx_25 = *ecx_25 + 0x01;
	}
	struct Eq_8996 * ecx_35 = (word256) dwArg04 + 0x0028;
	word32 esi_36 = 0x06;
	do
	{
		if (*(ecx_35 - 0x08) != 4269616)
		{
			edx = ecx_35->dw0000;
			if (edx != null)
			{
				__lock();
				*edx = *edx + 0x01;
			}
		}
		if (*(ecx_35 - 0x0C) != 0x00)
		{
			edx = *(ecx_35 - 0x04);
			if (edx != null)
			{
				__lock();
				*edx = *edx + 0x01;
			}
		}
		ecx_35 = ecx_35 + 0x01;
		esi_36 = esi_36 - 0x01;
	} while (esi_36 != 0x00);
	fn00405AE6(*((word256) dwArg04 + 0x009C));
	return edx;
}

// 0040599C: Register Eq_3 fn0040599C(Register Eq_3 ebx, Register ptr32 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn0040599C(Eq_3 ebx, ptr32 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	ptr32 eax_22 = *((word256) dwArg04 + 0x0088);
	if (eax_22 != 0x00 && eax_22 != 0x00412640)
	{
		word32 * eax_182 = *((word256) dwArg04 + 0x007C);
		if (eax_182 != null && *eax_182 == 0x00)
		{
			Eq_3 eax_188 = *((word256) dwArg04 + 0x0084);
			if (eax_188 != 0x00 && *eax_188 == 0x00)
			{
				Eq_3 ebx_238;
				fn004037E2(ebx, fp - 0x04, edi, es, ds, eax_188, out ebx_238);
				*(fp - 0x1C) = (ptr32) *((word256) dwArg04 + 0x0088);
				ebx = fn0040553E(ebx_238, fp - 0x04, edi, es, ds, dwArg00);
			}
			word32 * eax_198 = *((word256) dwArg04 + 0x0080);
			if (eax_198 != null && *eax_198 == 0x00)
			{
				*(fp - 0x18) = eax_198;
				Eq_3 ebx_224;
				fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx_224);
				*(fp - 0x1C) = (ptr32) *((word256) dwArg04 + 0x0088);
				ebx = fn0040563C(ebx_224, fp - 0x04, edi, es, ds, dwArg00);
			}
			*(fp - 0x18) = (word32 **) *((word256) dwArg04 + 0x007C);
			Eq_3 ebx_209;
			fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx_209);
			*(fp - 0x1C) = (ptr32) *((word256) dwArg04 + 0x0088);
			fn004037E2(ebx_209, fp - 0x04, edi, es, ds, dwArg00, out ebx);
		}
	}
	word32 * eax_35 = *((word256) dwArg04 + 0x008C);
	if (eax_35 != null && *eax_35 == 0x00)
	{
		*(fp - 0x18) = *((word256) dwArg04 + 144) - 0xFE;
		Eq_3 ebx_156;
		fn004037E2(ebx, fp - 0x04, edi, es, ds, dwArg00, out ebx_156);
		*(fp - 0x1C) = *((word256) dwArg04 + 0x0094) - 0x80;
		Eq_3 ebx_164;
		fn004037E2(ebx_156, fp - 0x04, 0x80, es, ds, dwArg00, out ebx_164);
		*(fp - 0x20) = *((word256) dwArg04 + 0x0098) - 0x80;
		Eq_3 ebx_171;
		fn004037E2(ebx_164, fp - 0x04, 0x80, es, ds, dwArg00, out ebx_171);
		*(fp - 0x24) = (word32 **) *((word256) dwArg04 + 0x008C);
		word32 ebx_176;
		fn004037E2(ebx_171, fp - 0x04, 0x80, es, ds, dwArg00, out ebx_176);
	}
	*(fp - 0x18) = (struct Eq_9065 **) *((word256) dwArg04 + 0x009C);
	fn00405B0F(fp - 0x04, es, ds, dwArg00);
	*(fp - 0x18) = 0x06;
	word32 eax_114 = *(fp - 0x18);
	*(fp - 0x08) = eax_114;
	Eq_3 ebx_112 = (word256) dwArg04 + 0x00A0;
	Eq_3 edi_57 = (word256) dwArg04 + 0x0028;
	do
	{
		if (*(edi_57 - 0x08) != 4269616)
		{
			word32 * eax_123 = *edi_57;
			if (eax_123 != null && *eax_123 == 0x00)
			{
				*(fp - 0x18) = eax_123;
				Eq_3 ebx_138;
				fn004037E2(ebx_112, fp - 0x04, edi_57, es, ds, dwArg00, out ebx_138);
				*(fp - 0x1C) = (word32) *ebx_138;
				fn004037E2(ebx_138, fp - 0x04, edi_57, es, ds, dwArg00, out ebx_112);
			}
			eax_114 = *(fp - 0x08);
		}
		if (*(edi_57 - 0x0C) != 0x00)
		{
			word32 * eax_104 = *(edi_57 - 0x04);
			if (eax_104 != null && *eax_104 == 0x00)
			{
				*(fp - 0x18) = eax_104;
				fn004037E2(ebx_112, fp - 0x04, edi_57, es, ds, dwArg00, out ebx_112);
			}
			eax_114 = *(fp - 0x08);
		}
		eax_114 = eax_114 - 0x01;
		*(fp - 0x08) = eax_114;
		ebx_112.u2 = (word256) ebx_112 + 0x04;
		edi_57.u2 = (word256) edi_57 + 0x0010;
	} while (eax_114 != 0x00);
	*(fp - 0x18) = (union Eq_3 *) dwArg04;
	word32 ebx_92;
	return fn004037E2(ebx_112, fp - 0x04, edi_57, es, ds, dwArg00, out ebx_92);
}

// 00405AE6: void fn00405AE6(Stack (ptr Eq_9065) dwArg04)
void fn00405AE6(Eq_9065 * dwArg04)
{
	if (dwArg04 == null || dwArg04 == &globals->t40D618)
		return;
	else
	{
		__lock();
		dwArg04->dw00B0 = __xadd(dwArg04->dw00B0, 0x01);
		return;
	}
}

// 00405B0F: void fn00405B0F(Register ptr32 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
void fn00405B0F(ptr32 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	if (dwArg04 != 0x00 && (dwArg04 != 4249112 && *((word256) dwArg04 + 0x00B0) == 0x00))
	{
		Eq_3 ebx_47 = fn004056DD(fp - 0x04, es, ds, dwArg04);
		*(fp - 0x10) = (union Eq_3 *) dwArg04;
		word32 ebx_51;
		fn004037E2(ebx_47, fp - 0x04, edi, es, ds, dwArg00, out ebx_51);
	}
	return;
}

// 00405B3F: void fn00405B3F(Register Eq_3 eax, Stack (ptr Eq_9065) dwArg04)
void fn00405B3F(Eq_3 eax, Eq_9065 * dwArg04)
{
	if (dwArg04 == null || dwArg04 == &globals->t40D618)
		return;
	else
	{
		__lock();
		dwArg04->dw00B0 = __xadd(dwArg04->dw00B0, eax | ~0x00);
		return;
	}
}

// 00405B68: Register (ptr word32) fn00405B68(Stack Eq_3 dwArg04)
word32 * fn00405B68(Eq_3 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		__lock();
		*((word256) dwArg04 + 0x0C) = *((word256) dwArg04 + 0x0C) - 0x01;
		word32 * ecx_33 = *((word256) dwArg04 + 0x007C);
		if (ecx_33 != null)
		{
			__lock();
			*ecx_33 = *ecx_33 - 0x01;
		}
		Eq_3 ecx_37 = *((word256) dwArg04 + 0x0084);
		if (ecx_37 != 0x00)
		{
			__lock();
			*ecx_37 = *ecx_37 - 0x01;
		}
		word32 * ecx_41 = *((word256) dwArg04 + 0x0080);
		if (ecx_41 != null)
		{
			__lock();
			*ecx_41 = *ecx_41 - 0x01;
		}
		word32 * ecx_45 = *((word256) dwArg04 + 0x008C);
		if (ecx_45 != null)
		{
			__lock();
			*ecx_45 = *ecx_45 - 0x01;
		}
		struct Eq_9516 * ecx_54 = (word256) dwArg04 + 0x0028;
		word32 esi_55 = 0x06;
		do
		{
			if (*(ecx_54 - 0x08) != 4269616)
			{
				edx = ecx_54->dw0000;
				if (edx != null)
				{
					__lock();
					*edx = *edx - 0x01;
				}
			}
			if (*(ecx_54 - 0x0C) != 0x00)
			{
				edx = *(ecx_54 - 0x04);
				if (edx != null)
				{
					__lock();
					*edx = *edx - 0x01;
				}
			}
			ecx_54 = ecx_54 + 0x01;
			esi_55 = esi_55 - 0x01;
		} while (esi_55 != 0x00);
		fn00405B3F(dwArg04, *((word256) dwArg04 + 0x009C));
	}
	return edx;
}

// 00405BE9: Register Eq_3 fn00405BE9(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_3 fn00405BE9(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & esiOut)
{
	Eq_3 esi_47;
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410E88, 0x0C);
	*(ebp_10 - 0x1C) = *(ebp_10 - 0x1C) & 0x00;
	word32 edx_18;
	Eq_3 ebx_19;
	Eq_3 ebp_20;
	word32 esi_21;
	Eq_3 eax_22 = fn00403D02(ebx, ebp_10, esi, edi, es, ds, out edx_18, out ebx_19, out ebp_20, out esi_21);
	if ((*((word256) eax_22 + 848) & globals->t412690) != 0x00)
	{
		esi_47 = *((word256) eax_22 + 0x004C);
		if (esi_47 != 0x00)
		{
l00405C58:
			word32 ebp_53;
			word32 esi_54;
			word32 edi_55;
			word32 ebx_56;
			*ebxOut = fn00401A56(ebp_20, 0x0C, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_53, out esi_54, out edi_55);
			return esi_47;
		}
	}
	*(fp - 0x0C) = 0x04;
	fn00405014(dwArg00);
	*(ebp_20 - 0x04) = *(ebp_20 - 0x04) & 0x00;
	*(fp - 0x0C) = (union Eq_3 *) globals->t413074;
	*(fp - 0x10) = (ptr32) ((word256) eax_22 + 0x004C);
	Eq_3 edx_72;
	Eq_3 ebx_73;
	Eq_3 eax_74 = fn00405C60(ebx_19, es, ds, dwArg00, dwArg04, out edx_72, out ebx_73);
	*(ebp_20 - 0x1C) = (union Eq_3 *) eax_74;
	*(ebp_20 - 0x04) = ~0x01;
	fn00405C4F();
	esi_47 = eax_74;
	if (eax_74 == 0x00)
	{
		word32 ebx_86;
		ptr32 ebp_87;
		word32 esi_88;
		word32 edi_89;
		fn004038C4(edx_72, ebx_73, eax_74, eax_22, es, ds, out ebx_86, out ebp_87, out esi_88, out edi_89);
		word32 esi_92;
		*esiOut = *(ebp_87 - 0x1C);
		return fn00405C4F();
	}
	goto l00405C58;
}

// 00405C4F: Register word32 fn00405C4F()
word32 fn00405C4F()
{
	return fn0040505C(0x04);
}

// 00405C60: Register Eq_3 fn00405C60(Register Eq_3 ebx, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Register out ptr32 edxOut, Register out ptr32 ebxOut)
Eq_3 fn00405C60(Eq_3 ebx, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, ptr32 & edxOut, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	*edxOut = edx;
	Eq_3 eax_25;
	if (dwArg08 != 0x00 && dwArg04 != 0x00)
	{
		Eq_3 edi_50 = *dwArg04;
		if (edi_50 != dwArg08)
		{
			*dwArg04 = dwArg08;
			word32 edx_65;
			*edxOut = fn0040591F(dwArg08);
			if (edi_50 != 0x00)
			{
				word32 edx_73;
				*edxOut = fn00405B68(edi_50);
				if (*((word256) edi_50 + 0x0C) == 0x00 && edi_50 != 4269424)
				{
					word32 edx_84;
					*edxOut = fn0040599C(ebx, fp - 0x04, edi_50, es, ds, edi_50);
				}
			}
		}
		eax_25 = dwArg08;
	}
	else
		eax_25.u0 = 0x00;
	return eax_25;
}

// 00405CB0: Register word32 fn00405CB0(Register Eq_3 edi, Register out ptr32 edxOut)
word32 fn00405CB0(Eq_3 edi, ptr32 & edxOut)
{
	word32 edx_11;
	return fn00405DAC(edi, 0x14, &globals->dw40DC30, &globals->dw40DC28, &globals->dw40DC30, out edx_11);
}

// 00405CCA: Register word32 fn00405CCA(Register Eq_3 edi, Register out ptr32 edxOut)
word32 fn00405CCA(Eq_3 edi, ptr32 & edxOut)
{
	word32 edx_11;
	return fn00405DAC(edi, 22, &globals->dw40DC48, &globals->dw40DC40, &globals->dw40DC48, out edx_11);
}

// 00405CE4: Register Eq_3 fn00405CE4(Stack (ptr word32) dwArg04, Stack (ptr word32) dwArg08, Register out ptr32 edxOut)
Eq_3 fn00405CE4(word32 * dwArg04, word32 * dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 * edi_20 = dwArg04;
l00405D96:
	Eq_3 eax_102;
	if (edi_20 == dwArg08)
	{
		eax_102.u0 = 0x00;
		return eax_102;
	}
	ui32 ebx_68 = *edi_20;
	union Eq_3 * eax_69 = ebx_68 * 0x04 + 4272248;
	Eq_3 esi_114 = *eax_69;
	if (esi_114 != 0x00)
	{
		if (esi_114 == ~0x00)
			goto l00405D93;
		goto l00405D8F;
	}
	Eq_1851 ebx_105 = *((char *) globals->a40D788 + ebx_68 * 0x04);
	Eq_3 eax_112 = LoadLibraryExW(ebx_105, 0x00, 0x0800);
	esi_114 = eax_112;
	if (eax_112 != 0x00)
	{
l00405D7D:
		Eq_3 v14_127 = *eax_69;
		*eax_69 = (union Eq_3 *) esi_114;
		if (v14_127 != 0x00)
			FreeLibrary(esi_114);
l00405D8F:
		if (esi_114 != 0x00)
		{
			eax_102 = esi_114;
			return eax_102;
		}
		goto l00405D93;
	}
	Eq_3 eax_137 = GetLastError();
	if (eax_137 == 0x57)
	{
		word32 edx_173;
		eax_137 = fn004057C1(ebx_105, &globals->w40DBE0, 0x07, out edx_173);
		if (eax_137 != 0x00)
		{
			word32 edx_185;
			eax_137 = fn004057C1(ebx_105, &globals->w40DBF0, 0x07, out edx_185);
			if (eax_137 != 0x00)
			{
				eax_137 = LoadLibraryExW(ebx_105, eax_112, eax_112);
				esi_114 = eax_137;
l00405D6F:
				if (esi_114 == 0x00)
				{
					*eax_69 = (union Eq_3 *) (eax_137 | ~0x00);
l00405D93:
					edi_20 = edi_20 + 0x01;
					goto l00405D96;
				}
				goto l00405D7D;
			}
		}
	}
	esi_114.u0 = 0x00;
	goto l00405D6F;
}

// 00405DAC: Register Eq_655 fn00405DAC(Register Eq_3 edi, Stack ui32 dwArg04, Stack Eq_1740 dwArg08, Stack (ptr word32) dwArg0C, Stack (ptr word32) dwArg10, Register out ptr32 edxOut)
FARPROC fn00405DAC(Eq_3 edi, ui32 dwArg04, LPCSTR dwArg08, word32 * dwArg0C, word32 * dwArg10, ptr32 & edxOut)
{
	Eq_655 eax_104;
	ui32 * ebx_15 = dwArg04 * 0x04 + 4272328;
	Eq_3 edx_18 = globals->t412004;
	Eq_655 edx_25 = __ror(edx_18 ^ *ebx_15, (byte) (edx_18 & 0x1F));
	*edxOut = edx_25;
	if (edx_25 == (edi | ~0x00))
	{
		eax_104 = null;
		return eax_104;
	}
	if (edx_25 != null)
	{
		eax_104 = edx_25;
		return eax_104;
	}
	word32 edx_67;
	Eq_3 eax_68 = fn00405CE4(dwArg0C, dwArg10, out edx_67);
	if (eax_68 != 0x00)
	{
		Eq_655 eax_113 = GetProcAddress(eax_68, dwArg08);
		if (eax_113 != null)
		{
			*ebx_15 = fn00401462(eax_113);
			eax_104 = eax_113;
			return eax_104;
		}
	}
	*ebx_15 = __ror(edi | ~0x00, (byte) (0x20 - (globals->t412004 & 0x1F))) ^ globals->t412004;
	eax_104 = null;
	return eax_104;
}

// 00405E2E: Register word32 fn00405E2E(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack ptr32 dwArg04, Register out ptr32 edxOut, Register out ptr32 esiOut)
word32 fn00405E2E(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 dwArg04, ptr32 & edxOut, ptr32 & esiOut)
{
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	Eq_3 edi_3 = edi;
	Eq_3 ebp_44 = fp - 0x04;
	Eq_3 edx_28;
	word32 eax_29 = fn00405DAC(edi, 0x1C, &globals->dw40DC60, &globals->dw40DC5C, &globals->dw40DC60, out edx_28);
	union Eq_3 * esp_31 = fp - 0x0C;
	if (eax_29 != 0x00)
	{
		word32 esp_70;
		word32 edi_71;
		word32 ebp_72;
		word32 ecx_73;
		word32 eax_74;
		byte SZO_75;
		byte C_76;
		<anonymous> * esi_77;
		byte SCZO_78;
		byte Z_79;
		word32 ebx_80;
		struct Eq_9999 * es_81;
		struct Eq_10000 * ds_82;
		word32 edx_83;
		globals->ptr40C100();
		word32 ecx_87;
		word32 eax_88;
		byte SZO_89;
		byte C_90;
		word32 esi_91;
		byte SCZO_92;
		byte Z_93;
		esi_77();
	}
	Eq_3 esi_50 = *esp_31;
	*esiOut = esi_50;
	word32 ecx_52;
	fn004010FE(eax_13 ^ fp - 0x04, edx_28, ebx, ebp_44, esi_50, edi_3, es, ds, ebp, out ecx_52);
	return ecx_52;
}

// 00405F31: Register (ptr word32) fn00405F31(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 edxOut, Register out ptr32 esiOut)
word32 * fn00405F31(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & edxOut, ptr32 & esiOut)
{
	union Eq_3 * esp_47;
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	Eq_3 edi_3 = edi;
	Eq_3 ebp_46 = fp - 0x04;
	Eq_3 edx_28;
	word32 eax_29 = fn00405DAC(edi, 0x05, &globals->t40C22C, &globals->dw40DC10, &globals->dw40DC18, out edx_28);
	if (eax_29 != 0x00)
	{
		word32 esp_66;
		word32 edi_67;
		word32 ebp_68;
		word32 ecx_69;
		word32 eax_70;
		byte SZO_71;
		byte C_72;
		<anonymous> * esi_73;
		byte SCZO_74;
		byte Z_75;
		word32 ebx_76;
		struct Eq_10062 * es_77;
		struct Eq_10063 * ds_78;
		word32 edx_79;
		globals->ptr40C100();
		word32 ecx_83;
		word32 eax_84;
		byte SZO_85;
		byte C_86;
		word32 esi_87;
		byte SCZO_88;
		byte Z_89;
		esi_73();
	}
	else
	{
		TlsGetValue(dwArg04);
		esp_47 = fp - 0x0C;
	}
	Eq_3 esi_52 = *esp_47;
	*esiOut = esi_52;
	word32 ecx_54;
	return fn004010FE(eax_13 ^ fp - 0x04, edx_28, ebx, ebp_46, esi_52, edi_3, es, ds, ebp, out ecx_54);
}

// 00405F87: Register (ptr word32) fn00405F87(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Register out ptr32 edxOut, Register out ptr32 esiOut)
word32 * fn00405F87(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, ptr32 & edxOut, ptr32 & esiOut)
{
	union Eq_3 * esp_51;
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	Eq_3 edi_3 = edi;
	Eq_3 ebp_50 = fp - 0x04;
	Eq_3 edx_28;
	word32 eax_29 = fn00405DAC(edi, 0x06, &globals->dw40C240, &globals->dw40DC18, &globals->dw40DC20, out edx_28);
	if (eax_29 != 0x00)
	{
		word32 esp_70;
		word32 edi_71;
		word32 ebp_72;
		word32 ecx_73;
		word32 eax_74;
		byte SZO_75;
		byte C_76;
		<anonymous> * esi_77;
		byte SCZO_78;
		byte Z_79;
		word32 ebx_80;
		struct Eq_10123 * es_81;
		struct Eq_10124 * ds_82;
		word32 edx_83;
		globals->ptr40C100();
		word32 ecx_87;
		word32 eax_88;
		byte SZO_89;
		byte C_90;
		word32 esi_91;
		byte SCZO_92;
		byte Z_93;
		esi_77();
	}
	else
	{
		TlsSetValue(dwArg04, dwArg08);
		esp_51 = fp - 0x0C;
	}
	Eq_3 esi_56 = *esp_51;
	*esiOut = esi_56;
	word32 ecx_58;
	return fn004010FE(eax_13 ^ fp - 0x04, edx_28, ebx, ebp_50, esi_56, edi_3, es, ds, ebp, out ecx_58);
}

// 00406042: Register (ptr word32) fn00406042(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_1851 dwArg0C, Stack int32 dwArg10, Stack Eq_3 dwArg14, Stack Eq_3 dwArg18, Stack word32 dwArg1C, Stack word32 dwArg20, Stack Eq_3 dwArg24, Register out ptr32 esiOut)
word32 * fn00406042(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, LPCWSTR dwArg0C, int32 dwArg10, Eq_3 dwArg14, Eq_3 dwArg18, word32 dwArg1C, word32 dwArg20, Eq_3 dwArg24, ptr32 & esiOut)
{
	union Eq_3 * esp_108;
	Eq_3 edx_120;
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	Eq_3 edi_109 = edi;
	Eq_3 ebp_110 = fp - 0x04;
	word32 edx_20;
	word32 eax_21 = fn00405CB0(edi, out edx_20);
	if (eax_21 != 0x00)
	{
		word32 esp_95;
		word32 edi_96;
		word32 ebp_97;
		word32 ecx_98;
		word32 eax_99;
		byte SZO_100;
		byte C_101;
		<anonymous> * esi_102;
		byte Z_103;
		word32 ebx_104;
		struct Eq_10217 * es_105;
		struct Eq_10218 * ds_106;
		word32 edx_107;
		globals->ptr40C100();
		word32 ecx_111;
		word32 eax_112;
		byte SZO_113;
		byte C_114;
		word32 esi_115;
		byte Z_116;
		esi_102();
	}
	else
	{
		LCMapStringW(fn004060B6(ebx, fp - 0x04, edi, es, ds, dwArg04, 0x00, out edx_120), dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
		esp_108 = fp - 0x0C;
	}
	Eq_3 esi_47 = *esp_108;
	*esiOut = esi_47;
	word32 ecx_49;
	return fn004010FE(eax_13 ^ fp - 0x04, edx_120, ebx, ebp_110, esi_47, edi_109, es, ds, ebp, out ecx_49);
}

// 004060B6: Register (ptr word32) fn004060B6(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack word32 dwArg08, Register out ptr32 edxOut)
word32 * fn004060B6(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, word32 dwArg08, ptr32 & edxOut)
{
	union Eq_3 * esp_35;
	Eq_3 edx_28;
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	Eq_3 edi_3 = edi;
	Eq_3 ebp_34 = fp - 0x04;
	word32 edx_20;
	word32 eax_21 = fn00405CCA(edi, out edx_20);
	if (eax_21 != 0x00)
	{
		word32 esp_60;
		word32 edi_61;
		word32 ebp_62;
		word32 ecx_63;
		word32 eax_64;
		byte SZO_65;
		byte C_66;
		<anonymous> * esi_67;
		byte Z_68;
		word32 ebx_69;
		struct Eq_10277 * es_70;
		struct Eq_10278 * ds_71;
		word32 edx_72;
		globals->ptr40C100();
		word32 ecx_76;
		word32 eax_77;
		byte SZO_78;
		byte C_79;
		word32 esi_80;
		byte Z_81;
		esi_67();
	}
	else
	{
		*edxOut = fn00407912(dwArg04);
		esp_35 = fp - 0x0C;
	}
	word32 ecx_42;
	return fn004010FE(eax_13 ^ fp - 0x04, edx_28, ebx, ebp_34, *esp_35, edi_3, es, ds, ebp, out ecx_42);
}

// 00406203: Register byte fn00406203(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack (ptr Eq_3496) dwArg04, Stack (ptr Eq_3496) dwArg08, Register out ptr32 ebxOut)
byte fn00406203(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_7 * es, Eq_8 * ds, Eq_3496 * dwArg04, Eq_3496 * dwArg08, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	Eq_3 ebp_101 = fp - 0x04;
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	union Eq_3 * esp_106 = fp - 0x0C;
	struct Eq_3496 * edi_134 = dwArg04;
	if (dwArg04 != dwArg08)
	{
		struct Eq_3496 * esi_201 = dwArg04;
		word32 * esp_102 = fp - 0x14;
		do
		{
			word32 ebx_71 = esi_201->dw0000;
			if (ebx_71 != 0x00)
			{
				word32 esp_214;
				word32 edi_215;
				word32 ebp_216;
				word32 ecx_217;
				word32 eax_218;
				byte SZO_219;
				byte C_220;
				byte SCZO_221;
				byte Z_222;
				byte al_223;
				word32 esi_224;
				<anonymous> * ebx_225;
				word32 edx_226;
				struct Eq_10343 * es_227;
				struct Eq_10344 * ds_228;
				globals->ptr40C100();
				word32 ecx_232;
				word32 eax_233;
				byte SZO_234;
				byte C_235;
				byte SCZO_236;
				byte Z_237;
				byte al_238;
				word32 ebx_240;
				ebx_225();
				if (al_238 == 0x00)
					break;
			}
			esi_201 = esi_201 + 0x01;
		} while (esi_201 != dwArg08);
		if (esi_201 != dwArg08)
		{
			if (esi_201 != edi_134)
			{
				struct Eq_10377 * esi_125 = (char *) esi_201 - 0x04;
				do
				{
					if (*(esi_125 - 0x04) != 0x00)
					{
						word32 ebx_158 = esi_125->dw0000;
						if (ebx_158 != 0x00)
						{
							word32 * esp_162 = esp_102 - 0x04;
							*esp_162 = 0x00;
							word32 esp_165;
							word32 edi_166;
							word32 ebp_167;
							word32 ecx_168;
							word32 eax_169;
							byte SZO_170;
							byte C_171;
							byte SCZO_172;
							byte Z_173;
							byte al_174;
							word32 esi_175;
							<anonymous> * ebx_176;
							word32 edx_177;
							struct Eq_10411 * es_178;
							struct Eq_10412 * ds_179;
							globals->ptr40C100();
							word32 esp_180;
							word32 ecx_183;
							word32 eax_184;
							byte SZO_185;
							byte C_186;
							byte SCZO_187;
							byte Z_188;
							byte al_189;
							word32 ebx_191;
							ebx_176();
							esp_102 = esp_180 + 0x04;
						}
					}
					esi_125 = esi_125 - 0x08;
				} while (&esi_125->dw0000 + 0x01 != edi_134);
			}
		}
		union Eq_3 * esp_104 = esp_102 + 0x01;
		*ebxOut = *esp_102;
		esi = *esp_104;
		esp_106 = (union Eq_3 *) ((char *) esp_104 + 0x04);
	}
	word32 ecx_40;
	return (byte) fn004010FE(eax_13 ^ fp - 0x04, edx, ebx, ebp_101, esi, *esp_106, es, ds, ebp, out ecx_40);
}

// 00406286: void fn00406286(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack ptr32 dwArg04, Stack ptr32 dwArg08)
void fn00406286(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 dwArg04, ptr32 dwArg08)
{
	Eq_3 edi_3 = edi;
	Eq_3 ebp_106 = fp - 0x04;
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	union Eq_3 * esp_15 = fp - 0x0C;
	ptr32 esi_111 = dwArg08;
	if (dwArg04 != dwArg08)
	{
		union Eq_3 * esp_120 = fp - 0x10;
		do
		{
			word32 edi_64 = *(esi_111 - 0x04);
			if (edi_64 != 0x00)
			{
				word32 * esp_86 = esp_120 - 0x04;
				*esp_86 = 0x00;
				word32 esp_89;
				<anonymous> * edi_90;
				word32 ebp_91;
				word32 ecx_92;
				word32 eax_93;
				byte SZO_94;
				byte C_95;
				word32 esi_96;
				byte SCZO_97;
				byte Z_98;
				byte al_99;
				word32 edx_100;
				word32 ebx_101;
				struct Eq_10483 * es_102;
				struct Eq_10484 * ds_103;
				globals->ptr40C100();
				word32 esp_104;
				word32 edi_105;
				word32 ecx_107;
				word32 eax_108;
				byte SZO_109;
				byte C_110;
				byte SCZO_112;
				byte Z_113;
				byte al_114;
				edi_90();
				esp_120 = esp_104 + 0x04;
			}
			esi_111 = esi_111 - 0x08;
		} while (esi_111 != dwArg04);
		edi_3 = *esp_120;
		esp_15 = (union Eq_3 *) ((char *) esp_120 + 0x04);
	}
	word32 ecx_45;
	fn004010FE(eax_13 ^ fp - 0x04, edx, ebx, ebp_106, *esp_15, edi_3, es, ds, ebp, out ecx_45);
	return;
}

// 004062DD: Register (ptr word32) fn004062DD(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out Eq_3687 esiOut)
word32 * fn004062DD(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, Eq_3687 & esiOut)
{
	union Eq_3 * esp_17 = fp - 0x0C;
	Eq_3 ebx_21;
	Eq_3 edi_23;
	Eq_3 ebp_22;
	word32 eax_24 = fn00406321(ebx, esi, edi, out ebx_21, out ebp_22, out edi_23);
	if (eax_24 != 0x00)
	{
		*(fp - 0x10) = (union Eq_3 *) *((word256) ebp_22 + 0x08);
		word32 esp_70;
		word32 edi_71;
		word32 ebp_72;
		word32 ecx_73;
		word32 eax_74;
		byte SZO_75;
		byte C_76;
		<anonymous> * esi_77;
		byte Z_78;
		word32 edx_79;
		word32 ebx_80;
		struct Eq_10553 * es_81;
		struct Eq_10554 * ds_82;
		globals->ptr40C100();
		word32 esp_83;
		word32 ecx_86;
		word32 eax_87;
		byte SZO_88;
		byte C_89;
		word32 esi_90;
		byte Z_91;
		esi_77();
		esp_17 = esp_83 + 0x04;
		if (eax_87 != 0x00)
		{
l00406312:
			Eq_3 esi_44 = *esp_17;
			*esiOut = esi_44;
			word32 ecx_46;
			return fn004010FE(*(ebp_22 - 0x04) ^ ebp_22, edx, ebx_21, ebp_22, esi_44, edi_23, es, ds, ebp, out ecx_46);
		}
	}
	goto l00406312;
}

// 00406321: Register word32 fn00406321(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 ediOut)
word32 fn00406321(Eq_3 ebx, Eq_3 esi, Eq_3 edi, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & ediOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410EA8, 0x0C);
	*(ebp_10 - 0x1C) = *(ebp_10 - 0x1C) & 0x00;
	*(fp - 0x0C) = 0x00;
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 esi_25 = globals->t412004;
	word32 esi_32 = __ror(esi_25 ^ globals->dw41315C, (byte) (esi_25 & 0x1F));
	*(ebp_10 - 0x1C) = esi_32;
	*(ebp_10 - 0x04) = ~0x01;
	fn0040636A();
	word32 ebp_40;
	word32 esi_41;
	word32 edi_42;
	word32 ebx_43;
	*ebxOut = fn00401A56(ebp_10, 0x0C, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_40, out esi_41, out edi_42);
	return esi_32;
}

// 0040636A: void fn0040636A()
void fn0040636A()
{
	fn0040505C(0x00);
	return;
}

// 00406373: Register word32 fn00406373(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
word32 fn00406373(Eq_3 ebx, Eq_3 esi, Eq_3 edi, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 4263656, 0x0C);
	*(ebp_10 - 0x1C) = *(ebp_10 - 0x1C) & 0x00;
	*(fp - 0x0C) = (word32) **((word256) ebp_10 + 0x08);
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 esi_27 = globals->t412004;
	word32 esi_34 = __ror(esi_27 ^ globals->dw413168, (byte) (esi_27 & 0x1F));
	*(ebp_10 - 0x1C) = esi_34;
	*(ebp_10 - 0x04) = ~0x01;
	fn004063C1(ebp_10);
	word32 ebp_42;
	word32 esi_43;
	word32 edi_44;
	word32 ebx_45;
	*ebxOut = fn00401A56(ebp_10, 0x0C, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_42, out esi_43, out edi_44);
	return esi_34;
}

// 004063C1: void fn004063C1(Register Eq_3 ebp)
void fn004063C1(Eq_3 ebp)
{
	fn0040505C(**((word256) ebp + 0x0010));
	return;
}

// 004063CD: Register ptr32 fn004063CD(Stack Eq_3 dwArg04)
ptr32 fn004063CD(Eq_3 dwArg04)
{
	if (dwArg04 == 0x02)
		return 0x00413160;
	else
	{
		if (dwArg04 != 0x06)
		{
			if (dwArg04 == 0x0F)
				return 4272492;
			if (dwArg04 == 0x15)
				return 4272484;
			if (dwArg04 != 22)
				return 0x00;
		}
		return 4272488;
	}
}

// 0040640F: Register (ptr Eq_10785) fn0040640F(Stack Eq_3 dwArg04, Stack (ptr Eq_10785) dwArg08)
Eq_10785 * fn0040640F(Eq_3 dwArg04, Eq_10785 * dwArg08)
{
	struct Eq_10785 * eax_11 = &dwArg08->dw0000 + 0x01;
	struct Eq_10785 * ecx_12 = dwArg08 + globals->dw40CA60;
	if (dwArg08 != ecx_12)
	{
		do
		{
			if (eax_11->dw0000 == dwArg04)
				return eax_11;
			eax_11 = eax_11 + 0x01;
		} while (eax_11 != ecx_12);
	}
	eax_11 = null;
	return eax_11;
}

// 00406437: Register word32 fn00406437(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ebxOut, Register out ptr32 esiOut)
word32 fn00406437(Eq_3 ebx, Eq_3 esi, Eq_3 edi, ptr32 & ebxOut, ptr32 & esiOut)
{
	word32 ebx_28;
	word32 ebp_29;
	word32 esi_30;
	return fn00406373(ebx, esi, edi, out ebx_28, out ebp_29, out esi_30);
}

// 0040647E: Register word32 fn0040647E(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 edxOut, Register out (ptr Eq_10824) ebxOut, Register out (ptr Eq_10825) ebpOut, Register out Eq_10826 esiOut, Register out Eq_10827 ediOut)
word32 fn0040647E(Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & edxOut, Eq_10824 * & ebxOut, Eq_10825 * & ebpOut, Eq_10826 & esiOut, Eq_10827 & ediOut)
{
	*ediOut = edi;
	word32 edx_8;
	word32 ebx_9;
	word32 ebp_10;
	word32 esi_11;
	return (word32) fn00403D02(ebx, ebp, esi, edi, es, ds, out edx_8, out ebx_9, out ebp_10, out esi_11) + 0x08;
}

// 00406487: Register Eq_3 fn00406487(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn00406487(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_3 edx_100;
	word32 eax_382;
	Eq_3 ebp_10 = fn0040A630(ebx, esi, edi, dwLoc0C, 4263624, 0x28);
	*(ebp_10 - 44) = 0x00;
	*(ebp_10 - 0x34) = *(ebp_10 - 0x34) & 0x00;
	*(ebp_10 - 0x1D) = 0x01;
	Eq_3 esi_104 = *((word256) ebp_10 + 0x08);
	*(fp - 0x0C) = 0x08;
	Eq_3 ebx_106 = 0x00;
	byte cl_17 = 0x01;
	Eq_3 edi_105 = *(fp - 0x0C);
	if (esi_104 <= edi_105)
	{
		if (esi_104 != edi_105)
		{
			if (esi_104 == 0x02)
				goto l004064D6;
			if (esi_104 != 0x04)
			{
				if (esi_104 == 0x06)
					goto l004064D6;
				goto l00406505;
			}
		}
	}
	else if (esi_104 != 11)
	{
		if (esi_104 == 0x0F || esi_104 > 0x14 && esi_104 <= 22)
		{
l004064D6:
			*(fp - 0x0C) = (union Eq_3 *) esi_104;
			eax_382 = fn004063CD(dwArg00);
			goto l0040651F;
		}
		goto l00406505;
	}
	byte bl_425;
	Eq_3 eax_427 = fn00403E50(0x00, ebp_10, edi_105, es, ds, out edx_100, out bl_425, out ebp_10);
	*(ebp_10 - 44) = (union Eq_3 *) eax_427;
	ebx_106 = eax_427;
	if (eax_427 == 0x00)
		goto l004064EF;
	*(fp - 0x0C) = (word32) *eax_427;
	*(fp - 0x10) = (union Eq_3 *) esi_104;
	word32 eax_440 = fn0040640F(dwArg00, dwArg04);
	if (eax_440 != 0x00)
	{
		*(ebp_10 - 0x1D) = 0x00;
		eax_382 = eax_440 + 0x08;
		cl_17 = 0x00;
l0040651F:
		*(ebp_10 - 0x28) = eax_382;
		*(ebp_10 - 0x30) = *(ebp_10 - 0x30) & 0x00;
		if (cl_17 != 0x00)
		{
			*(fp - 0x0C) = 0x03;
			fn00405014(dwArg00);
			cl_17 = *(ebp_10 - 0x1D);
		}
		word32 edx_364;
		*(ebp_10 - 0x24) = *(ebp_10 - 0x24) & 0x00;
		*(ebp_10 - 0x1E) = 0x00;
		*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
		ptr32 esp_107 = fp - 0x08;
		word32 * eax_81 = *(ebp_10 - 0x28);
		if (cl_17 != 0x00)
		{
			Eq_3 edx_357 = globals->t412004;
			edx_364 = __ror(edx_357 ^ *eax_81, (byte) (edx_357 & 0x1F));
			cl_17 = *(ebp_10 - 0x1D);
		}
		else
			edx_364 = *eax_81;
		*(ebp_10 - 0x24) = edx_364;
		bool dl_92 = edx_364 == 0x01;
		*(ebp_10 - 0x1E) = dl_92;
		edx_100 = DPB(edx_364, dl_92, 0);
		if (dl_92 != 0x00)
		{
l004065FE:
			*(ebp_10 - 0x04) = ~0x01;
			fn00406635(ebp_10);
			if (*(ebp_10 - 0x1E) == 0x00)
			{
				if (esi_104 == edi_105)
				{
					word32 edx_167;
					word32 ebx_168;
					word32 ebp_169;
					word32 esi_170;
					Eq_3 eax_171 = fn00403D02(ebx_106, ebp_10, esi_104, edi_105, es, ds, out edx_167, out ebx_168, out ebp_169, out esi_170);
					union Eq_3 * esp_173 = esp_107 - 0x04;
					*esp_173 = (union Eq_3 *) *((word256) eax_171 + 0x08);
					*(esp_173 - 0x04) = (union Eq_3 *) edi_105;
					word32 esp_178;
					word32 ebx_179;
					byte SZO_180;
					byte C_181;
					ptr32 ebp_182;
					byte cl_183;
					word32 esi_184;
					word32 edi_185;
					byte SCZO_186;
					byte Z_187;
					word32 eax_188;
					word32 ecx_189;
					word32 edx_190;
					byte dl_191;
					struct Eq_11288 * es_192;
					struct Eq_11289 * ds_193;
					byte bl_194;
					globals->ptr40C100();
					word32 esp_195;
					byte SZO_197;
					byte C_198;
					byte cl_200;
					byte SCZO_203;
					byte Z_204;
					word32 eax_205;
					word32 ecx_206;
					byte dl_208;
					byte bl_211;
					(*(ebp_182 - 0x24))();
				}
				else
				{
					union Eq_3 * esp_214 = esp_107 - 0x04;
					*esp_214 = (union Eq_3 *) esi_104;
					word32 esp_217;
					word32 ebx_218;
					byte SZO_219;
					byte C_220;
					ptr32 ebp_221;
					byte cl_222;
					word32 esi_223;
					word32 edi_224;
					byte SCZO_225;
					byte Z_226;
					word32 eax_227;
					word32 ecx_228;
					word32 edx_229;
					byte dl_230;
					struct Eq_11229 * es_231;
					struct Eq_11230 * ds_232;
					byte bl_233;
					globals->ptr40C100();
					word32 esp_234;
					byte SZO_236;
					byte C_237;
					byte cl_239;
					byte SCZO_242;
					byte Z_243;
					word32 eax_244;
					word32 ecx_245;
					byte dl_247;
					byte bl_250;
					(*(ebp_221 - 0x24))();
				}
				if (esi_104 == edi_105 || (esi_104 == 11 || esi_104 == 0x04))
				{
					*((word256) ebx_106 + 0x04) = *(ebp_10 - 0x30);
					if (esi_104 == edi_105)
					{
						Eq_3 eax_160 = fn00403D02(ebx_106, ebp_10, esi_104, edi_105, es, ds, out edx_100, out ebx_106, out ebp_10, out esi_104);
						*((word256) eax_160 + 0x08) = *(ebp_10 - 0x34);
					}
				}
			}
l00406677:
			word32 ebp_46;
			word32 esi_47;
			word32 edi_48;
			word32 ebx_49;
			*ebxOut = fn0040A679(edx_100, ebx_106, ebp_10, esi_104, edi_105, es, ds, out ebp_46, out esi_47, out edi_48);
			return edx_100;
		}
		if (edx_364 == 0x00)
		{
			if (cl_17 != 0x00)
			{
				*(fp - 0x0C) = 0x03;
				fn0040505C(dwArg00);
			}
			*(fp - 0x0C) = 0x03;
			esp_107 = fp - 0x0C;
			edx_100 = fn00403065(edx_100, ebx_106, esi_104, edi_105, es, ds, dwArg00, out ebx_106, out esi_104);
		}
		if (esi_104 == edi_105 || (esi_104 == 11 || esi_104 == 0x04))
		{
			*(ebp_10 - 0x30) = (union Eq_3 *) *((word256) ebx_106 + 0x04);
			*((word256) ebx_106 + 0x04) = *((word256) ebx_106 + 0x04) & 0x00;
			if (esi_104 != edi_105)
				goto l004065E2;
			word32 edx_320;
			Eq_3 ebx_321;
			Eq_3 ebp_322;
			Eq_3 esi_323;
			Eq_3 edi_324;
			word32 eax_326 = *fn0040647E(ebx_106, ebp_10, esi_104, edi_105, es, ds, out edx_320, out ebx_321, out ebp_322, out esi_323, out edi_324);
			*(ebp_322 - 0x34) = eax_326;
			*fn0040647E(ebx_321, ebp_322, esi_323, edi_324, es, ds, out edx_100, out ebx_106, out ebp_10, out esi_104, out edi_105) = 0x8C;
		}
		if (esi_104 == edi_105)
		{
			struct Eq_11337 * eax_298 = (word256) *ebx_106 + globals->dw40CA64 *s 0x0C;
			struct Eq_11337 * ecx_300 = eax_298 + globals->dw40CA68;
			while (true)
			{
				*(ebp_10 - 0x38) = (struct Eq_11337 **) eax_298;
				if (eax_298 == ecx_300)
					break;
				eax_298->dw0008 = eax_298->dw0008 & 0x00;
				eax_298 = eax_298 + 0x01;
			}
			goto l004065FE;
		}
l004065E2:
		Eq_3 eax_272 = globals->t412004;
		word32 * esp_274 = esp_107 - 0x04;
		*esp_274 = 0x20;
		**(ebp_10 - 0x28) = __ror(0x00, (byte) (*esp_274 - (eax_272 & 0x1F))) ^ globals->t412004;
		esp_107 = esp_274 + 0x01;
		goto l004065FE;
	}
l00406505:
	word32 edx_409;
	Eq_3 ebx_410;
	Eq_3 ebp_411;
	word32 esi_412;
	Eq_3 edi_413;
	*fn004041CB(ebx_106, ebp_10, edi_105, es, ds, out edx_409, out ebx_410, out ebp_411, out esi_412, out edi_413) = 22;
	word32 ecx_416;
	fn0040410E(ebx_410, ebp_411, edi_413, es, ds, out ecx_416, out edx_100, out ebx_106, out ebp_10, out esi_104, out edi_105);
l004064EF:
	goto l00406677;
}

// 00406635: void fn00406635(Register Eq_3 ebp)
void fn00406635(Eq_3 ebp)
{
	if (*(ebp - 0x1D) != 0x00)
		fn0040505C(0x03);
	return;
}

// 0040667D: Register Eq_3 fn0040667D(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out (ptr Eq_11412) ebpOut, Register out (ptr Eq_11413) esiOut)
Eq_3 fn0040667D(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_11412 * & ebpOut, Eq_11413 * & esiOut)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410F08, 0x08);
	*(fp - 0x0C) = (word32) **((word256) ebp_10 + 0x08);
	fn00406A0B(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	struct Eq_11449 * esi_23 = *((word256) ebp_10 + 0x0C);
	*(fp - 0x0C) = esi_23->ptr0004;
	*(fp - 0x10) = *esi_23->ptr0000;
	if (fn004067EF(dwArg00, dwArg04) != 0x00 && (*esi_23->ptr0008 != 0x00 || ((byte) (*((char *) (*esi_23->ptr0000) + 0x0C) >> 0x01) & 0x01) != 0x00))
	{
		*(fp - 0x0C) = *esi_23->ptr0000;
		if (fn004068A7(ebx, ebp_10, edi, es, ds, dwArg00) != ~0x00)
		{
			word32 * eax_75 = esi_23->ptr0004;
			*eax_75 = *eax_75 + 0x01;
		}
		else
		{
			ui32 * eax_79 = esi_23->ptr000C;
			*eax_79 = *eax_79 | ~0x00;
		}
	}
	*(ebp_10 - 0x04) = ~0x01;
	fn004066F2(ebp_10);
	word32 ebp_52;
	word32 esi_53;
	word32 edi_54;
	return fn00401A56(ebp_10, 0x08, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_52, out esi_53, out edi_54);
}

// 004066F2: void fn004066F2(Register Eq_3 ebp)
void fn004066F2(Eq_3 ebp)
{
	fn00406A1F(**((word256) ebp + 0x0010));
	return;
}

// 004066FE: Register word32 fn004066FE(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds)
word32 fn004066FE(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds)
{
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410F28, 44);
	*(fp - 0x0C) = (word32) **((word256) ebp_10 + 0x08);
	fn00405014(dwArg00);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
	Eq_3 esi_24 = globals->t413174;
	Eq_3 ebx_26 = (word256) esi_24 + globals->dw413170 * 0x04;
	struct Eq_11629 * edi_27 = *((word256) ebp_10 + 0x0C);
	while (true)
	{
		*(ebp_10 - 44) = (union Eq_3 *) esi_24;
		if (esi_24 == ebx_26)
			break;
		word32 eax_44 = *esi_24;
		*(ebp_10 - 0x20) = eax_44;
		*(fp - 0x0C) = edi_27->dw0000;
		*(fp - 0x10) = eax_44;
		if (fn004067EF(dwArg00, dwArg04) != 0x00)
		{
			word32 edx_70 = edi_27->dw0008;
			word32 ecx_71 = edi_27->dw0004;
			word32 eax_72 = edi_27->dw0000;
			Eq_3 edi_73 = ebp_10 - 0x20;
			*(ebp_10 - 0x3C) = (union Eq_3 *) edi_73;
			*(ebp_10 - 0x38) = eax_72;
			*(ebp_10 - 0x34) = ecx_71;
			*(ebp_10 - 0x30) = edx_70;
			word32 eax_78 = *(ebp_10 - 0x20);
			*(ebp_10 - 0x24) = eax_78;
			*(ebp_10 - 0x28) = eax_78;
			*(fp - 0x0C) = ebp_10 - 0x24;
			*(fp - 0x10) = ebp_10 - 0x3C;
			*(fp - 0x14) = ebp_10 - 0x28;
			ebx_26 = fn0040667D(ebx_26, esi_24, edi_73, es, ds, out ebp_10, out esi_24);
			edi_27 = (struct Eq_11629 *) *((word256) ebp_10 + 0x0C);
		}
		esi_24.u2 = (word256) esi_24 + 0x04;
	}
	*(ebp_10 - 0x04) = ~0x01;
	fn00406794(ebp_10);
	word32 ebp_101;
	word32 esi_102;
	word32 edi_103;
	fn00401A56(ebp_10, 44, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_101, out esi_102, out edi_103);
	return ebp_101;
}

// 00406794: void fn00406794(Register Eq_3 ebp)
void fn00406794(Eq_3 ebp)
{
	fn0040505C(**((word256) ebp + 0x0010));
	return;
}

// 004067A0: Register word32 fn004067A0(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds)
word32 fn004067A0(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds)
{
	struct Eq_11782 * ebp_44 = fn004066FE(ebx, esi, edi, es, ds);
	word32 eax_49 = *(ebp_44 - 0x08);
	if (ebp_44->b0008 == 0x00)
		eax_49 = *(ebp_44 - 0x0C);
	return eax_49;
}

// 004067EF: Register byte fn004067EF(Stack Eq_3 dwArg04, Stack Eq_3 dwArg08)
byte fn004067EF(Eq_3 dwArg04, Eq_3 dwArg08)
{
	if (dwArg04 != 0x00)
	{
		struct Eq_11449 * ecx_36 = *((word256) dwArg04 + 0x0C);
		if (((byte) (ecx_36 >> 0x0D) & 0x01) != 0x00)
		{
			if (fn00406821(ecx_36) != 0x00)
				return 0x01;
			dwArg08->u2 = (word256) *dwArg08 + 0x01;
		}
	}
	return 0x00;
}

// 00406821: Register byte fn00406821(Stack (ptr Eq_11449) dwArg04)
byte fn00406821(Eq_11449 * dwArg04)
{
	byte cl_10 = (byte) dwArg04;
	byte al_12 = (byte) dwArg04;
	if ((al_12 & 0x03) != 0x02 || (cl_10 & 0xC0) == 0x00)
		return (byte) (dwArg04 >> 11) & 0x01;
	else
		return (al_12 & 0x03) - 0x01;
}

// 00406844: Register ui32 fn00406844(Register Eq_3 ebx, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut)
ui32 fn00406844(Eq_3 ebx, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	ui32 eax_105;
	word32 edx_17 = *((word256) dwArg04 + 0x0C);
	byte dl_18 = (byte) edx_17;
	if (((byte) edx_17 & 0x03) == 0x02 && (dl_18 & 0xC0) != 0x00)
	{
		Eq_3 eax_67 = *((word256) dwArg04 + 0x04);
		Eq_3 edi_68 = *dwArg04 - eax_67;
		*dwArg04 = eax_67;
		*((word256) dwArg04 + 0x08) = *((word256) dwArg04 + 0x08) & 0x00;
		if (edi_68 > 0x00)
		{
			Eq_3 edx_83;
			Eq_3 ebx_84;
			Eq_3 esi_85;
			*(fp - 0x18) = fn00406FEA(ebx, edi_68, es, ds, dwArg04, out edx_83, out ebx_84, out esi_85);
			word32 ebx_91;
			uint32 * esi_92;
			word32 edi_93;
			word32 eax_94 = fn0040809D(edx_83, ebx_84, esi_85, edi_68, es, ds, out ebx_91, out esi_92, out edi_93);
			if (edi_93 != eax_94)
			{
				*(fp - 0x10) = 0x10;
				ui32 eax_100 = *(fp - 0x10);
				__lock();
				*esi_92 = *esi_92 | eax_100;
				eax_105 = eax_100 | ~0x00;
				return eax_105;
			}
			if (((byte) (*esi_92 >> 0x02) & 0x01) != 0x00)
			{
				*(fp - 0x10) = ~0x02;
				ui32 eax_117 = *(fp - 0x10);
				__lock();
				*esi_92 = *esi_92 & eax_117;
			}
		}
	}
	eax_105 = 0x00;
	return eax_105;
}

// 004068A7: Register ui32 fn004068A7(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
ui32 fn004068A7(Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	ui32 eax_22;
	if (dwArg04 == 0x00)
	{
		eax_22 = fn004067A0(ebx, dwArg04, edi, es, ds);
		return eax_22;
	}
	Eq_3 ebx_43;
	ui32 eax_44 = fn00406844(ebx, es, ds, dwArg04, out ebx_43);
	if (eax_44 == 0x00)
	{
		if (((byte) (*((word256) dwArg04 + 0x0C) >> 11) & 0x01) != 0x00)
		{
			*(fp - 0x0C) = (union Eq_3 *) dwArg04;
			word32 edx_81;
			Eq_3 ebx_82;
			word32 esi_83;
			*(fp - 0x10) = fn00406FEA(ebx_43, edi, es, ds, dwArg00, out edx_81, out ebx_82, out esi_83);
			eax_44 = fn00407A7D(ebx_82, edi, es, ds, dwArg00);
			if (eax_44 != 0x00)
				goto l004068C8;
		}
		eax_22 = 0x00;
		return eax_22;
	}
	else
	{
l004068C8:
		eax_22 = eax_44 | ~0x00;
		return eax_22;
	}
}

// 004068EE: void fn004068EE(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds)
void fn004068EE(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds)
{
	fn004067A0(ebx, esi, edi, es, ds);
	return;
}

// 00406A0B: void fn00406A0B(Stack Eq_3 dwArg04)
void fn00406A0B(Eq_3 dwArg04)
{
	EnterCriticalSection((word256) dwArg04 + 0x0020);
	return;
}

// 00406A1F: void fn00406A1F(Stack Eq_3 dwArg04)
void fn00406A1F(Eq_3 dwArg04)
{
	LeaveCriticalSection((word256) dwArg04 + 0x0020);
	return;
}

// 00406E78: Register Eq_3 fn00406E78(Register ptr32 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Stack Eq_3 dwArg10, Register out ptr32 edxOut)
Eq_3 fn00406E78(ptr32 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, Eq_3 dwArg10, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_3 eax_114;
	ptr32 ebp_107 = fp - 0x04;
	if (dwArg08 == 0x00 || dwArg0C == 0x00)
	{
l00406EA1:
		eax_114.u0 = 0x00;
		return eax_114;
	}
	if (*dwArg08 == 0x00)
	{
		if (dwArg04 != 0x00)
			*dwArg04 = 0x00;
		goto l00406EA1;
	}
	Eq_3 edi_134;
	Eq_3 ebx_89;
	word32 edx_90;
	*edxOut = fn00403965(fp - 0x14, dwArg0C, fp - 0x04, dwArg08, es, ds, dwArg10, out ebx_89);
	if (*((char *) *(fp - 0x10) + 0x00A8) == 0x00)
	{
		word16 * ecx_124 = fp->ptr0004;
		if (ecx_124 != null)
			*ecx_124 = (word16) (word32) *dwArg08;
		edi_134.u0 = 0x01;
l00406F5E:
		if (*(ebp_107 - 0x04) != 0x00)
		{
			struct Eq_12318 * ecx_119 = *(ebp_107 - 0x10);
			ecx_119->dw0350 = ecx_119->dw0350 & ~0x02;
		}
		eax_114 = edi_134;
		return eax_114;
	}
	*(fp - 0x24) = fp - 0x10;
	*(fp - 0x28) = (word32) *dwArg08;
	word32 edx_146;
	Eq_3 ebx_147;
	struct Eq_12132 * esi_148;
	if (fn004085ED(ebx_89, dwArg08, es, ds, dwArg04, out edx_146, out ebx_147, out esi_148) == 0x00)
	{
		*(fp - 0x24) = (word32) (fp->ptr0004 != null);
		*(fp - 0x28) = (word16 **) fp->ptr0004;
		struct Eq_12183 * eax_251 = *(fp - 0x10);
		*(fp - 44) = 0x01;
		*(fp - 0x30) = (struct Eq_12132 **) esi_148;
		*(fp - 0x34) = 0x09;
		*(fp - 0x38) = eax_251->dw0008;
		edi_134.u0 = 0x01;
		if (fn00408626(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14) != 0x00)
			goto l00406F5E;
		goto l00406F50;
	}
	bool C_193;
	edi_134 = *(fp - 0x10);
	if (*((word256) edi_134 + 0x04) > 0x01)
	{
		C_193 = cond(ebx_147 - *((word256) edi_134 + 0x04));
		if (ebx_147 < *((word256) edi_134 + 0x04))
		{
l00406F1E:
			if (!C_193 && esi_148->b0001 != 0x00)
				goto l00406F26;
l00406F50:
			word32 edx_163;
			word32 ebx_164;
			word32 esi_166;
			ui32 edi_167;
			*fn004041CB(ebx_147, fp - 0x04, edi_134, es, ds, out edx_163, out ebx_164, out ebp_107, out esi_166, out edi_167) = 0x2A;
			edi_134 = edi_167 | ~0x00;
			goto l00406F5E;
		}
		*(fp - 0x24) = (word32) (fp->ptr0004 != null);
		*(fp - 0x28) = (word16 **) fp->ptr0004;
		*(fp - 44) = (union Eq_3 *) *((word256) edi_134 + 0x04);
		*(fp - 0x30) = (struct Eq_12132 **) esi_148;
		*(fp - 0x34) = 0x09;
		*(fp - 0x38) = (word32) *((word256) edi_134 + 0x08);
		word32 eax_233 = fn00408626(dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
		edi_134 = *(fp - 0x10);
		if (eax_233 != 0x00)
		{
l00406F26:
			edi_134 = *((word256) edi_134 + 0x04);
			goto l00406F5E;
		}
	}
	C_193 = cond(ebx_147 - *((word256) edi_134 + 0x04));
	goto l00406F1E;
}

// 00406F76: Register word32 fn00406F76(Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Register out Eq_12361 edxOut, Register out Eq_12362 ebxOut, Register out (ptr Eq_12363) esiOut)
word32 fn00406F76(Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, Eq_12361 & edxOut, Eq_12362 & ebxOut, Eq_12363 * & esiOut)
{
	*ebxOut = ebx;
	*esiOut = esi;
	word32 edx_24;
	return fn00406E78(fp - 0x04, es, ds, dwArg04, dwArg08, dwArg0C, 0x00, out edx_24);
}

// 00406F90: Register Eq_3 fn00406F90(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack (ptr Eq_4004) dwArg04, Stack Eq_3 dwArg08)
Eq_3 fn00406F90(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_4004 * dwArg04, Eq_3 dwArg08)
{
	if (*dwArg08 != globals->t413074 && (dwArg04->dw0350 & globals->t412690) == 0x00)
	{
		word32 * esi_40;
		word32 eax_41 = fn00405BE9(ebx, dwArg08, edi, es, ds, out ebx, out esi_40);
		*esi_40 = eax_41;
	}
	return ebx;
}

// 00406FBD: Register word32 fn00406FBD(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack (ptr Eq_4004) dwArg04, Stack Eq_3 dwArg08, Register out ptr32 ebxOut)
word32 fn00406FBD(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_4004 * dwArg04, Eq_3 dwArg08, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	if (*dwArg08 != globals->t412CF0 && (dwArg04->dw0350 & globals->t412690) == 0x00)
	{
		word32 ebx_43;
		word32 * esi_44;
		word32 eax_45 = fn00404C01(ebx, fp - 0x04, dwArg08, edi, es, ds, out edx, out ebx_43, out esi_44);
		*esi_44 = eax_45;
	}
	return edx;
}

// 00406FEA: Register (ptr Eq_3) fn00406FEA(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_3 * fn00406FEA(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut)
{
	*ebxOut = ebx;
	*edxOut = edx;
	*esiOut = esi;
	if (dwArg04 != 0x00)
		return *((word256) dwArg04 + 0x0010);
	else
	{
		word32 edx_29;
		Eq_3 ebx_30;
		Eq_3 ebp_31;
		word32 esi_32;
		Eq_3 edi_33;
		*fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_29, out ebx_30, out ebp_31, out esi_32, out edi_33) = 22;
		word32 ecx_36;
		word32 edx_37;
		word32 ebx_38;
		word32 ebp_39;
		word32 esi_40;
		word32 edi_41;
		return fn0040410E(ebx_30, ebp_31, edi_33, es, ds, out ecx_36, out edx_37, out ebx_38, out ebp_39, out esi_40, out edi_41) | ~0x00;
	}
}

// 0040762D: Register Eq_3 fn0040762D(Register Eq_3 ebx, Register Eq_3 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg10, Stack Eq_3 dwArg14, Stack Eq_3 dwArg20, Stack word32 dwArg24, Register out Eq_12488 blOut)
Eq_3 fn0040762D(Eq_3 ebx, Eq_3 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg10, Eq_3 dwArg14, Eq_3 dwArg20, word32 dwArg24, Eq_12488 & blOut)
{
	Eq_3 esi_24 = dwArg14;
	if (dwArg14 > 0x00)
	{
		Eq_3 eax_444 = fn00408645(dwArg10, dwArg14);
		esi_24.u2 = (word256) eax_444 + 0x01;
		if (eax_444 >= dwArg14)
			esi_24 = eax_444;
	}
	Eq_3 edi_131 = dwArg20;
	if (dwArg20 == 0x00)
	{
		edi_131 = *((word256) *dwArg04 + 0x08);
		dwArg20 = edi_131;
	}
	Eq_3 eax_71 = MultiByteToWideChar(edi_131, (word32) (dwArg24 != 0x00) * 0x08 + 0x01, dwArg10, esi_24, 0x00, 0x00);
	Eq_3 edx_118 = eax_71;
	if (eax_71 == 0x00)
	{
l004077EE:
		Eq_3 ebx_90 = *(fp - 0x10);
		word32 ecx_99;
		fn004010FE(*(fp - 0x08) ^ fp - 0x04, edx_118, ebx_90, fp - 0x04, *(fp - 0x14), *(fp - 0x18), es, ds, ebp, out ecx_99);
		byte bl_91;
		*blOut = (byte) ebx_90;
		return edx_118;
	}
	Eq_3 ebx_119;
	uint32 ecx_106 = eax_71 * 0x02 + 0x08;
	Eq_3 eax_110 = 0x00 - (eax_71 * 0x02 < ecx_106) & ecx_106;
	if (eax_110 == 0x00)
	{
		ebx_119.u0 = 0x00;
		goto l004076DF;
	}
	if (eax_110 <= 0x0400)
	{
		fn0040A6D0(eax_110);
		ebx_119 = fp - 0x18;
		if (fp == (struct Eq_12526 *) 0x18)
			goto l004076D8;
		*(fp - 0x18) = 0xCCCC;
	}
	else
	{
		word32 ebx_421;
		Eq_3 eax_422 = fn0040381C(eax_71, ebx, edi_131, es, ds, eax_110, out ebx_421);
		ebx_119 = eax_422;
		if (eax_422 == 0x00)
			goto l004076D8;
		*eax_422 = 0xDDDD;
	}
	ebx_119.u0 = (byte) ebx_119.u0 + 0x08;
l004076D8:
	edx_118 = *(fp - 0x0C);
l004076DF:
	if (ebx_119 == 0x00)
	{
l004077E3:
		goto l004077E5;
	}
	*(fp - 0x1C) = (union Eq_3 *) edx_118;
	*(fp - 0x20) = (union Eq_3 *) ebx_119;
	*(fp - 0x24) = (union Eq_3 *) esi_24;
	*(fp - 0x28) = fp->dw0010;
	*(fp - 44) = 0x01;
	*(fp - 0x30) = (union Eq_3 *) edi_131;
	if (MultiByteToWideChar(*(fp - 0x30), *(fp - 44), *(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C)) == 0x00)
		goto l004077E3;
	edi_131 = *(fp - 0x0C);
	*(fp - 0x1C) = 0x00;
	*(fp - 0x20) = 0x00;
	*(fp - 0x24) = 0x00;
	*(fp - 0x28) = 0x00;
	*(fp - 44) = 0x00;
	*(fp - 0x30) = (union Eq_3 *) edi_131;
	*(fp - 0x34) = (union Eq_3 *) ebx_119;
	*(fp - 0x38) = fp->dw000C;
	*(fp - 0x3C) = fp->dw0008;
	word32 esi_205;
	int32 eax_206 = fn00406042(ebx_119, fp - 0x04, edi_131, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, dwArg20, out esi_205);
	if (eax_206 == 0x00)
		goto l004077E3;
	if ((fp->dw000C & 0x0400) != 0x00)
	{
		int32 eax_216 = fp->dw001C;
		if (eax_216 != 0x00)
		{
			if (eax_206 > eax_216)
				goto l004077E3;
			*(fp - 0x1C) = 0x00;
			*(fp - 0x20) = 0x00;
			*(fp - 0x24) = 0x00;
			*(fp - 0x28) = eax_216;
			*(fp - 44) = fp->dw0018;
			*(fp - 0x30) = (union Eq_3 *) edi_131;
			*(fp - 0x34) = (union Eq_3 *) ebx_119;
			*(fp - 0x38) = fp->dw000C;
			*(fp - 0x3C) = fp->dw0008;
			word32 esi_247;
			if (fn00406042(ebx_119, fp - 0x04, edi_131, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, dwArg20, out esi_247) == 0x00)
				goto l004077E3;
		}
		goto l004077E5;
	}
	uint32 ecx_255 = eax_206 * 0x02 + 0x08;
	Eq_3 eax_259 = 0x00 - (eax_206 * 0x02 < ecx_255) & ecx_255;
	if (eax_259 != 0x00)
	{
		if (eax_259 <= 0x0400)
		{
			fn0040A6D0(eax_259);
			edi_131 = fp - 0x18;
			if (fp == (struct Eq_12526 *) 0x20)
				goto l004077DC;
			*(fp - 0x18) = 0xCCCC;
		}
		else
		{
			*(fp - 0x1C) = (union Eq_3 *) eax_259;
			Eq_3 eax_378 = fn0040381C(0x0400, ebx_119, edi_131, es, ds, dwArg00, out ebx_119);
			edi_131 = eax_378;
			if (eax_378 == 0x00)
				goto l004077DC;
			*eax_378 = 0xDDDD;
		}
		edi_131.u0 = (byte) edi_131.u0 + 0x08;
	}
	else
		edi_131.u0 = 0x00;
	if (edi_131 != 0x00)
	{
		*(fp - 0x1C) = 0x00;
		*(fp - 0x20) = 0x00;
		*(fp - 0x24) = 0x00;
		*(fp - 0x28) = eax_206;
		*(fp - 44) = (union Eq_3 *) edi_131;
		*(fp - 0x30) = *(fp - 0x0C);
		*(fp - 0x34) = (union Eq_3 *) ebx_119;
		*(fp - 0x38) = fp->dw000C;
		*(fp - 0x3C) = fp->dw0008;
		word32 esi_312;
		if (fn00406042(ebx_119, fp - 0x04, edi_131, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18, dwArg1C, dwArg20, out esi_312) != 0x00)
		{
			*(fp - 0x1C) = 0x00;
			*(fp - 0x20) = 0x00;
			if (fp->dw001C == 0x00)
			{
				*(fp - 0x24) = 0x00;
				*(fp - 0x28) = 0x00;
			}
			else
			{
				*(fp - 0x24) = fp->dw001C;
				*(fp - 0x28) = fp->dw0018;
			}
			*(fp - 44) = esi_312;
			*(fp - 0x30) = (union Eq_3 *) edi_131;
			*(fp - 0x34) = 0x00;
			*(fp - 0x38) = fp->dw0020;
			if (WideCharToMultiByte(*(fp - 0x38), *(fp - 0x34), *(fp - 0x30), *(fp - 44), *(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C)) != null)
			{
				*(fp - 0x1C) = (union Eq_3 *) edi_131;
				fn004058FF(ebx_119, edi_131, es, ds, dwArg00, out ebx_119);
l004077E5:
				*(fp - 0x1C) = (union Eq_3 *) ebx_119;
				word32 ebx_140;
				edx_118 = fn004058FF(ebx_119, edi_131, es, ds, dwArg00, out ebx_140);
				goto l004077EE;
			}
		}
	}
l004077DC:
	*(fp - 0x1C) = (union Eq_3 *) edi_131;
	fn004058FF(ebx_119, edi_131, es, ds, dwArg00, out ebx_119);
	goto l004077E3;
}

// 00407813: Register word32 fn00407813(Register Eq_3 ebx, Register ptr32 ebp, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 ebxOut, Register out ptr32 esiOut)
word32 fn00407813(Eq_3 ebx, ptr32 ebp, Eq_3 esi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & ebxOut, ptr32 & esiOut)
{
	*esiOut = esi;
	Eq_3 ebx_19;
	fn00403965(fp - 0x14, ebx, fp - 0x04, esi, es, ds, dwArg04, out ebx_19);
	*(fp - 0x18) = fp->dw0024;
	*(fp - 0x1C) = fp->dw0020;
	*(fp - 0x20) = fp->dw001C;
	*(fp - 0x24) = fp->dw0018;
	*(fp - 0x28) = fp->dw0014;
	*(fp - 44) = fp->dw0010;
	*(fp - 0x30) = fp->dw000C;
	*(fp - 0x34) = fp->dw0008;
	*(fp - 0x38) = fp - 0x10;
	byte bl_55;
	word32 edx_56 = fn0040762D(ebx_19, fp - 0x04, es, ds, dwArg00, dwArg0C, dwArg10, dwArg1C, dwArg20, out bl_55);
	if (*(fp - 0x08) != 0x00)
	{
		struct Eq_13185 * ecx_70 = *(fp - 0x14);
		ecx_70->dw0350 = ecx_70->dw0350 & ~0x02;
	}
	return edx_56;
}

// 0040785E: Register ui32 fn0040785E(Stack Eq_3 dwArg04, Register out ptr32 edxOut)
ui32 fn0040785E(Eq_3 dwArg04, ptr32 & edxOut)
{
	int32 ebx_132 = 0x00;
	int32 eax_129 = 227;
	int32 dwLoc0C_127 = 0x00;
	int32 dwLoc10_128 = 227;
	do
	{
		int64 edx_eax_45 = (int64) (eax_129 + ebx_132);
		int32 eax_48 = (word32) edx_eax_45 - SLICE(edx_eax_45, word32, 32);
		word16 * esi_58 = globals->a40EDA8[eax_48 >> 0x01];
		word32 dwLoc08_44 = 0x55;
		int32 ecx_61 = dwArg04 - esi_58;
		do
		{
			word32 edx_69 = (word32) esi_58[ecx_61];
			word16 dx_170 = (word16) edx_69;
			if ((word16) (edx_69 - 0x41) <= 0x19)
				dx_170 = (word16) (word32) (word16) (edx_69 + 0x20);
			word16 ax_162;
			word32 edi_78 = (word32) *esi_58;
			if ((word16) (edi_78 - 0x41) <= 0x19)
				ax_162 = (word16) (word32) (word16) (edi_78 + 0x20);
			else
				ax_162 = (word16) edi_78;
			word32 v17_88 = dwLoc08_44 - 0x01;
			esi_58 = esi_58 + 0x01;
			dwLoc08_44 = v17_88;
		} while (v17_88 == 0x00 || (dx_170 == 0x00 || dx_170 != ax_162));
		ui32 eax_109;
		ebx_132 = dwLoc0C_127;
		int32 edx_99 = (word32) dx_170 - (word32) ax_162;
		*edxOut = edx_99;
		if (edx_99 == 0x00)
		{
			eax_109 = (ui32) globals->a40EDAC[eax_48 >> 0x01];
			return eax_109;
		}
		if (edx_99 < 0x00)
		{
			eax_129 = (eax_48 >> 0x01) - 0x01;
			dwLoc10_128 = (eax_48 >> 0x01) - 0x01;
		}
		else
		{
			eax_129 = dwLoc10_128;
			ebx_132 = (eax_48 >> 0x01) + 0x01;
			dwLoc0C_127 = (eax_48 >> 0x01) + 0x01;
		}
	} while (ebx_132 <= eax_129);
	eax_109 = eax_129 | ~0x00;
	return eax_109;
}

// 00407912: Register word32 fn00407912(Stack Eq_3 dwArg04)
word32 fn00407912(Eq_3 dwArg04)
{
	if (dwArg04 != 0x00)
	{
		Eq_13302 eax_39 = fn0040785E(dwArg04, out edx);
		if (eax_39 >= 0x00 && eax_39 < 228)
			return edx;
	}
	return edx;
}

// 004079E5: Register ui32 fn004079E5(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebpOut)
ui32 fn004079E5(Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebpOut)
{
	ui32 esi_42;
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410F48, 0x0C);
	*(ebp_10 - 0x1C) = 0x00;
	*(fp - 0x0C) = (word32) **((word256) ebp_10 + 0x08);
	fn004051E9(dwArg00);
	*(ebp_10 - 0x04) = 0x00;
	Eq_3 edi_25 = ***((word256) ebp_10 + 0x0C);
	if ((*((word32) globals->a412E70[(edi_25 >> 0x06) * 0x04] + ((edi_25 & 0x3F) * 0x30 + 0x0028)) & 0x01) != 0x00)
	{
		*(fp - 0x0C) = (union Eq_3 *) edi_25;
		Eq_3 ebx_74;
		*(fp - 0x0C) = fn004052C0(ebx, edi_25, es, ds, dwArg00, out ebx_74, out esi_42);
		if (FlushFileBuffers(*(fp - 0x0C)) != 0x00)
		{
l00407A55:
			*(ebp_10 - 0x1C) = esi_42;
			*(ebp_10 - 0x04) = ~0x01;
			fn00407A71(ebp_10);
			word32 ebp_49;
			word32 esi_50;
			word32 edi_51;
			fn00401A56(ebp_10, 0x0C, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_49, out esi_50, out edi_51);
			return esi_42;
		}
		word32 edx_86;
		word32 esi_89;
		*fn004041B8(ebx_74, ebp_10, edi_25, es, ds, out edx_86, out ebx, out ebp_10, out esi_89, out edi_25) = (union Eq_3 *) GetLastError();
	}
	word32 edx_62;
	word32 ebx_63;
	ui32 esi_65;
	word32 edi_66;
	*fn004041CB(ebx, ebp_10, edi_25, es, ds, out edx_62, out ebx_63, out ebp_10, out esi_65, out edi_66) = 0x09;
	esi_42 = esi_65 | ~0x00;
	goto l00407A55;
}

// 00407A71: void fn00407A71(Register Eq_3 ebp)
void fn00407A71(Eq_3 ebp)
{
	fn0040520C(**((word256) ebp + 0x0010));
	return;
}

// 00407A7D: Register ui32 fn00407A7D(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
ui32 fn00407A7D(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	word32 * eax_46;
	ui32 eax_117;
	if (dwArg04 == ~0x01)
	{
		word32 edx_61;
		word32 ebx_62;
		word32 ebp_63;
		word32 esi_64;
		word32 edi_65;
		eax_46 = fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_61, out ebx_62, out ebp_63, out esi_64, out edi_65);
		*eax_46 = 0x09;
	}
	else
	{
		if (dwArg04 >= 0x00 && (dwArg04 < globals->t413070 && (*((word32) (globals->a412E70)[(dwArg04 >> 0x06) * 0x04] + ((dwArg04 & 0x3F) * 0x30 + 0x0028)) & 0x01) != 0x00))
		{
			word32 ebp_116;
			eax_117 = fn004079E5(ebx, dwArg04, edi, es, ds, out ebp_116);
			return eax_117;
		}
		word32 edx_77;
		Eq_3 ebx_78;
		Eq_3 ebp_79;
		word32 esi_80;
		Eq_3 edi_81;
		*fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_77, out ebx_78, out ebp_79, out esi_80, out edi_81) = 0x09;
		word32 ecx_84;
		word32 edx_85;
		word32 ebx_86;
		word32 ebp_87;
		word32 esi_88;
		word32 edi_89;
		eax_46 = fn0040410E(ebx_78, ebp_79, edi_81, es, ds, out ecx_84, out edx_85, out ebx_86, out ebp_87, out esi_88, out edi_89);
	}
	eax_117 = eax_46 | ~0x00;
	return eax_117;
}

// 00407AFC: Register (ptr word32) fn00407AFC(Register Eq_3 edx, Register Eq_3 ebp, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Stack uint32 dwArg10)
word32 * fn00407AFC(Eq_3 edx, Eq_3 ebp, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, uint32 dwArg10)
{
	GetConsoleCP();
	dwArg04->u0 = 0x00;
	((word256) dwArg04 + 0x04)->u0 = 0x00;
	*((word256) dwArg04 + 0x08) = 0x00;
	Eq_3 ebx_118 = (dwArg08 & 0x3F) *s 0x30;
	Eq_3 edi_116 = dwArg0C;
	Eq_3 esi_117 = dwArg04;
	if (dwArg0C >= (word256) dwArg0C + dwArg10)
	{
l00407CAD:
		word32 ecx_81;
		return fn004010FE(*(fp - 0x08) ^ fp - 0x04, edx, *(fp - 0x44), fp - 0x04, *(fp - 0x48), *(fp - 0x4C), es, ds, ebp, out ecx_81);
	}
l00407B63:
	word32 eax_119;
	byte ch_99 = *edi_116.u2;
	*(fp - 0x1C) = 0x00;
	ui32 eax_103 = *(fp - 0x38);
	*(fp - 0x1F) = ch_99;
	struct Eq_13636 * edx_105 = globals->a412E70[eax_103 * 0x04];
	byte cl_107 = Mem104[edx_105 + 0x2D + ebx_118:byte];
	if ((cl_107 & 0x04) != 0x00)
	{
		Mem253[fp - 0x10 + 0x00:byte] = Mem104[edx_105 + 0x2E + ebx_118:byte];
		*(fp - 0x50) = 0x02;
		*(fp - 0x0F) = ch_99;
		Mem258[edx_105 + 0x2D + ebx_118:byte] = cl_107 & ~0x04;
		*(fp - 0x54) = fp - 0x10;
	}
	else
	{
		int32 ebx_261;
		struct Eq_13620 * esi_262;
		if (fn00405518(ebx_118, fp - 0x04, esi_117, edi_116, es, ds, out ebx_261, out esi_262)[(word32) *edi_116] < 0x00)
		{
			if (*(fp - 0x24) >= *(fp - 44))
			{
				edx = *(fp - 0x38);
				globals->a412E70[edx * 0x04] + 0x2E + ebx_261 = (byte *) *edi_116;
				struct Eq_13950 * eax_296 = globals->a412E70[edx * 0x04];
				eax_296->a002D[ebx_261] = eax_296->a002D[ebx_261] | 0x04;
				esi_262->dw0004 = esi_262->dw0004 + 0x01;
				break;
			}
			*(fp - 0x50) = 0x02;
			*(fp - 0x54) = (union Eq_3 *) edi_116;
			*(fp - 88) = fp - 0x1C;
			if (fn00406F76(es, ds, dwArg00, dwArg04, dwArg08, out edx, out ebx_118, out esi_117) == ~0x00)
				break;
			edi_116.u2 = (word256) edi_116 + 0x01;
			eax_119 = *(fp - 0x24) + 0x01;
l00407BF0:
			*(fp - 0x50) = 0x00;
			*(fp - 0x54) = 0x00;
			*(fp - 88) = 0x05;
			*(fp - 0x24) = eax_119 + 0x01;
			*(fp - 0x5C) = fp - 0x18;
			*(fp - 0x60) = 0x01;
			*(fp - 100) = fp - 0x1C;
			*(fp - 0x68) = 0x00;
			*(fp - 0x6C) = *(fp - 0x3C);
			union Eq_3 * eax_144 = WideCharToMultiByte(*(fp - 0x6C), *(fp - 0x68), *(fp - 100), *(fp - 0x60), *(fp - 0x5C), *(fp - 88), *(fp - 0x54), *(fp - 0x50));
			*(fp - 0x40) = (union Eq_3 **) eax_144;
			edi_116.u2 = (word256) edi_116.u2 + 0x01;
			if (eax_144 == null)
				break;
			*(fp - 0x50) = 0x00;
			*(fp - 0x54) = fp - 0x28;
			*(fp - 88) = (union Eq_3 **) eax_144;
			*(fp - 0x5C) = fp - 0x18;
			*(fp - 0x60) = *(fp - 0x34);
			if (WriteFile(*(fp - 0x60), *(fp - 0x5C), *(fp - 88), *(fp - 0x54), *(fp - 0x50)) != 0x00)
			{
				((word256) esi_117 + 0x04)->u2 = (word256) *((word256) esi_117 + 0x08) + (edi_116 - *(fp - 0x30));
				if (*(fp - 0x28) < *(fp - 0x40))
					break;
				if (*(fp - 0x1F) != 0x0A)
				{
l00407C79:
					if (edi_116 < *(fp - 44))
						goto l00407B63;
					goto l00407CAD;
				}
				*(fp - 0x50) = 0x0D;
				*(fp - 0x20) = (word16) *(fp - 0x50);
				*(fp - 0x50) = 0x00;
				*(fp - 0x54) = fp - 0x28;
				*(fp - 88) = 0x01;
				*(fp - 0x5C) = fp - 0x20;
				*(fp - 0x60) = *(fp - 0x34);
				if (WriteFile(*(fp - 0x60), *(fp - 0x5C), *(fp - 88), *(fp - 0x54), *(fp - 0x50)) != 0x00)
				{
					if (*(fp - 0x28) < 0x01)
						break;
					((word256) esi_117 + 0x08)->u2 = (word256) *((word256) esi_117 + 0x08) + 0x01;
					((word256) esi_117 + 0x04)->u2 = (word256) *((word256) esi_117 + 0x04) + 0x01;
					goto l00407C79;
				}
			}
			*esi_117 = GetLastError();
			break;
		}
		*(fp - 0x50) = 0x01;
		*(fp - 0x54) = (union Eq_3 *) edi_116;
	}
	*(fp - 88) = fp - 0x1C;
	if (fn00406F76(es, ds, dwArg00, dwArg04, dwArg08, out edx, out ebx_118, out esi_117) == ~0x00)
		break;
	eax_119 = *(fp - 0x24);
	goto l00407BF0;
}

// 00407CC0: Register Eq_3 fn00407CC0(Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C)
Eq_3 fn00407CC0(Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C)
{
	dwArg04->u0 = 0x00;
	((word256) dwArg04 + 0x04)->u0 = 0x00;
	*((word256) dwArg04 + 0x08) = 0x00;
	Eq_3 edi_23 = dwArg08;
	word32 eax_29 = dwArg0C + dwArg08;
	if (dwArg08 >= eax_29)
		return dwArg04;
l00407CE5:
	word32 ebx_59 = (word32) *edi_23;
	if (fn004086FA((word16) ebx_59) == (word16) ebx_59)
	{
		((word256) dwArg04 + 0x04)->u2 = (word256) *((word256) dwArg04 + 0x04) + 0x02;
		if (ebx_59 != 0x0A)
		{
l00407D12:
			edi_23.u2 = (word256) edi_23 + 0x02;
			if (edi_23 < eax_29)
				goto l00407CE5;
			return dwArg04;
		}
		if (fn004086FA(0x0D) == 0x0D)
		{
			((word256) dwArg04 + 0x04)->u2 = (word256) *((word256) dwArg04 + 0x04) + 0x01;
			((word256) dwArg04 + 0x08)->u2 = (word256) *((word256) dwArg04 + 0x08) + 0x01;
			goto l00407D12;
		}
	}
	*dwArg04 = GetLastError();
	return dwArg04;
}

// 00407D2D: Register bool fn00407D2D(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 edxOut, Register out Eq_14228 blOut)
bool fn00407D2D(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & edxOut, Eq_14228 & blOut)
{
	*blOut = bl;
	bool al_110;
	word32 edx_21;
	Eq_3 ebx_22;
	int32 esi_23;
	if (fn00408475(ebx, edi, es, ds, dwArg04, out edx_21, out ebx_22, out esi_23) == 0x00)
	{
		al_110 = 0x00;
		return al_110;
	}
	*(fp - 0x10) = (union Eq_3 *) edi;
	Eq_3 esi_61 = (esi_23 & 0x3F) *s 0x30;
	if (Mem57[4271728[(esi_23 >> 0x06) * 0x04] + 0x28 + esi_61:byte] < 0x00)
	{
		word32 edx_89;
		word32 ebx_90;
		word32 ebp_91;
		int32 esi_92;
		if (*((word256) *((word32) fn00403D02(ebx_22, fp - 0x04, esi_61, esi_23 >> 0x06, es, ds, out edx_89, out ebx_90, out ebp_91, out esi_92) + 0x004C) + 0x00A8) != 0x00 || ((globals->a412E70)[(esi_23 >> 0x06) * 0x04] + 0x29)[esi_92] != 0x00)
		{
			*(fp - 0x14) = ebp_91 - 0x04;
			*(fp - 0x18) = globals->a412E70[(esi_23 >> 0x06) * 0x04] + 0x18 + esi_92;
			al_110 = GetConsoleMode(*(fp - 0x18), *(fp - 0x14)) != 0x00;
			return al_110;
		}
	}
	al_110 = 0x00;
	return al_110;
}

// 00407DA3: Register (ptr word32) fn00407DA3(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register ptr32 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Stack uint32 dwArg10, Register out ptr32 ebpOut)
word32 * fn00407DA3(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, ptr32 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, uint32 dwArg10, ptr32 & ebpOut)
{
	fn0040A800(0x1410, dwLoc08);
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	*(fp - 0x04) = (union Eq_3 *) ebx;
	struct Eq_14377 * eax_26 = globals->a412E70[(dwArg08 >> 0x06) * 0x04];
	*(fp - 0x08) = (union Eq_3 *) esi;
	*(fp - 0x0C) = edi;
	word32 ecx_34 = eax_26->a0018[dwArg08 & 0x3F].dw0000;
	*dwArg04 = *dwArg04 & 0x00;
	*((word256) dwArg04 + 0x04) = *((word256) dwArg04 + 0x04) & 0x00;
	*((word256) dwArg04 + 0x08) = *((word256) dwArg04 + 0x08) & 0x00;
	Eq_3 ebx_131 = dwArg0C;
	Eq_3 eax_40 = (word256) dwArg0C + dwArg10;
l00407E61:
	if (ebx_131 < eax_40)
	{
		byte * edi_134 = (word32) fp - 0x00001408;
l00407E02:
		if (ebx_131 < eax_40)
		{
			byte al_129 = *ebx_131;
			ebx_131.u2 = (word256) ebx_131 + 0x01;
			if (al_129 == 0x0A)
			{
				((word256) dwArg04 + 0x08)->u2 = (word256) *((word256) dwArg04 + 0x08) + 0x01;
				*edi_134 = 0x0D;
				edi_134 = edi_134 + 0x01;
			}
			*edi_134 = al_129;
			edi_134 = edi_134 + 0x01;
			if (edi_134 < fp - 0x09)
				goto l00407E02;
		}
		*(fp - 0x10) = 0x00;
		*(fp - 0x14) = (word32) fp - 0x00001410;
		uint32 edi_100 = edi_134 - ((word32) fp - 0x00001408);
		*(fp - 0x18) = edi_100;
		*(fp - 0x1C) = (word32) fp - 0x00001408;
		*(fp - 0x20) = ecx_34;
		if (WriteFile(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10)) == 0x00)
		{
			*dwArg04 = GetLastError();
			break;
		}
		((word256) dwArg04 + 0x04)->u2 = (word256) *((word256) dwArg04 + 0x04) + dwLoc1410;
		if (dwLoc1410 >= edi_100)
			goto l00407E61;
	}
	word32 ebp_83;
	*ebpOut = ebp;
	word32 ecx_79;
	return fn004010FE(eax_13 ^ fp - 0x04, edx, *(fp - 0x04), fp - 0x04, *(fp - 0x08), *(fp - 0x0C), es, ds, ebp, out ecx_79);
}

// 00407E82: Register (ptr word32) fn00407E82(Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register ptr32 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Stack uint32 dwArg10, Register out ptr32 ebpOut)
word32 * fn00407E82(Eq_3 ebx, Eq_3 ebp, Eq_3 esi, ptr32 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, uint32 dwArg10, ptr32 & ebpOut)
{
	fn0040A800(0x1410, dwLoc08);
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	*(fp - 0x04) = (union Eq_3 *) ebx;
	struct Eq_14591 * eax_26 = globals->a412E70[(dwArg08 >> 0x06) * 0x04];
	*(fp - 0x08) = (union Eq_3 *) esi;
	*(fp - 0x0C) = edi;
	word32 ecx_34 = eax_26->a0018[dwArg08 & 0x3F].dw0000;
	dwArg04->u0 = 0x00;
	((word256) dwArg04 + 0x04)->u0 = 0x00;
	*((word256) dwArg04 + 0x08) = 0x00;
	Eq_3 ebx_101 = dwArg0C;
	Eq_3 eax_37 = (word256) dwArg0C + dwArg10;
	Eq_3 edx_140 = 0x00;
l00407F4F:
	if (ebx_101 < eax_37)
	{
		word16 * esi_100 = (char *) fp - 0x00001408;
l00407EE0:
		if (ebx_101 < eax_37)
		{
			word32 eax_135 = (word32) *ebx_101;
			word16 ax_136 = (word16) eax_135;
			ebx_101.u2 = (word256) ebx_101 + 0x02;
			if (eax_135 == 0x0A)
			{
				((word256) dwArg04 + 0x08)->u2 = (word256) *((word256) dwArg04 + 0x08) + 0x02;
				*(fp - (union Eq_3 *) 0x10) = (union Eq_3 *) 0x0D;
				edx_140 = *(fp - (union Eq_3 *) 0x10);
				*esi_100 = (word16) edx_140;
				esi_100 = esi_100 + 0x01;
			}
			*esi_100 = ax_136;
			esi_100 = esi_100 + 0x01;
			if (esi_100 < fp - (union Eq_3 *) 0x0A)
				goto l00407EE0;
		}
		*(fp - 0x10) = 0x00;
		*(fp - 0x14) = (char *) fp - 0x00001410;
		ui32 esi_105 = esi_100 - ((char *) fp - 0x00001408);
		*(fp - 0x18) = esi_105 & ~0x01;
		*(fp - 0x1C) = (char *) fp - 0x00001408;
		*(fp - 0x20) = ecx_34;
		if (WriteFile(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10)) == 0x00)
		{
			*dwArg04 = GetLastError();
			break;
		}
		((word256) dwArg04 + 0x04)->u2 = (word256) *((word256) dwArg04 + 0x04) + dwLoc1410;
		if (dwLoc1410 >= (esi_105 & ~0x01))
			goto l00407F4F;
	}
	word32 ebp_83;
	*ebpOut = ebp;
	word32 ecx_79;
	return fn004010FE(eax_13 ^ fp - 0x04, edx_140, *(fp - 0x04), fp - 0x04, *(fp - 0x08), *(fp - 0x0C), es, ds, ebp, out ecx_79);
}

// 00407F70: Register (ptr word32) fn00407F70(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register ptr32 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Stack uint32 dwArg10, Register out ptr32 ebpOut)
word32 * fn00407F70(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, ptr32 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, uint32 dwArg10, ptr32 & ebpOut)
{
	fn0040A800(0x1418, dwLoc08);
	ui32 eax_13 = globals->t412004 ^ fp - 0x04;
	*(fp - 0x04) = (union Eq_3 *) ebx;
	*(fp - 0x08) = (union Eq_3 *) esi;
	struct Eq_14817 * eax_27 = globals->a412E70[(dwArg08 >> 0x06) * 0x04];
	*(fp - 0x0C) = edi;
	Eq_3 eax_33 = eax_27->a0018[dwArg08 & 0x3F].t0000;
	dwArg04->u0 = 0x00;
	((word256) dwArg04 + 0x04)->u0 = 0x00;
	*((word256) dwArg04 + 0x08) = 0x00;
	Eq_3 edi_108 = dwArg0C;
	Eq_3 eax_40 = (word256) dwArg0C + dwArg10;
	if (dwArg0C < eax_40)
	{
		do
		{
			union Eq_3 * ebx_151 = null;
			word16 * eax_100 = fp - 1716;
l00407FDC:
			if (edi_108 < eax_40)
			{
				word32 ecx_185 = (word32) *edi_108;
				word16 cx_186 = (word16) ecx_185;
				edi_108.u2 = (word256) edi_108 + 0x02;
				if (ecx_185 == 0x0A)
				{
					*(fp - (union Eq_3 *) 0x10) = (union Eq_3 *) 0x0D;
					edx = *(fp - (union Eq_3 *) 0x10);
					*eax_100 = (word16) edx;
					eax_100 = eax_100 + 0x01;
				}
				*eax_100 = cx_186;
				eax_100 = eax_100 + 0x01;
				if (eax_100 < fp - (union Eq_3 *) 0x0C)
					goto l00407FDC;
			}
			*(fp - 0x10) = 0x00;
			*(fp - 0x14) = 0x00;
			*(fp - 0x18) = 0x0D55;
			*(fp - 0x1C) = (char *) fp - 0x0000140C;
			Mem124[fp - 0x20 + 0x00:word32] = eax_100 - (fp - 1716) >> 0x01;
			*(fp - 0x24) = fp - 1716;
			*(fp - 0x28) = 0x00;
			*(fp - 44) = 65001;
			union Eq_3 * eax_132 = WideCharToMultiByte(*(fp - 44), *(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10));
			if (eax_132 == null)
			{
l00408082:
				*dwArg04 = GetLastError();
				break;
			}
			do
			{
				*(fp - (union Eq_3 *) 0x10) = (union Eq_3 *) 0x00;
				Mem157[fp - 0x14 + 0x00:word32] = fp + ~0x1417;
				*(fp - (union Eq_3 *) 0x18) = (union Eq_3 *) (eax_132 - ebx_151);
				Mem163[fp - 0x1C + 0x00:word32] = fp + ~0x140B + ebx_151;
				*(fp - (union Eq_3 *) 0x20) = (union Eq_3 *) eax_33;
				if (WriteFile(*(fp - (union Eq_3 *) 0x20), *(fp - (union Eq_3 *) 0x1C), *(fp - (union Eq_3 *) 0x18), *(fp - (union Eq_3 *) 0x14), *(fp - (union Eq_3 *) 0x10)) == 0x00)
					goto l00408082;
				ebx_151 = ebx_151 + dwLoc1418;
			} while (ebx_151 < eax_132);
			*((word256) dwArg04 + 0x04) = edi_108 - dwArg0C;
		} while (edi_108 >= eax_40);
	}
	word32 ebp_77;
	*ebpOut = ebp;
	word32 ecx_74;
	return fn004010FE(eax_13 ^ fp - 0x04, edx, *(fp - 0x04), fp - 0x04, *(fp - 0x08), *(fp - 0x0C), es, ds, ebp, out ecx_74);
}

// 0040809D: Register ui32 fn0040809D(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
ui32 fn0040809D(Eq_3 edx, Eq_3 ebx, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	word32 * eax_41;
	ui32 eax_136;
	Eq_3 ebp_10 = fn00401A10(ebx, esi, edi, dwLoc0C, 0x00410F68, 0x10);
	Eq_3 esi_12 = *((word256) ebp_10 + 0x08);
	if (esi_12 == ~0x01)
	{
		word32 edx_51;
		Eq_3 ebx_52;
		Eq_3 ebp_53;
		word32 esi_54;
		Eq_3 edi_55;
		union Eq_3 * eax_56 = fn004041B8(ebx, ebp_10, edi, es, ds, out edx_51, out ebx_52, out ebp_53, out esi_54, out edi_55);
		*eax_56 = (union Eq_3 *) (*eax_56 & 0x00);
		word32 edx_61;
		word32 ebx_62;
		word32 esi_64;
		word32 edi_65;
		eax_41 = fn004041CB(ebx_52, ebp_53, edi_55, es, ds, out edx_61, out ebx_62, out ebp_10, out esi_64, out edi_65);
		*eax_41 = 0x09;
	}
	else
	{
		if (esi_12 >= 0x00 && esi_12 < globals->t413070)
		{
			int32 ecx_106 = (esi_12 & 0x3F) *s 0x30;
			*(ebp_10 - 0x20) = ecx_106;
			ebx = esi_12 >> 0x06;
			if (((globals->a412E70[(esi_12 >> 0x06) * 0x04] + 0x28)[ecx_106] & 0x01) != 0x00)
			{
				ui32 edi_133;
				*(fp - 0x0C) = (union Eq_3 *) esi_12;
				fn004051E9(dwArg00);
				*(ebp_10 - 0x1C) = edi | ~0x00;
				*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
				if ((globals->a412E70[(esi_12 >> 0x06) * 0x04] + 0x28 + *(ebp_10 - 0x20) & 0x01) == 0x00)
				{
					word32 edx_137;
					Eq_3 ebx_138;
					Eq_3 ebp_139;
					word32 esi_140;
					Eq_3 edi_141;
					*fn004041CB(esi_12 >> 0x06, ebp_10, edi | ~0x00, es, ds, out edx_137, out ebx_138, out ebp_139, out esi_140, out edi_141) = 0x09;
					word32 edx_144;
					word32 ebx_145;
					union Eq_3 * eax_149 = fn004041B8(ebx_138, ebp_139, edi_141, es, ds, out edx_144, out ebx_145, out ebp_10, out esi_12, out edi_133);
					*eax_149 = (union Eq_3 *) (*eax_149 & 0x00);
				}
				else
				{
					*(fp - 0x0C) = (union Eq_3 **) *((word256) ebp_10 + 0x0010);
					*(fp - 0x10) = (union Eq_3 *) *((word256) ebp_10 + 0x0C);
					*(fp - 0x14) = (union Eq_3 *) esi_12;
					ui32 eax_163 = fn00408185(edx, esi_12 >> 0x06, ebp_10, edi | ~0x00, es, ds, dwArg00, dwArg04, dwArg08);
					*(ebp_10 - 0x1C) = eax_163;
					edi_133 = eax_163;
				}
				*(ebp_10 - 0x04) = ~0x01;
				fn0040815C(esi_12);
				eax_136 = edi_133;
l0040817F:
				word32 ebp_29;
				word32 esi_30;
				word32 edi_31;
				word32 ebx_32;
				*ebxOut = fn00401A56(ebp_10, 0x10, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_29, out esi_30, out edi_31);
				return eax_136;
			}
		}
		word32 edx_76;
		Eq_3 ebx_77;
		Eq_3 ebp_78;
		word32 esi_79;
		Eq_3 edi_80;
		union Eq_3 * eax_81 = fn004041B8(ebx, ebp_10, edi, es, ds, out edx_76, out ebx_77, out ebp_78, out esi_79, out edi_80);
		*eax_81 = (union Eq_3 *) (*eax_81 & 0x00);
		word32 edx_86;
		Eq_3 ebx_87;
		Eq_3 ebp_88;
		word32 esi_89;
		Eq_3 edi_90;
		*fn004041CB(ebx_77, ebp_78, edi_80, es, ds, out edx_86, out ebx_87, out ebp_88, out esi_89, out edi_90) = 0x09;
		word32 ecx_93;
		word32 edx_94;
		word32 ebx_95;
		word32 esi_97;
		word32 edi_98;
		eax_41 = fn0040410E(ebx_87, ebp_88, edi_90, es, ds, out ecx_93, out edx_94, out ebx_95, out ebp_10, out esi_97, out edi_98);
	}
	eax_136 = eax_41 | ~0x00;
	goto l0040817F;
}

// 0040815C: void fn0040815C(Register Eq_3 esi)
void fn0040815C(Eq_3 esi)
{
	fn0040520C(esi);
	return;
}

// 00408185: Register (ptr word32) fn00408185(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack uint32 dwArg0C)
word32 * fn00408185(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, Eq_3 dwArg08, uint32 dwArg0C)
{
	Eq_3 edi_102 = edi;
	Eq_3 ebp_100 = fp - 0x04;
	Eq_3 esi_178 = dwArg04;
	if (dwArg0C == 0x00)
	{
l00408388:
		word32 ecx_54;
		return fn004010FE(*(ebp_100 - 0x04) ^ ebp_100, edx, ebx, ebp_100, *(fp - 0x34), edi_102, es, ds, ebp, out ecx_54);
	}
	if (dwArg08 == 0x00)
	{
		word32 edx_80;
		Eq_3 ebx_81;
		Eq_3 ebp_82;
		word32 esi_83;
		Eq_3 edi_84;
		union Eq_3 * eax_85 = fn004041B8(ebx, fp - 0x04, edi, es, ds, out edx_80, out ebx_81, out ebp_82, out esi_83, out edi_84);
		*eax_85 = (union Eq_3 *) (*eax_85 & 0x00);
		word32 edx_90;
		Eq_3 ebx_91;
		Eq_3 ebp_92;
		word32 esi_93;
		Eq_3 edi_94;
		*fn004041CB(ebx_81, ebp_82, edi_84, es, ds, out edx_90, out ebx_91, out ebp_92, out esi_93, out edi_94) = 22;
		word32 ecx_97;
		word32 esi_101;
		fn0040410E(ebx_91, ebp_92, edi_94, es, ds, out ecx_97, out edx, out ebx, out ebp_100, out esi_101, out edi_102);
		goto l00408388;
	}
	Eq_3 edi_115 = (dwArg04 & 0x3F) *s 0x30;
	struct Eq_15401 * edx_117 = globals->a412E70[(dwArg04 >> 0x06) * 0x04];
	byte bl_119 = Mem0[edx_117 + 0x29 + edi_115:byte];
	Eq_3 ebx_120 = DPB(ebx, bl_119, 0);
	if ((bl_119 == 0x02 || bl_119 == 0x01) && ((byte) (~dwArg0C) & 0x01) == 0x00)
	{
		word32 edx_500;
		Eq_3 ebx_501;
		Eq_3 ebp_502;
		word32 esi_503;
		Eq_3 edi_504;
		union Eq_3 * eax_505 = fn004041B8(ebx_120, fp - 0x04, edi_115, es, ds, out edx_500, out ebx_501, out ebp_502, out esi_503, out edi_504);
		*eax_505 = (union Eq_3 *) (*eax_505 & 0x00);
		word32 edx_510;
		Eq_3 ebx_511;
		Eq_3 ebp_512;
		word32 esi_513;
		Eq_3 edi_514;
		*fn004041CB(ebx_501, ebp_502, edi_504, es, ds, out edx_510, out ebx_511, out ebp_512, out esi_513, out edi_514) = 22;
		word32 ecx_517;
		word32 ebx_519;
		word32 esi_521;
		word32 edi_522;
		fn0040410E(ebx_511, ebp_512, edi_514, es, ds, out ecx_517, out edx, out ebx_519, out ebp_100, out esi_521, out edi_522);
		goto l0040837E;
	}
	if ((Mem0[edx_117 + 0x28 + edi_115:byte] & 0x20) != 0x00)
		ebx_120 = fn004086DF(ebx_120, edi_115, es, ds, dwArg04, 0x00, 0x00, 0x02, out esi_178);
	word32 * eax_336;
	Eq_3 ebx_206;
	word32 * esi_307;
	ui32 ecx_209;
	*(fp - 0x24) = 0x00;
	*(fp - 0x40) = (union Eq_3 *) esi_178;
	*(fp - 0x20) = 0x00;
	*(fp - 0x1C) = 0x00;
	Eq_3 edi_191 = fp - 0x18;
	Eq_3 edx_193;
	cu8 bl_194;
	if (fn00407D2D(ebx_120, fp - 0x18, es, ds, dwArg00, out edx_193, out bl_194) != 0x00)
	{
		if (bl_194 != 0x00)
		{
			ebx_206 = *(fp - 0x0C);
			if (bl_194 > 0x02)
				goto l0040831C;
			*(fp - 0x40) = *(fp - 0x18);
			*(fp - 0x44) = (union Eq_3 *) ebx_206;
			*(fp - 0x48) = fp - 0x30;
			eax_336 = fn00407CC0(dwArg00, dwArg04, dwArg08);
l00408270:
			esi_307 = eax_336;
			goto l00408316;
		}
		*(fp - 0x40) = *(fp - 0x18);
		ebx_206 = *(fp - 0x0C);
		*(fp - 0x44) = (union Eq_3 *) ebx_206;
		*(fp - 0x48) = (union Eq_3 *) esi_178;
		*(fp - 0x4C) = fp - 0x30;
		eax_336 = fn00407AFC(edx_193, fp - 0x04, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C);
	}
	else
	{
		ecx_209 = *(fp - 0x10);
		edx = *(fp - 0x14);
		struct Eq_15608 * eax_391 = globals->a412E70[ecx_209 * 0x04];
		if (Mem190[eax_391 + 0x28 + edx:byte] >= 0x00)
		{
			word32 ecx_448 = Mem190[eax_391 + 0x18 + edx:word32];
			ebx_206 = *(fp - 0x0C);
			*(fp - 0x30) = 0x00;
			*(fp - 0x40) = 0x00;
			*(fp - 44) = 0x00;
			*(fp - 0x28) = 0x00;
			*(fp - 0x44) = fp - 44;
			*(fp - 0x48) = *(fp - 0x18);
			*(fp - 0x4C) = (union Eq_3 *) ebx_206;
			*(fp - 0x50) = ecx_448;
			if (WriteFile(*(fp - 0x50), *(fp - 0x4C), *(fp - 0x48), *(fp - 0x44), *(fp - 0x40)) == 0x00)
				*(fp - 0x30) = (union Eq_3 *) GetLastError();
			esi_307 = fp - 0x30;
l00408316:
			struct Eq_15699 * edi_313 = ebp_100 - 0x20;
			edi_313->dw0000 = *esi_307;
			struct Eq_15708 * esi_316 = esi_307 + 0x01;
			edi_313->dw0004 = esi_316->dw0000;
			edi_313->dw0008 = esi_316->dw0004;
			edi_191 = &edi_313->dw0008 + 0x01;
l0040831C:
			ecx_209 = *(ebp_100 - 0x0C);
			edx = *(ebp_100 - 0x10);
			goto l00408322;
		}
		int32 eax_395 = (int32) bl_194;
		ebx_206 = *(fp - 0x0C);
		if (eax_395 != 0x00)
		{
			if (eax_395 != 0x01)
			{
				if (eax_395 != 0x02)
				{
l00408322:
					if (*(ebp_100 - 0x1C) == 0x00)
					{
						word32 eax_217 = *(ebp_100 - 0x20);
						if (eax_217 != 0x00)
						{
							*(fp - 0x40) = 0x05;
							if (eax_217 == *(fp - 0x40))
							{
								word32 edx_228;
								Eq_3 ebx_229;
								Eq_3 ebp_230;
								word32 esi_231;
								Eq_3 edi_232;
								*fn004041CB(ebx_206, ebp_100, edi_191, es, ds, out edx_228, out ebx_229, out ebp_230, out esi_231, out edi_232) = 0x09;
								word32 ebx_236;
								Eq_3 esi_238;
								word32 edi_239;
								union Eq_3 * eax_240 = fn004041B8(ebx_229, ebp_230, edi_232, es, ds, out edx, out ebx_236, out ebp_100, out esi_238, out edi_239);
								*eax_240 = (union Eq_3 *) esi_238;
							}
							else
							{
								*(fp - 0x40) = eax_217;
								word32 ebx_246;
								fn00404195(ebx_206, ebp_100, edi_191, es, ds, out edx, out ebx_246);
							}
l0040837E:
							goto l00408386;
						}
						if ((Mem190[4271728[ecx_209 * 0x04] + 0x28 + edx:byte] & 0x40) == 0x00 || *ebx_206 != 0x1A)
						{
							word32 edx_257;
							Eq_3 ebx_258;
							Eq_3 ebp_259;
							word32 esi_260;
							Eq_3 edi_261;
							*fn004041CB(ebx_206, ebp_100, edi_191, es, ds, out edx_257, out ebx_258, out ebp_259, out esi_260, out edi_261) = 0x1C;
							word32 ebx_265;
							word32 esi_267;
							word32 edi_268;
							union Eq_3 * eax_269 = fn004041B8(ebx_258, ebp_259, edi_261, es, ds, out edx, out ebx_265, out ebp_100, out esi_267, out edi_268);
							*eax_269 = (union Eq_3 *) (*eax_269 & 0x00);
							goto l0040837E;
						}
					}
l00408386:
					edi_102 = *(fp - 0x3C);
					ebx = *(fp - 0x38);
					goto l00408388;
				}
				*(fp - 0x40) = *(fp - 0x18);
				*(fp - 0x44) = (union Eq_3 *) ebx_206;
				*(fp - 0x48) = (union Eq_3 *) esi_178;
				*(fp - 0x4C) = fp - 0x30;
				eax_336 = fn00407E82(ebx_206, fp - 0x04, esi_178, fp - 0x18, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_100);
			}
			else
			{
				*(fp - 0x40) = *(fp - 0x18);
				*(fp - 0x44) = (union Eq_3 *) ebx_206;
				*(fp - 0x48) = (union Eq_3 *) esi_178;
				*(fp - 0x4C) = fp - 0x30;
				eax_336 = fn00407F70(edx, ebx_206, fp - 0x04, esi_178, fp - 0x18, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_100);
			}
		}
		else
		{
			*(fp - 0x40) = *(fp - 0x18);
			*(fp - 0x44) = (union Eq_3 *) ebx_206;
			*(fp - 0x48) = (union Eq_3 *) esi_178;
			*(fp - 0x4C) = fp - 0x30;
			eax_336 = fn00407DA3(edx, ebx_206, fp - 0x04, esi_178, fp - 0x18, es, ds, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_100);
		}
	}
	goto l00408270;
}

// 00408475: Register ui32 fn00408475(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut)
ui32 fn00408475(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut)
{
	*ebxOut = ebx;
	*edxOut = edx;
	*esiOut = esi;
	if (dwArg04 == ~0x01)
	{
		word32 edx_43;
		word32 ebx_44;
		word32 ebp_45;
		word32 esi_46;
		word32 edi_47;
		*fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_43, out ebx_44, out ebp_45, out esi_46, out edi_47) = 0x09;
	}
	else
	{
		if (dwArg04 >= 0x00 && dwArg04 < globals->t413070)
			return (word32) *((word32) globals->a412E70[(dwArg04 >> 0x06) * 0x04] + ((dwArg04 & 0x3F) * 0x30 + 0x0028)) & 0x40;
		word32 edx_56;
		Eq_3 ebx_57;
		Eq_3 ebp_58;
		word32 esi_59;
		Eq_3 edi_60;
		*fn004041CB(ebx, fp - 0x04, edi, es, ds, out edx_56, out ebx_57, out ebp_58, out esi_59, out edi_60) = 0x09;
		word32 ecx_63;
		word32 edx_64;
		word32 ebx_65;
		word32 ebp_66;
		word32 esi_67;
		word32 edi_68;
		fn0040410E(ebx_57, ebp_58, edi_60, es, ds, out ecx_63, out edx_64, out ebx_65, out ebp_66, out esi_67, out edi_68);
	}
	return 0x00;
}

// 004085ED: Register ui32 fn004085ED(Register Eq_3 ebx, Register Eq_3 esi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg08, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut)
ui32 fn004085ED(Eq_3 ebx, Eq_3 esi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg08, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut)
{
	*esiOut = esi;
	word32 ebx_19;
	word32 edx_20;
	*edxOut = fn00403965(fp - 0x14, ebx, fp - 0x04, esi, es, ds, dwArg08, out ebx_19);
	ui32 eax_26 = (word32) *((char *) **(fp - 0x10) + (word32) fp->b0004 * 0x02);
	if (*(fp - 0x08) != 0x00)
	{
		struct Eq_16172 * ecx_41 = *(fp - 0x14);
		ecx_41->dw0350 = ecx_41->dw0350 & ~0x02;
	}
	return eax_26 & 0x8000;
}

// 00408626: Register Eq_3 fn00408626(Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C, Stack Eq_3 dwArg10, Stack Eq_3 dwArg14, Stack int32 dwArg18)
Eq_3 fn00408626(Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C, Eq_3 dwArg10, Eq_3 dwArg14, int32 dwArg18)
{
	return MultiByteToWideChar(dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14, dwArg18);
}

// 00408645: Register Eq_3 fn00408645(Stack Eq_3 dwArg04, Stack Eq_3 dwArg08)
Eq_3 fn00408645(Eq_3 dwArg04, Eq_3 dwArg08)
{
	Eq_3 eax_10 = 0x00;
	if (*dwArg04 != 0x00)
	{
		do
		{
			if (eax_10 == dwArg08)
				return eax_10;
			eax_10.u2 = (word256) eax_10 + 0x01;
		} while (Mem0[eax_10 + dwArg04:byte] != 0x00);
	}
	return eax_10;
}

// 00408661: Register Eq_3 fn00408661(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04)
Eq_3 fn00408661(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04)
{
	int32 esi_26;
	Eq_3 ebx_25;
	ui32 eax_27 = fn004052C0(ebx, edi, es, ds, dwArg04, out ebx_25, out esi_26);
	if (eax_27 == (edi | ~0x00))
	{
		word32 edx_62;
		word32 ebp_64;
		word32 esi_65;
		word32 edi_66;
		*fn004041CB(ebx_25, fp - 0x04, edi | ~0x00, es, ds, out edx_62, out ebx_25, out ebp_64, out esi_65, out edi_66) = 0x09;
	}
	else
	{
		*(fp - 0x18) = fp->dw0010;
		*(fp - 0x1C) = fp - 0x0C;
		*(fp - 0x20) = fp->dw000C;
		*(fp - 0x24) = fp->dw0008;
		*(fp - 0x28) = eax_27;
		if (SetFilePointerEx(*(fp - 0x28), *(fp - 0x24), *(fp - 0x1C), *(fp - 0x18)) == 0x00)
		{
			*(fp - 0x18) = (union Eq_3 *) GetLastError();
			word32 edx_93;
			fn00404195(ebx_25, fp - 0x04, edi | ~0x00, es, ds, out edx_93, out ebx_25);
		}
		else if ((*(fp - 0x0C) & *(fp - 0x08)) != (edi | ~0x00))
		{
			int32 esi_107 = (esi_26 & 0x3F) *s 0x30;
			struct Eq_16334 * ecx_108 = globals->a412E70[(esi_26 >> 0x06) * 0x04];
			ecx_108->a0028[esi_107] = ecx_108->a0028[esi_107] & ~0x02;
			return ebx_25;
		}
	}
	return ebx_25;
}

// 004086DF: Register Eq_3 fn004086DF(Register Eq_3 ebx, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Stack Eq_3 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Register out ptr32 esiOut)
Eq_3 fn004086DF(Eq_3 ebx, Eq_3 edi, Eq_7 * es, Eq_8 * ds, Eq_3 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, ptr32 & esiOut)
{
	*esiOut = esi;
	return fn00408661(ebx, edi, es, ds, dwArg04);
}

// 004086FA: Register word16 fn004086FA(Stack word16 wArg04)
word16 fn004086FA(word16 wArg04)
{
	word16 ax_25;
	if (fn00408AD0() == 0x00 || fn00408B06(fp + 0x04, 0x01, fp - 0x08) == 0x00)
		ax_25 = ~0x00;
	else
		ax_25 = wArg04;
	return ax_25;
}

// 00408AB1: void fn00408AB1()
void fn00408AB1()
{
	globals->t412750 = CreateFileW(&globals->t40FD68, 0x40000000, 0x03, null, 0x03, 0x00, 0x00);
	return;
}

// 00408AD0: Register word32 fn00408AD0()
word32 fn00408AD0()
{
	Eq_3 ecx_12 = globals->t412750;
	if (ecx_12 == ~0x01)
	{
		fn00408AB1();
		ecx_12 = globals->t412750;
	}
	return (word32) (ecx_12 != ~0x00);
}

// 00408AEF: void fn00408AEF()
void fn00408AEF()
{
	Eq_3 eax_3 = globals->t412750;
	if (eax_3 != ~0x00 && eax_3 != ~0x01)
		CloseHandle(eax_3);
	return;
}

// 00408B06: Register Eq_3 fn00408B06(Stack (ptr void) dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C)
Eq_3 fn00408B06(void, Eq_3 dwArg08, Eq_3 dwArg0C)
{
	Eq_3 eax_29 = WriteConsoleW(globals->t412750, dwArg04, dwArg08, dwArg0C, 0x00);
	Eq_3 esi_31 = eax_29;
	if (eax_29 == 0x00 && GetLastError() == 0x06)
	{
		fn00408AEF();
		fn00408AB1();
		esi_31 = WriteConsoleW(globals->t412750, dwArg04, dwArg08, dwArg0C, eax_29);
	}
	return esi_31;
}

// 0040A630: Register ptr32 fn0040A630(Register Eq_3 ebx, Register Eq_3 esi, Register Eq_3 edi, Stack word32 dwArg00, Stack word32 dwArg04, Stack ui32 dwArg08)
ptr32 fn0040A630(Eq_3 ebx, Eq_3 esi, Eq_3 edi, word32 dwArg00, word32 dwArg04, ui32 dwArg08)
{
	ptr32 esp_14 = fp - 0x08 - dwArg08;
	*(esp_14 - 0x04) = (union Eq_3 *) ebx;
	*(esp_14 - 0x08) = (union Eq_3 *) esi;
	*(esp_14 - 0x0C) = (union Eq_3 *) edi;
	*(esp_14 - 0x10) = globals->t412004 ^ fp + 0x08;
	*(esp_14 - 0x14) = dwArg00;
	fs->ptr0000 = fp - 0x08;
	return fp + 0x08;
}

// 0040A679: Register Eq_3 fn0040A679(Register Eq_3 edx, Register Eq_3 ebx, Register Eq_3 ebp, Register Eq_3 esi, Register Eq_3 edi, Register (ptr Eq_7) es, Register (ptr Eq_8) ds, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_3 fn0040A679(Eq_3 edx, Eq_3 ebx, Eq_3 ebp, Eq_3 esi, Eq_3 edi, Eq_7 * es, Eq_8 * ds, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	word32 ecx_15;
	fn004010FE(*(ebp - 0x1C) ^ ebp, edx, ebx, ebp, esi, edi, es, ds, dwLoc04, out ecx_15);
	word32 ebp_21;
	word32 esi_22;
	word32 edi_23;
	return fn00401A56(ebp, dwLoc04, dwArg00, dwArg04, dwArg08, dwArg0C, out ebp_21, out esi_22, out edi_23);
}

// 0040A6D0: void fn0040A6D0(Register Eq_3 eax)
void fn0040A6D0(Eq_3 eax)
{
	uint32 eax_9 = (word256) eax + (((word32) fp + 0x04) - eax & 0x0F);
	ui32 eax_13 = eax_9 | 0x00 - (eax_9 < 0x00);
	fn0040A800(eax_13, dwArg00);
	return;
}

// 0040A800: void fn0040A800(Register ui32 eax, Stack word32 dwArg00)
void fn0040A800(ui32 eax, word32 dwArg00)
{
	Eq_16533 ecx_7 = fp - eax;
	word32 * ecx_12 = ecx_7 & ~(0x00 - (ecx_7 < 0x00));
	word32 * eax_14 = fp - 0x04 & ~0x0FFF;
	while (ecx_12 < eax_14)
		eax_14 = eax_14 - 0x1000;
	*ecx_12 = dwArg00;
	return;
}

// 0040A910: Register Eq_3 fn0040A910(Register Eq_3 ebx, Stack Eq_3 dwArg04, Stack Eq_3 dwArg08, Stack Eq_3 dwArg0C)
Eq_3 fn0040A910(Eq_3 ebx, Eq_3 dwArg04, Eq_3 dwArg08, Eq_3 dwArg0C)
{
	Eq_3 esi_113 = dwArg08;
	Eq_3 ecx_101 = dwArg0C;
	Eq_3 edi_100 = dwArg04;
	word32 eax_16 = dwArg0C + dwArg08;
	if (dwArg04 > dwArg08 && dwArg04 < eax_16)
	{
		word32 esi_554 = dwArg0C + dwArg08;
		word32 edi_555 = dwArg0C + dwArg04;
		if (dwArg0C >= 0x20)
		{
			if (!__bt(globals->dw412010, 0x01))
			{
				if ((edi_555 & 0x03) != 0x00)
				{
					ui32 edx_649 = edi_555 & 0x03;
					ecx_101 = dwArg0C - (edi_555 & 0x03);
					do
					{
						Mem657[edi_555 - 0x01 + 0x00:byte] = Mem0[esi_554 - 0x01 + 0x00:byte];
						esi_554 = esi_554 - 0x01;
						edi_555 = edi_555 - 0x01;
						edx_649 = edx_649 - 0x01;
					} while (edx_649 != 0x00);
				}
				if (ecx_101 >= 0x20)
				{
					Eq_3 ecx_627 = ecx_101 >> 0x02;
					ui32 edx_628 = ecx_101 & 0x03;
					Eq_16797 esi_630 = esi_554 - 0x04;
					word32 * edi_631 = edi_555 - 0x04;
					while (ecx_627 != 0x00)
					{
						*edi_631 = (word32) *esi_630;
						esi_630 = esi_630 - 0x04;
						edi_631 = edi_631 - 0x04;
						ecx_627 = ecx_627 - 0x01;
					}
					switch (edx_628)
					{
					case 0x00:
						return ecx_627;
					}
				}
			}
			else
			{
				if ((edi_555 & 0x0F) != 0x00)
				{
					do
					{
						esi_554 = esi_554 - 0x01;
						edi_555 = edi_555 - 0x01;
						edi_555->dw0000 = (word32) *esi_554;
						ecx_101 = ecx_101 - 0x01;
					} while ((edi_555 & 0x0F) != 0x00);
				}
l0040AC8C:
				if (ecx_101 >= 0x80)
				{
					esi_554 = esi_554 - 0x80;
					edi_555 = edi_555 - 0x80;
					Eq_16873 xmm1_714 = *((word32) esi_554 + 0x0010);
					Eq_16877 xmm2_715 = *((word32) esi_554 + 0x0020);
					Eq_16881 xmm3_716 = *((word32) esi_554 + 0x0030);
					Eq_16885 xmm4_717 = *((word32) esi_554 + 0x0040);
					Eq_16889 xmm5_718 = *((word32) esi_554 + 0x0050);
					Eq_16893 xmm6_719 = *((word32) esi_554 + 0x0060);
					Eq_16897 xmm7_720 = *((word32) esi_554 + 112);
					edi_555->dw0000 = (word32) *esi_554;
					edi_555[0x0010] = (struct Eq_16566) xmm1_714;
					edi_555[0x0020] = (struct Eq_16566) xmm2_715;
					edi_555[0x0030] = (struct Eq_16566) xmm3_716;
					edi_555[0x0040] = (struct Eq_16566) xmm4_717;
					edi_555[0x0050] = (struct Eq_16566) xmm5_718;
					edi_555[0x0060] = (struct Eq_16566) xmm6_719;
					edi_555[112] = (struct Eq_16566) xmm7_720;
					ecx_101 = ecx_101 - 0x80;
					if ((ecx_101 & ~0x7F) != 0x00)
						goto l0040AC8C;
				}
				if (ecx_101 >= 0x20)
				{
					do
					{
						esi_554 = esi_554 - 0x20;
						edi_555 = edi_555 - 0x20;
						Eq_16938 xmm1_704 = *((word32) esi_554 + 0x0010);
						edi_555->dw0000 = (word32) *esi_554;
						edi_555[0x0010] = (struct Eq_16566) xmm1_704;
						ecx_101 = ecx_101 - 0x20;
					} while ((ecx_101 & ~0x1F) != 0x00);
				}
			}
		}
		if ((ecx_101 & ~0x03) != 0x00)
		{
			do
			{
				esi_554 = esi_554 - 0x04;
				edi_555 = edi_555 - 0x04;
				edi_555->dw0000 = (word32) *esi_554;
				ecx_101 = ecx_101 - 0x04;
			} while ((ecx_101 & ~0x03) != 0x00);
		}
		if (ecx_101 != 0x00)
		{
			do
			{
				esi_554 = esi_554 - 0x01;
				edi_555 = edi_555 - 0x01;
				edi_555->dw0000 = (word32) *esi_554;
				ecx_101 = ecx_101 - 0x01;
			} while (ecx_101 != 0x00);
		}
		return ecx_101;
	}
	if (dwArg0C >= 0x20)
	{
		if (dwArg0C < 0x80)
		{
			if (!__bt(globals->dw412010, 0x01))
				goto l0040AB37;
		}
		else
		{
			if (!__bt(globals->dw412AD0, 0x01))
			{
				while (ecx_101 != 0x00)
				{
					*edi_100.u2 = *esi_113.u2;
					esi_113.u2 = (word256) esi_113.u2 + 0x01;
					edi_100.u2 = (word256) edi_100.u2 + 0x01;
					ecx_101 = ecx_101 - 0x01;
				}
				return ecx_101;
			}
			if (((dwArg04 ^ dwArg08) & 0x0F) != 0x00 || !__bt(globals->dw412010, 0x01))
			{
				if (!__bt(globals->dw412AD0, 0x00) && (dwArg04 & 0x03) == 0x00)
				{
					if ((dwArg08 & 0x03) == 0x00)
					{
						if (!__bt(dwArg04, 0x02))
						{
							*dwArg04 = *dwArg08;
							ecx_101 = dwArg0C - 0x04;
							esi_113.u2 = (word256) dwArg08 + 0x04;
							edi_100.u2 = (word256) dwArg04 + 0x04;
						}
						if (!__bt(edi_100, 0x03))
						{
							*edi_100.u2 = *esi_113.u2;
							ecx_101 = ecx_101 - 0x08;
							esi_113.u2 = (word256) esi_113.u2 + 0x08;
							edi_100.u2 = (word256) edi_100.u2 + 0x08;
						}
						word128 * esi_308;
						if ((esi_113 & 0x07) != 0x00)
						{
							if (!__bt(esi_113, 0x03))
							{
								word128 xmm1_365 = *(esi_113 - 0x0C);
								struct Eq_17122 * esi_366 = esi_113 - 0x0C;
								do
								{
									word128 xmm3_372 = esi_366->ow0010;
									word128 xmm0_374 = esi_366->ow0020;
									word128 xmm5_375 = esi_366[0x01];
									edi_100.u2->u1 = __palignr(xmm3_372, xmm1_365, 0x0C);
									((word256) edi_100.u2 + 0x0010)->u1 = __palignr(xmm0_374, xmm3_372, 0x0C);
									((word256) edi_100.u2 + 0x0020)->u1 = __palignr(xmm5_375, xmm0_374, 0x0C);
									ecx_101 = ecx_101 - 0x30;
									esi_366 = esi_366 + 0x01;
									xmm1_365 = xmm5_375;
									edi_100.u2 = (word256) edi_100.u2 + 0x0030;
								} while (ecx_101 >= 0x30);
								esi_308 = (word128 *) ((char *) &esi_366->ow0000 + 0x0C);
							}
							else
							{
								word128 xmm1_390 = *(esi_113 - 0x04);
								struct Eq_17113 * esi_391 = esi_113 - 0x04;
								do
								{
									word128 xmm3_397 = esi_391->ow0010;
									word128 xmm0_399 = esi_391->ow0020;
									word128 xmm5_400 = esi_391[0x01];
									edi_100.u2->u1 = __palignr(xmm3_397, xmm1_390, 0x04);
									((word256) edi_100.u2 + 0x0010)->u1 = __palignr(xmm0_399, xmm3_397, 0x04);
									((word256) edi_100.u2 + 0x0020)->u1 = __palignr(xmm5_400, xmm0_399, 0x04);
									ecx_101 = ecx_101 - 0x30;
									esi_391 = esi_391 + 0x01;
									xmm1_390 = xmm5_400;
									edi_100.u2 = (word256) edi_100.u2 + 0x0030;
								} while (ecx_101 >= 0x30);
								esi_308 = (word128 *) ((char *) &esi_391->ow0000 + 0x04);
							}
						}
						else
						{
							word128 xmm1_415 = *(esi_113 - 0x08);
							struct Eq_17101 * esi_416 = esi_113 - 0x08;
							do
							{
								word128 xmm3_422 = esi_416->ow0010;
								word128 xmm0_424 = esi_416->ow0020;
								word128 xmm5_425 = esi_416[0x01];
								edi_100.u2->u1 = __palignr(xmm3_422, xmm1_415, 0x08);
								((word256) edi_100.u2 + 0x0010)->u1 = __palignr(xmm0_424, xmm3_422, 0x08);
								((word256) edi_100.u2 + 0x0020)->u1 = __palignr(xmm5_425, xmm0_424, 0x08);
								ecx_101 = ecx_101 - 0x30;
								esi_416 = esi_416 + 0x01;
								xmm1_415 = xmm5_425;
								edi_100.u2 = (word256) edi_100.u2 + 0x0030;
							} while (ecx_101 >= 0x30);
							esi_308 = (word128 *) ((char *) &esi_416->ow0000 + 0x08);
						}
						while (ecx_101 >= 0x10)
						{
							edi_100.u2->u1 = *esi_308;
							ecx_101 = ecx_101 - 0x10;
							esi_308 = esi_308 + 0x01;
							edi_100.u2 = (word256) edi_100.u2 + 0x0010;
						}
						if (!__bt(ecx_101, 0x02))
						{
							edi_100.u2->u1 = *esi_308;
							ecx_101 = ecx_101 - 0x04;
							esi_308 = (word128 *) ((char *) esi_308 + 0x04);
							edi_100.u2 = (word256) edi_100.u2 + 0x04;
						}
						bool C_325 = __bt(ecx_101, 0x03);
						if (!C_325)
						{
							edi_100.u2->u1 = *esi_308;
							ecx_101 = ecx_101 - 0x08;
						}
						<anonymous> * eax_327 = *((char *) globals->a40AB74 + ecx_101 * 0x04);
						word32 esp_328;
						word32 edi_329;
						word32 esi_330;
						Eq_3 ecx_331;
						word32 eax_332;
						word32 edx_333;
						byte SCZO_334;
						byte CZ_335;
						byte C_336;
						byte SZO_337;
						byte Z_338;
						byte al_339;
						word32 ebx_340;
						word128 xmm0_341;
						word128 xmm1_342;
						byte D_343;
						word128 xmm2_344;
						word128 xmm3_345;
						word128 xmm4_346;
						word128 xmm5_347;
						word128 xmm6_348;
						word128 xmm7_349;
						byte SO_350;
						byte dl_351;
						eax_327();
						return ecx_331;
					}
l0040AB52:
					if (ecx_101 >= 0x20)
					{
						Eq_3 ecx_156 = ecx_101 >> 0x02;
						while (ecx_156 != 0x00)
						{
							*edi_100.u2 = *esi_113.u2;
							esi_113.u2 = (word256) esi_113.u2 + 0x04;
							edi_100.u2 = (word256) edi_100.u2 + 0x04;
							ecx_156 = ecx_156 - 0x01;
						}
						switch (ecx_101 & 0x03)
						{
						case 0x00:
							return ecx_156;
						case 0x01:
							*edi_100.u2 = *esi_113.u2;
							return ecx_156;
						case 0x02:
							*edi_100.u2 = *esi_113.u2;
							*((word256) edi_100.u2 + 0x01) = *((word256) esi_113.u2 + 0x01);
							return ecx_156;
						case 0x03:
							*edi_100.u2 = *esi_113.u2;
							*((word256) edi_100.u2 + 0x01) = *((word256) esi_113.u2 + 0x01);
							*((word256) edi_100.u2 + 0x02) = *((word256) esi_113.u2 + 0x02);
							return ecx_156;
						}
					}
					goto l0040AE0B;
				}
l0040AB37:
				if ((dwArg04 & 0x03) != 0x00)
				{
					do
					{
						*edi_100.u2 = *esi_113.u2;
						ecx_101 = ecx_101 - 0x01;
						esi_113.u2 = (word256) esi_113.u2 + 0x01;
						edi_100.u2 = (word256) edi_100.u2 + 0x01;
					} while ((edi_100 & 0x03) != 0x00);
				}
				goto l0040AB52;
			}
			if ((dwArg08 & 0x0F) != 0x00)
			{
				uint32 edx_502 = 0x10 - (dwArg08 & 0x0F);
				Eq_3 ecx_503 = dwArg0C - edx_502;
				ui32 ecx_509 = edx_502 & 0x03;
				if ((edx_502 & 0x03) != 0x00)
				{
					do
					{
						*edi_100.u2 = *esi_113.u2;
						esi_113.u2 = (word256) esi_113.u2 + 0x01;
						edi_100.u2 = (word256) edi_100.u2 + 0x01;
						ecx_509 = ecx_509 - 0x01;
					} while (ecx_509 != 0x00);
				}
				uint32 eax_518 = edx_502 >> 0x02;
				if (edx_502 >> 0x02 != 0x00)
				{
					do
					{
						*edi_100.u2 = *esi_113.u2;
						esi_113.u2 = (word256) esi_113.u2 + 0x04;
						edi_100.u2 = (word256) edi_100.u2 + 0x04;
						eax_518 = eax_518 - 0x01;
					} while (eax_518 != 0x00);
				}
				ecx_101 = ecx_503;
			}
			ecx_101 = ecx_101 & 0x7F;
			uint32 edx_470 = ecx_101 >> 0x07;
			if (edx_470 != 0x00)
			{
				do
				{
					word128 xmm1_480 = *((word256) esi_113.u2 + 0x0010);
					word128 xmm2_481 = *((word256) esi_113.u2 + 0x0020);
					word128 xmm3_482 = *((word256) esi_113.u2 + 0x0030);
					*edi_100.u2 = *esi_113.u2;
					((word256) edi_100.u2 + 0x0010)->u1 = xmm1_480;
					((word256) edi_100.u2 + 0x0020)->u1 = xmm2_481;
					((word256) edi_100.u2 + 0x0030)->u1 = xmm3_482;
					word128 xmm5_488 = *((word256) esi_113.u2 + 0x0050);
					word128 xmm6_489 = *((word256) esi_113.u2 + 0x0060);
					word128 xmm7_490 = *((word256) esi_113.u2 + 112);
					*((word256) edi_100.u2 + 0x0040) = *((word256) esi_113.u2 + 0x0040);
					((word256) edi_100.u2 + 0x0050)->u1 = xmm5_488;
					((word256) edi_100.u2 + 0x0060)->u1 = xmm6_489;
					((word256) edi_100.u2 + 112)->u1 = xmm7_490;
					esi_113.u2 = (word256) esi_113.u2 + 0x0080;
					edi_100.u2 = (word256) edi_100.u2 + 0x0080;
					edx_470 = edx_470 - 0x01;
				} while (edx_470 != 0x00);
			}
		}
		if (ecx_101 == 0x00)
			return ecx_101;
		uint32 edx_238 = ecx_101 >> 0x05;
		if (edx_238 != 0x00)
		{
			do
			{
				Eq_16636 xmm1_248 = *((word256) esi_113.u2 + 0x0010);
				*edi_100.u2 = *esi_113.u2;
				*((word256) edi_100.u2 + 0x0010) = xmm1_248;
				esi_113.u2 = (word256) esi_113.u2 + 0x0020;
				edi_100.u2 = (word256) edi_100.u2 + 0x0020;
				edx_238 = edx_238 - 0x01;
			} while (edx_238 != 0x00);
		}
	}
l0040AE0B:
	ecx_101 = ecx_101 & 0x1F;
	if (ecx_101 != 0x00)
	{
		uint32 ecx_108 = ecx_101 >> 0x02;
		if (ecx_101 >> 0x02 != 0x00)
		{
			do
			{
				*edi_100 = *esi_113;
				edi_100.u2 = (word256) edi_100 + 0x04;
				esi_113.u2 = (word256) esi_113 + 0x04;
				ecx_108 = ecx_108 - 0x01;
			} while (ecx_108 != 0x00);
		}
		ecx_101 = ecx_101 & 0x03;
		if ((ecx_101 & 0x03) != 0x00)
		{
			do
			{
				*edi_100.u2 = *esi_113.u2;
				esi_113.u2 = (word256) esi_113.u2 + 0x01;
				edi_100.u2 = (word256) edi_100.u2 + 0x01;
				ecx_101 = ecx_101 - 0x01;
			} while (ecx_101 != 0x00);
		}
	}
	return ecx_101;
}

